<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>IP 주소의 종류 - 고정/유동 IP와 공인/사설 IP, NAT</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { 
      font-family: 'Malgun Gothic', sans-serif; 
      background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 50%, #8b5cf6 100%);
      margin: 0;
      padding: 20px;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.8; }
    }
    @keyframes slideIn {
      from { transform: translateX(-20px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    @keyframes travel {
      0% { transform: translateX(0); }
      50% { transform: translateX(50%); }
      100% { transform: translateX(100%); }
    }
    .animate-slide-in {
      animation: slideIn 0.5s ease-out;
    }
    .animate-travel {
      animation: travel 2s ease-in-out;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    const IPEducation = () => {
      const [activeTab, setActiveTab] = useState('fixed-dynamic');
      const [dynamicIP, setDynamicIP] = useState('192.168.1.100');
      const [devices, setDevices] = useState([
        { name: '💻 컴퓨터', ip: '192.168.0.2' },
        { name: '📱 스마트폰', ip: '192.168.0.3' },
        { name: '📺 TV', ip: '192.168.0.4' }
      ]);
      const [quizAnswers, setQuizAnswers] = useState([null, null, null, null, null]);
      const [showResults, setShowResults] = useState([false, false, false, false, false]);
      const [showTooltip, setShowTooltip] = useState(false);

      // NAT 애니메이션 상태
      const [selectedDevice, setSelectedDevice] = useState(null);
      const [natStep, setNatStep] = useState(0);
      const [isAnimating, setIsAnimating] = useState(false);

      const changeDynamicIP = () => {
        const newIP = '192.168.1.' + Math.floor(Math.random() * 200 + 50);
        setDynamicIP(newIP);
      };

      const addDevice = () => {
        const deviceNames = ['🎮 게임기', '💻 노트북', '⌚ 스마트워치', '🖨️ 프린터', '🎧 이어폰', '🔊 스피커'];
        const randomDevice = deviceNames[Math.floor(Math.random() * deviceNames.length)];
        const newIP = '192.168.0.' + (devices.length + 2);
        setDevices([...devices, { name: randomDevice, ip: newIP }]);
      };

      const checkAnswer = (questionIndex, selectedAnswer, correctAnswer) => {
        const newAnswers = [...quizAnswers];
        const newShowResults = [...showResults];
        newAnswers[questionIndex] = selectedAnswer === correctAnswer;
        newShowResults[questionIndex] = true;
        setQuizAnswers(newAnswers);
        setShowResults(newShowResults);
      };

      const startNATAnimation = (device) => {
        setSelectedDevice(device);
        setNatStep(0);
        setIsAnimating(true);
      };

      useEffect(() => {
        if (isAnimating && natStep < 4) {
          const timer = setTimeout(() => {
            setNatStep(natStep + 1);
          }, 1500);
          return () => clearTimeout(timer);
        } else if (natStep === 4) {
          setTimeout(() => {
            setIsAnimating(false);
            setNatStep(0);
          }, 2000);
        }
      }, [isAnimating, natStep]);

      return (
        <div className="max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden">
          <div className="bg-gradient-to-r from-cyan-600 to-blue-600 p-6 text-white">
            <div className="text-sm mb-2 text-cyan-100">부산진여자상업고등학교 정보 학습자료</div>
            <h1 className="text-3xl font-bold mb-2">🌐 IP 주소의 종류</h1>
            <p className="text-cyan-100">고정/유동 IP와 공인/사설 IP, NAT를 재미있게 배워봅시다!</p>
          </div>

          {/* 탭 메뉴 */}
          <div className="bg-gray-100 px-6 py-4 flex gap-2 border-b border-gray-200 overflow-x-auto">
            <button
              onClick={() => setActiveTab('fixed-dynamic')}
              className={`px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${
                activeTab === 'fixed-dynamic'
                  ? 'bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-gray-50'
              }`}
            >
              고정 IP vs 유동 IP
            </button>
            <button
              onClick={() => setActiveTab('public-private')}
              className={`px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${
                activeTab === 'public-private'
                  ? 'bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-gray-50'
              }`}
            >
              공인 IP vs 사설 IP
            </button>
            <button
              onClick={() => setActiveTab('nat')}
              className={`px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${
                activeTab === 'nat'
                  ? 'bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-gray-50'
              }`}
            >
              NAT 원리
            </button>
            <button
              onClick={() => setActiveTab('quiz')}
              className={`px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${
                activeTab === 'quiz'
                  ? 'bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-gray-50'
              }`}
            >
              퀴즈
            </button>
          </div>

          {/* 고정 IP vs 유동 IP 탭 */}
          {activeTab === 'fixed-dynamic' && (
            <div className="p-8 animate-slide-in">
              <div className="bg-gradient-to-r from-cyan-50 to-blue-50 p-6 rounded-lg border border-cyan-200 mb-6">
                <h3 className="font-bold text-cyan-900 text-lg mb-2">🏠 IP 주소가 뭐예요?</h3>
                <p className="leading-relaxed text-gray-700">
                  <span className="font-bold text-blue-600">IP 주소</span>는 인터넷에 연결된 컴퓨터나 스마트폰의 <span className="font-bold text-cyan-600">주소</span>예요.
                  마치 우리 집에 주소가 있어서 택배를 받을 수 있는 것처럼, 컴퓨터도 IP 주소가 있어야 인터넷에서 데이터를 주고받을 수 있어요!
                </p>
                <div className="bg-white p-3 rounded-lg mt-3 border border-cyan-300">
                  <p className="text-sm"><span className="font-bold text-cyan-700">📍 예시:</span> 192.168.0.1 처럼 점(.)으로 구분된 숫자들이에요.</p>
                </div>
              </div>

              {/* 고정 IP와 유동 IP 비교 */}
              <div className="bg-white p-8 rounded-lg border border-gray-200 shadow-lg mb-6">
                <div className="flex items-center justify-center gap-12 flex-wrap">
                  {/* 고정 IP */}
                  <div className="text-center">
                    <h2 className="text-3xl font-bold text-cyan-600 mb-6">🔒 고정 IP</h2>
                    <div className="flex flex-col items-center gap-4">
                      <div className="bg-gradient-to-br from-cyan-100 to-blue-100 p-6 rounded-2xl border-4 border-cyan-500">
                        <div className="text-6xl mb-3">🏠</div>
                        <div className="font-mono text-xl font-bold text-cyan-800">192.168.1.10</div>
                        <div className="mt-3 text-sm font-bold text-cyan-800">절대 변하지 않는 주소!</div>
                      </div>
                    </div>                    
                    <br/><br/>
                  </div>


                  {/* 화살표 */}
                  <div className="text-center">
                    <div className="text-xl font-bold text-purple-600 mb-2">vs</div>
                    <div className="text-6xl text-purple-500">⚡</div>
                  </div>

                  {/* 유동 IP */}
                  <div className="text-center">
                    <h2 className="text-3xl font-bold text-purple-600 mb-6">🔄 유동 IP</h2>
                    <div className="flex flex-col items-center gap-4">
                      <div className="bg-gradient-to-br from-purple-100 to-pink-100 p-6 rounded-2xl border-4 border-purple-500">
                        <div className="text-6xl mb-3">🏠</div>
                        <div className="font-mono text-xl font-bold text-purple-800" key={dynamicIP}>
                          {dynamicIP}
                        </div>
                        <div className="mt-3 text-sm font-bold text-purple-800">연결할 때마다 바뀌어요!</div>
                      </div>
                      <button
                        onClick={changeDynamicIP}
                        className="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-lg font-bold hover:shadow-lg transition-all"
                      >
                        인터넷 다시 연결
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              {/* 장단점 비교 */}
              <div className="grid md:grid-cols-2 gap-6 mb-6">
                {/* 고정 IP */}
                <div className="bg-gradient-to-br from-cyan-50 to-blue-50 p-6 rounded-lg border border-cyan-300">
                  <h3 className="font-bold text-cyan-900 text-xl mb-4">🔒 고정 IP</h3>
                  <div className="space-y-3">
                    <div className="bg-white p-3 rounded-lg border border-cyan-200">
                      <p className="font-bold text-green-700 mb-1">👍 장점</p>
                      <ul className="text-sm text-gray-700 space-y-1">
                        <li>• 항상 같은 주소라서 서버 운영에 좋아요</li>
                        <li>• 외부에서 쉽게 접속할 수 있어요</li>
                        <li>• 게임 서버, 웹 서버 운영 가능</li>
                      </ul>
                    </div>
                    <div className="bg-white p-3 rounded-lg border border-cyan-200">
                      <p className="font-bold text-red-700 mb-1">👎 단점</p>
                      <ul className="text-sm text-gray-700 space-y-1">
                        <li>• 추가 비용이 들어요 (월 1~2만원)</li>
                        <li>• 보안에 더 신경써야 해요</li>
                      </ul>
                    </div>
                  </div>
                </div>

                {/* 유동 IP */}
                <div className="bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-lg border border-purple-300">
                  <h3 className="font-bold text-purple-900 text-xl mb-4">🔄 유동 IP</h3>
                  <div className="space-y-3">
                    <div className="bg-white p-3 rounded-lg border border-purple-200">
                      <p className="font-bold text-green-700 mb-1">👍 장점</p>
                      <ul className="text-sm text-gray-700 space-y-1">
                        <li>• 무료로 사용할 수 있어요</li>
                        <li>• IP가 계속 바뀌어서 보안에 유리해요</li>
                        <li>• 일반 인터넷 사용에 충분해요</li>
                      </ul>
                    </div>
                    <div className="bg-white p-3 rounded-lg border border-purple-200">
                      <p className="font-bold text-red-700 mb-1">👎 단점</p>
                      <ul className="text-sm text-gray-700 space-y-1">
                        <li>• 서버 운영이 어려워요</li>
                        <li>• 외부에서 접속하기 힘들어요</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              {/* 실생활 예시 */}
              <div className="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-lg border border-yellow-300">
                <h3 className="font-bold text-orange-900 text-lg mb-3">💡 실생활에서는 이렇게 사용해요!</h3>
                <div className="grid md:grid-cols-2 gap-4">
                  <div className="bg-white p-4 rounded-lg border border-yellow-300">
                    <p className="font-bold text-cyan-700 mb-2">🔒 고정 IP를 사용하는 경우</p>
                    <ul className="text-sm text-gray-700 space-y-1">
                      <li>• 마인크래프트 서버 운영</li>
                      <li>• 회사 웹사이트 호스팅</li>
                      <li>• CCTV 원격 모니터링</li>
                      <li>• FTP 파일 서버</li>
                    </ul>
                  </div>
                  <div className="bg-white p-4 rounded-lg border border-yellow-300">
                    <p className="font-bold text-purple-700 mb-2">🔄 유동 IP를 사용하는 경우</p>
                    <ul className="text-sm text-gray-700 space-y-1">
                      <li>• 일반 가정집 인터넷</li>
                      <li>• 웹서핑, 유튜브 시청</li>
                      <li>• 온라인 게임 접속</li>
                      <li>• 카톡, 인스타그램 사용</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          )}

          {/* 공인 IP vs 사설 IP 탭 */}
          {activeTab === 'public-private' && (
            <div className="p-8 animate-slide-in">
              <div className="bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg border border-green-300 mb-6">
                <h3 className="font-bold text-green-900 text-lg mb-2">🌍 공인 IP와 사설 IP는 왜 필요할까요?</h3>
                <p className="leading-relaxed text-gray-700">
                  전 세계 사람들이 모두 인터넷을 사용하는데, IP 주소가 부족해요! 
                  그래서 <span className="font-bold text-green-600">공인 IP</span>는 전 세계에서 하나만 있고,
                  <span className="font-bold text-blue-600"> 사설 IP</span>는 집 안에서만 사용하는 주소로 나눴어요.
                </p>
              </div>

              {/* 우리집 네트워크 시각화 */}
              <div className="bg-white p-8 rounded-lg border border-gray-200 shadow-lg mb-6">
                <h3 className="text-2xl font-bold text-center mb-6 text-gray-800">🏠 우리 집 네트워크</h3>
                
                <div className="flex flex-col items-center gap-8">
                  {/* 인터넷 (공인 IP) */}
                  <div className="text-center">
                    <div className="bg-gradient-to-br from-blue-500 to-purple-600 text-white p-6 rounded-2xl shadow-xl">
                      <div className="text-5xl mb-2">🌐</div>
                      <div className="font-bold text-xl">인터넷</div>
                      <div className="bg-white text-blue-600 font-mono font-bold px-4 py-2 rounded-lg mt-2">
                        203.123.45.67
                      </div>
                      <div className="text-sm mt-1 text-blue-100">공인 IP (전 세계에 딱 하나!)</div>
                    </div>
                  </div>

                  {/* 연결선 */}
                  <div className="text-4xl text-gray-400">⬇️</div>

                  {/* 공유기 */}
                  <div className="text-center">
                    <div className="bg-gradient-to-br from-orange-400 to-red-500 text-white p-6 rounded-2xl shadow-xl">
                      <div className="text-5xl mb-2">📡</div>
                      <div className="font-bold text-xl">공유기  (라우터)</div>
                      <div className="text-sm mt-1">주소 변환 장치</div>
                    </div>
                  </div>

                  {/* 연결선 */}
                  <div className="text-4xl text-gray-400">⬇️</div>

                  {/* 집 안 기기들 (사설 IP) */}
                  <div className="bg-gradient-to-r from-cyan-50 to-blue-50 p-6 rounded-lg border-2 border-cyan-300 w-full">
                    <div className="text-center mb-4">
                      <div className="font-bold text-cyan-900 text-lg">집 안 네트워크 (사설 IP)</div>
                      <div className="text-sm text-gray-600">우리 집 안에서만 사용하는 주소들</div>
                    </div>
                    <div className="flex flex-wrap justify-center gap-4">
                      {devices.map((device, idx) => (
                        <div key={idx} className="bg-white p-4 rounded-lg border border-cyan-300 text-center">
                          <div className="text-3xl mb-2">{device.name}</div>
                          <div className="font-mono text-sm font-bold text-cyan-700">{device.ip}</div>
                        </div>
                      ))}
                    </div>
                    <button
                      onClick={addDevice}
                      className="mt-4 w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:shadow-lg transition-all"
                    >
                      ➕ 기기 추가하기
                    </button>
                  </div>
                </div>
              </div>

              {/* 주요 특징 비교 */}
              <div className="grid md:grid-cols-2 gap-6 mb-6">
                <div className="bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-300">
                  <h3 className="font-bold text-blue-900 text-xl mb-4 flex items-center gap-2">
                    🌍 공인 IP (Public IP)
                  </h3>
                  <div className="space-y-3">
                    <div className="bg-white p-3 rounded-lg border border-blue-200">
                      <p className="font-bold text-blue-700 mb-1">📍 특징</p>
                      <ul className="text-sm text-gray-700 space-y-1">
                        <li>• 전 세계에서 유일한 주소</li>
                        <li>• 통신사(KT, SK 등)가 제공</li>
                        <li>• 인터넷에서 직접 접근 가능</li>
                        <li>• 한정된 개수 (약 43억 개)</li>
                      </ul>
                    </div>
                    <div className="bg-white p-3 rounded-lg border border-blue-200">
                      <p className="font-bold text-blue-700 mb-1">📌 예시</p>
                      <p className="text-sm text-gray-700 font-mono">203.123.45.67</p>
                      <p className="text-sm text-gray-700 font-mono">8.8.8.8 (구글 DNS)</p>
                    </div>
                  </div>
                </div>

                <div className="bg-gradient-to-br from-cyan-50 to-teal-50 p-6 rounded-lg border border-cyan-300">
                  <h3 className="font-bold text-cyan-900 text-xl mb-4 flex items-center gap-2">
                    🏠 사설 IP (Private IP)
                  </h3>
                  <div className="space-y-3">
                    <div className="bg-white p-3 rounded-lg border border-cyan-200">
                      <p className="font-bold text-cyan-700 mb-1">📍 특징</p>
                      <ul className="text-sm text-gray-700 space-y-1">
                        <li>• 집이나 회사 안에서만 사용</li>
                        <li>• 공유기가 자동으로 배정</li>
                        <li>• 인터넷에서 직접 접근 불가</li>
                        <li>• 무제한으로 사용 가능</li>
                      </ul>
                    </div>
                    <div className="bg-white p-3 rounded-lg border border-cyan-200">
                      <p className="font-bold text-cyan-700 mb-1">📌 대표적인 범위</p>
                      <p className="text-sm text-gray-700 font-mono">192.168.x.x</p>
                      <p className="text-sm text-gray-700 font-mono">10.x.x.x</p>
                      <p className="text-sm text-gray-700 font-mono">172.16.x.x ~ 172.31.x.x</p>
                    </div>
                  </div>
                </div>
              </div>

              {/* 왜 이렇게 나눴을까요? */}
              <div className="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-lg border border-yellow-300">
                <h3 className="font-bold text-orange-900 text-lg mb-3">💡 왜 공인 IP와 사설 IP로 나눴을까요?</h3>
                <div className="bg-white p-4 rounded-lg border border-yellow-300 mb-3">
                  <p className="font-bold text-red-600 mb-2">❌ 문제: IP 주소가 부족해요!</p>
                  <p className="text-sm text-gray-700">
                    IPv4는 약 43억 개의 주소만 만들 수 있어요. 하지만 전 세계 인터넷 기기는 
                    수백억 개! 모든 기기에 공인 IP를 주면 주소가 부족해요.
                  </p>
                </div>
                <div className="bg-white p-4 rounded-lg border border-yellow-300">
                  <p className="font-bold text-green-600 mb-2">✅ 해결: 사설 IP를 사용해요!</p>
                  <p className="text-sm text-gray-700">
                    집마다 하나의 공인 IP만 사용하고, 집 안 기기들은 사설 IP를 사용해요.
                    이렇게 하면 43억 개의 공인 IP로 전 세계 모든 사람이 인터넷을 쓸 수 있어요!
                  </p>
                </div>
              </div>
            </div>
          )}

          {/* NAT 원리 탭 */}
          {activeTab === 'nat' && (
            <div className="p-8 animate-slide-in">
              <div className="bg-gradient-to-r from-orange-50 to-red-50 p-6 rounded-lg border border-orange-300 mb-6">
                <h3 className="font-bold text-orange-900 text-xl mb-3">🔄 NAT가 뭔가요?</h3>
                <p className="leading-relaxed text-gray-700 mb-2">
                  <span className="font-bold text-orange-600">NAT</span>는 <span className="font-bold">Network Address Translation</span>의 약자로, 
                  <span className="font-bold text-blue-600"> "네트워크 주소 변환"</span>이라는 뜻이에요.
                </p>
                <p className="leading-relaxed text-gray-700">
                  쉽게 말하면, 공유기가 <span className="font-bold text-green-600">사설 IP</span>를 
                  <span className="font-bold text-purple-600"> 공인 IP</span>로 바꿔주는 일을 해요! 
                  마치 <span className="font-bold">통역사</span>처럼요! 🗣️
                </p>
              </div>

              {/* 비유로 이해하기 */}
              <div className="bg-white p-6 rounded-lg border border-gray-200 shadow-lg mb-6">
                <h3 className="font-bold text-gray-800 text-xl mb-4 text-center">🏢 아파트 우편물로 이해하는 NAT</h3>
                <div className="grid md:grid-cols-3 gap-4">
                  <div className="bg-blue-50 p-4 rounded-lg border border-blue-300 text-center">
                    <div className="text-4xl mb-2">📬</div>
                    <p className="font-bold text-blue-700 mb-2">집 주소 = 공인 IP</p>
                    <p className="text-sm text-gray-700">서울시 강남구 123번지<br/>(203.123.45.67)</p>
                  </div>
                  <div className="bg-orange-50 p-4 rounded-lg border border-orange-300 text-center">
                    <div className="text-4xl mb-2">🚪</div>
                    <p className="font-bold text-orange-700 mb-2">경비실 = 공유기</p>
                    <p className="text-sm text-gray-700">우편물을 받아서<br/>각 집으로 배달</p>
                  </div>
                  <div className="bg-cyan-50 p-4 rounded-lg border border-cyan-300 text-center">
                    <div className="text-4xl mb-2">🏠</div>
                    <p className="font-bold text-cyan-700 mb-2">호수 = 사설 IP</p>
                    <p className="text-sm text-gray-700">101호, 102호, 103호<br/>(192.168.0.2, 192.168.0.3...)</p>
                  </div>
                </div>
                <div className="bg-yellow-50 p-4 rounded-lg border border-yellow-300 mt-4">
                  <p className="text-sm text-gray-700 leading-relaxed">
                    <span className="font-bold">💡 설명:</span> 우체부는 아파트 주소(공인 IP)만 알고 있어요. 
                    경비실(공유기)에서 우편물을 받아서 101호(192.168.0.2), 102호(192.168.0.3)로 나눠주는 것처럼, 
                    NAT는 인터넷 데이터를 각 기기로 전달해줘요!
                  </p>
                </div>
              </div>

              {/* NAT 동작 과정 인터랙티브 */}
              <div className="bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-lg border border-purple-300 mb-6">
                <h3 className="font-bold text-purple-900 text-xl mb-4 text-center">🔄 NAT 동작 과정 (클릭해보세요!)</h3>
                
                {!isAnimating && (
                  <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mb-6">
                    {[
                      { name: '💻 컴퓨터', ip: '192.168.0.2' },
                      { name: '📱 스마트폰', ip: '192.168.0.3' },
                      { name: '📺 TV', ip: '192.168.0.4' }
                    ].map((device, idx) => (
                      <button
                        key={idx}
                        onClick={() => startNATAnimation(device)}
                        className="bg-white p-4 rounded-lg border-2 border-cyan-300 hover:border-purple-500 hover:shadow-lg transition-all"
                      >
                        <div className="text-3xl mb-2">{device.name}</div>
                        <div className="font-mono text-sm font-bold text-cyan-700">{device.ip}</div>
                        <div className="text-xs text-gray-500 mt-2">클릭하여 작동 확인</div>
                      </button>
                    ))}
                  </div>
                )}

                {isAnimating && selectedDevice && (
                  <div className="space-y-6">
                    {/* 단계별 설명 */}
                    <div className="bg-white p-4 rounded-lg border border-purple-300">
                      <div className="flex items-center gap-3 mb-2">
                        <div className="w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold">
                          {natStep + 1}
                        </div>
                        <p className="font-bold text-gray-800">
                          {natStep === 0 && `${selectedDevice.name}이(가) 유튜브를 보고 싶어요!`}
                          {natStep === 1 && "공유기에게 요청을 보냅니다"}
                          {natStep === 2 && "공유기가 사설 IP를 공인 IP로 변환합니다"}
                          {natStep === 3 && "인터넷으로 데이터를 보냅니다"}
                          {natStep === 4 && "응답이 돌아오면 다시 사설 IP로 변환하여 전달합니다"}
                        </p>
                      </div>
                    </div>

                    {/* 시각화 */}
                    <div className="relative bg-white p-8 rounded-lg border border-gray-300 min-h-64">
                      {/* 기기 */}
                      <div className={`absolute left-8 top-1/2 -translate-y-1/2 transition-all duration-500 ${natStep >= 1 ? 'opacity-100' : 'opacity-50'}`}>
                        <div className="bg-cyan-100 p-4 rounded-lg border-2 border-cyan-500 text-center">
                          <div className="text-4xl mb-2">{selectedDevice.name}</div>
                          <div className="font-mono text-xs font-bold text-cyan-700">{selectedDevice.ip}</div>
                          <div className="text-xs text-gray-600 mt-1">사설 IP</div>
                        </div>
                      </div>

                      {/* 화살표 1 (기기 → 공유기) */}
                      {natStep >= 1 && (
                        <div className="absolute left-32 top-1/2 -translate-y-1/2 w-24">
                          <div className="text-3xl animate-pulse">→</div>
                          <div className="text-xs text-gray-600 text-center mt-1">요청</div>
                        </div>
                      )}

                      {/* 공유기 */}
                      <div className={`absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 transition-all duration-500 ${natStep >= 2 ? 'scale-110 opacity-100' : 'opacity-50'}`}>
                        <div className="bg-orange-100 p-4 rounded-lg border-2 border-orange-500 text-center">
                          <div className="text-4xl mb-2">📡</div>
                          <div className="font-bold text-orange-700">공유기</div>
                          <div className="text-xs text-gray-600 mt-1">NAT 변환 중</div>
                          {natStep >= 2 && (
                            <div className="mt-2 text-xs space-y-1">
                              <div className="text-cyan-700 font-mono">{selectedDevice.ip}</div>
                              <div>⬇️</div>
                              <div className="text-purple-700 font-mono">203.123.45.67</div>
                            </div>
                          )}
                        </div>
                      </div>

                      {/* 화살표 2 (공유기 → 인터넷) */}
                      {natStep >= 3 && (
                        <div className="absolute right-32 top-1/2 -translate-y-1/2 w-24">
                          <div className="text-3xl animate-pulse">→</div>
                          <div className="text-xs text-gray-600 text-center mt-1">변환됨</div>
                        </div>
                      )}

                      {/* 인터넷 */}
                      <div className={`absolute right-8 top-1/2 -translate-y-1/2 transition-all duration-500 ${natStep >= 3 ? 'opacity-100' : 'opacity-50'}`}>
                        <div className="bg-purple-100 p-4 rounded-lg border-2 border-purple-500 text-center">
                          <div className="text-4xl mb-2">🌐</div>
                          <div className="font-bold text-purple-700">인터넷</div>
                          <div className="font-mono text-xs font-bold text-purple-700 mt-1">203.123.45.67</div>
                          <div className="text-xs text-gray-600 mt-1">공인 IP</div>
                        </div>
                      </div>

                      {/* 화살표 3 (인터넷 → 공유기, 응답) */}
                      {natStep >= 4 && (
                        <div className="absolute right-32 bottom-12 w-24">
                          <div className="text-3xl animate-pulse text-green-600">←</div>
                          <div className="text-xs text-green-600 text-center mt-1">응답</div>
                        </div>
                      )}

                      {/* 화살표 4 (공유기 → 기기, 응답) */}
                      {natStep >= 4 && (
                        <div className="absolute left-32 bottom-12 w-24">
                          <div className="text-3xl animate-pulse text-green-600">←</div>
                          <div className="text-xs text-green-600 text-center mt-1">응답</div>
                        </div>
                      )}
                    </div>
                  </div>
                )}
              </div>

              {/* NAT 테이블 설명 */}
              <div className="bg-white p-6 rounded-lg border border-gray-200 shadow-lg mb-6">
                <h3 className="font-bold text-gray-800 text-xl mb-4">📋 NAT 변환 테이블</h3>
                <p className="text-sm text-gray-600 mb-4">
                  공유기는 어떤 기기가 어떤 요청을 보냈는지 기억하기 위해 테이블을 만들어요!
                </p>
                <div className="overflow-x-auto">
                  <table className="w-full border-collapse">
                    <thead>
                      <tr className="bg-gradient-to-r from-cyan-600 to-blue-600 text-white">
                        <th className="border border-gray-300 px-4 py-3 text-left">내부 주소 (사설 IP)</th>
                        <th className="border border-gray-300 px-4 py-3 text-left">포트</th>
                        <th className="border border-gray-300 px-4 py-3 text-center">↔️</th>
                        <th className="border border-gray-300 px-4 py-3 text-left">외부 주소 (공인 IP)</th>
                        <th className="border border-gray-300 px-4 py-3 text-left">포트</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr className="bg-cyan-50">
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">192.168.0.2</td>
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">5001</td>
                        <td className="border border-gray-300 px-4 py-3 text-center">🔄</td>
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">203.123.45.67</td>
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">5001</td>
                      </tr>
                      <tr className="bg-white">
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">192.168.0.3</td>
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">5002</td>
                        <td className="border border-gray-300 px-4 py-3 text-center">🔄</td>
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">203.123.45.67</td>
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">5002</td>
                      </tr>
                      <tr className="bg-cyan-50">
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">192.168.0.4</td>
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">5003</td>
                        <td className="border border-gray-300 px-4 py-3 text-center">🔄</td>
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">203.123.45.67</td>
                        <td className="border border-gray-300 px-4 py-3 font-mono text-sm">5003</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div className="bg-yellow-50 p-4 rounded-lg border border-yellow-300 mt-4">
                  <p className="text-sm text-gray-700">
                    <span className="font-bold">💡 포인트:</span> 공유기는 포트 번호를 사용해서 어느 기기에서 온 데이터인지 구분해요!
                  </p>
                </div>
              </div>

              {/* NAT의 장점 */}
              <div className="grid md:grid-cols-2 gap-6">
                <div className="bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-lg border border-green-300">
                  <h3 className="font-bold text-green-900 text-lg mb-3">👍 NAT의 장점</h3>
                  <ul className="space-y-2 text-sm text-gray-700">
                    <li className="flex items-start gap-2">
                      <span className="text-green-600 font-bold">✓</span>
                      <span><span className="font-bold">IP 주소 절약:</span> 하나의 공인 IP로 여러 기기 사용 가능</span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-green-600 font-bold">✓</span>
                      <span><span className="font-bold">보안 강화:</span> 외부에서 내부 기기를 직접 볼 수 없음</span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-green-600 font-bold">✓</span>
                      <span><span className="font-bold">비용 절감:</span> 공인 IP를 적게 사용하므로 저렴</span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-green-600 font-bold">✓</span>
                      <span><span className="font-bold">유연성:</span> 내부 네트워크를 자유롭게 구성 가능</span>
                    </li>
                  </ul>
                </div>

                <div className="bg-gradient-to-br from-orange-50 to-red-50 p-6 rounded-lg border border-orange-300">
                  <h3 className="font-bold text-orange-900 text-lg mb-3">👎 NAT의 단점</h3>
                  <ul className="space-y-2 text-sm text-gray-700">
                    <li className="flex items-start gap-2">
                      <span className="text-orange-600 font-bold">✗</span>
                      <span><span className="font-bold">서버 운영 어려움:</span> 외부에서 내부로 직접 접속 불가</span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-orange-600 font-bold">✗</span>
                      <span><span className="font-bold">처리 속도:</span> 주소 변환에 약간의 시간 소요</span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-orange-600 font-bold">✗</span>
                      <span><span className="font-bold">일부 앱 문제:</span> P2P 프로그램 등에서 제약 가능</span>
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-orange-600 font-bold">✗</span>
                      <span><span className="font-bold">포트 포워딩 필요:</span> 서버 운영 시 추가 설정 필요</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          )}

          {/* 퀴즈 탭 */}
          {activeTab === 'quiz' && (
            <div className="p-8 animate-slide-in">
              <div className="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg border border-purple-300 mb-6">
                <h3 className="font-bold text-purple-900 text-xl mb-2">📝 퀴즈를 풀어보세요!</h3>
                <p className="text-gray-700">지금까지 배운 내용을 확인해봅시다!</p>
              </div>

              <div className="space-y-6">
                {/* 문제 1 */}
                <div className="bg-white p-6 rounded-lg border border-gray-200 shadow-md">
                  <h4 className="font-bold text-lg mb-4 text-gray-800">문제 1. 고정 IP에 대한 설명으로 맞는 것은?</h4>
                  <div className="space-y-2">
                    {[
                      { text: '인터넷에 연결할 때마다 주소가 바뀐다', correct: false },
                      { text: '항상 같은 IP 주소를 사용한다', correct: true },
                      { text: '무료로 사용할 수 있다', correct: false },
                      { text: '집 안에서만 사용하는 주소다', correct: false }
                    ].map((option, idx) => (
                      <button
                        key={idx}
                        onClick={() => checkAnswer(0, option.correct, true)}
                        disabled={showResults[0]}
                        className={`w-full text-left p-3 rounded-lg border-2 transition-all ${
                          showResults[0]
                            ? option.correct
                              ? 'bg-green-100 border-green-500 text-green-800'
                              : quizAnswers[0] === option.correct
                              ? 'bg-red-100 border-red-500 text-red-800'
                              : 'bg-gray-100 border-gray-300 text-gray-500'
                            : 'border-gray-300 hover:border-cyan-500 hover:bg-cyan-50'
                        }`}
                      >
                        {option.text}
                      </button>
                    ))}
                  </div>
                  {showResults[0] && (
                    <div className={`mt-4 p-3 rounded-lg ${quizAnswers[0] ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                      {quizAnswers[0] ? '🎉 정답입니다!' : '😅 아쉽네요! 고정 IP는 항상 같은 주소를 유지해요.'}
                    </div>
                  )}
                </div>

                {/* 문제 2 */}
                <div className="bg-white p-6 rounded-lg border border-gray-200 shadow-md">
                  <h4 className="font-bold text-lg mb-4 text-gray-800">문제 2. 192.168.0.5는 어떤 IP인가요?</h4>
                  <div className="space-y-2">
                    {[
                      { text: '공인 IP', correct: false },
                      { text: '사설 IP', correct: true },
                      { text: '고정 IP', correct: false },
                      { text: '유동 IP', correct: false }
                    ].map((option, idx) => (
                      <button
                        key={idx}
                        onClick={() => checkAnswer(1, option.correct, true)}
                        disabled={showResults[1]}
                        className={`w-full text-left p-3 rounded-lg border-2 transition-all ${
                          showResults[1]
                            ? option.correct
                              ? 'bg-green-100 border-green-500 text-green-800'
                              : quizAnswers[1] === option.correct
                              ? 'bg-red-100 border-red-500 text-red-800'
                              : 'bg-gray-100 border-gray-300 text-gray-500'
                            : 'border-gray-300 hover:border-cyan-500 hover:bg-cyan-50'
                        }`}
                      >
                        {option.text}
                      </button>
                    ))}
                  </div>
                  {showResults[1] && (
                    <div className={`mt-4 p-3 rounded-lg ${quizAnswers[1] ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                      {quizAnswers[1] ? '🎉 정답입니다! 192.168로 시작하는 주소는 사설 IP예요.' : '😅 아쉽네요! 192.168.x.x는 대표적인 사설 IP 범위예요.'}
                    </div>
                  )}
                </div>

                {/* 문제 3 */}
                <div className="bg-white p-6 rounded-lg border border-gray-200 shadow-md">
                  <h4 className="font-bold text-lg mb-4 text-gray-800">문제 3. 우리 집 공유기에 연결된 기기들은 무엇을 사용하나요?</h4>
                  <div className="space-y-2">
                    {[
                      { text: '모두 같은 사설 IP를 사용한다', correct: false },
                      { text: '각각 다른 사설 IP를 사용한다', correct: true },
                      { text: '각각 다른 공인 IP를 사용한다', correct: false },
                      { text: 'IP 주소가 필요 없다', correct: false }
                    ].map((option, idx) => (
                      <button
                        key={idx}
                        onClick={() => checkAnswer(2, option.correct, true)}
                        disabled={showResults[2]}
                        className={`w-full text-left p-3 rounded-lg border-2 transition-all ${
                          showResults[2]
                            ? option.correct
                              ? 'bg-green-100 border-green-500 text-green-800'
                              : quizAnswers[2] === option.correct
                              ? 'bg-red-100 border-red-500 text-red-800'
                              : 'bg-gray-100 border-gray-300 text-gray-500'
                            : 'border-gray-300 hover:border-cyan-500 hover:bg-cyan-50'
                        }`}
                      >
                        {option.text}
                      </button>
                    ))}
                  </div>
                  {showResults[2] && (
                    <div className={`mt-4 p-3 rounded-lg ${quizAnswers[2] ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                      {quizAnswers[2] ? '🎉 정답입니다! 각 기기는 고유한 사설 IP를 받아요.' : '😅 아쉽네요! 공유기가 각 기기에 서로 다른 사설 IP를 배정해요.'}
                    </div>
                  )}
                </div>

                {/* 문제 4 */}
                <div className="bg-white p-6 rounded-lg border border-gray-200 shadow-md">
                  <h4 className="font-bold text-lg mb-4 text-gray-800">문제 4. 게임 서버를 운영하려면 어떤 IP가 필요한가요?</h4>
                  <div className="space-y-2">
                    {[
                      { text: '사설 IP', correct: false },
                      { text: '유동 IP', correct: false },
                      { text: '고정 공인 IP', correct: true },
                      { text: 'IP 주소가 필요 없다', correct: false }
                    ].map((option, idx) => (
                      <button
                        key={idx}
                        onClick={() => checkAnswer(3, option.correct, true)}
                        disabled={showResults[3]}
                        className={`w-full text-left p-3 rounded-lg border-2 transition-all ${
                          showResults[3]
                            ? option.correct
                              ? 'bg-green-100 border-green-500 text-green-800'
                              : quizAnswers[3] === option.correct
                              ? 'bg-red-100 border-red-500 text-red-800'
                              : 'bg-gray-100 border-gray-300 text-gray-500'
                            : 'border-gray-300 hover:border-cyan-500 hover:bg-cyan-50'
                        }`}
                      >
                        {option.text}
                      </button>
                    ))}
                  </div>
                  {showResults[3] && (
                    <div className={`mt-4 p-3 rounded-lg ${quizAnswers[3] ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                      {quizAnswers[3] ? '🎉 정답입니다! 서버는 항상 같은 주소를 유지해야 해요.' : '😅 아쉽네요! 서버는 고정 공인 IP가 있어야 사람들이 접속할 수 있어요.'}
                    </div>
                  )}
                </div>

                {/* 문제 5 - NAT */}
                <div className="bg-white p-6 rounded-lg border border-gray-200 shadow-md">
                  <h4 className="font-bold text-lg mb-4 text-gray-800">문제 5. NAT의 역할은 무엇인가요?</h4>
                  <div className="space-y-2">
                    {[
                      { text: '사설 IP를 공인 IP로 변환해준다', correct: true },
                      { text: '인터넷 속도를 빠르게 해준다', correct: false },
                      { text: '바이러스를 차단해준다', correct: false },
                      { text: 'Wi-Fi 신호를 강하게 해준다', correct: false }
                    ].map((option, idx) => (
                      <button
                        key={idx}
                        onClick={() => checkAnswer(4, option.correct, true)}
                        disabled={showResults[4]}
                        className={`w-full text-left p-3 rounded-lg border-2 transition-all ${
                          showResults[4]
                            ? option.correct
                              ? 'bg-green-100 border-green-500 text-green-800'
                              : quizAnswers[4] === option.correct
                              ? 'bg-red-100 border-red-500 text-red-800'
                              : 'bg-gray-100 border-gray-300 text-gray-500'
                            : 'border-gray-300 hover:border-cyan-500 hover:bg-cyan-50'
                        }`}
                      >
                        {option.text}
                      </button>
                    ))}
                  </div>
                  {showResults[4] && (
                    <div className={`mt-4 p-3 rounded-lg ${quizAnswers[4] ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                      {quizAnswers[4] ? '🎉 정답입니다! NAT는 사설 IP를 공인 IP로 변환하는 네트워크 주소 변환 기술이에요.' : '😅 아쉽네요! NAT는 Network Address Translation으로, 사설 IP를 공인 IP로 변환해주는 역할을 해요.'}
                    </div>
                  )}
                </div>
              </div>

              {showResults.every(r => r) && (
                <div className="bg-gradient-to-r from-cyan-500 to-blue-600 text-white p-6 rounded-lg text-center mt-6">
                  <h3 className="text-2xl font-bold mb-2 relative">
                    <span 
                      onClick={() => {
                        setShowTooltip(true);
                        setTimeout(() => setShowTooltip(false), 500);
                      }}
                      className="cursor-pointer relative inline-block"
                    >
                      🎊
                      {showTooltip && (
                        <span className="absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-3 py-1 rounded text-sm whitespace-nowrap">
                          참새다!
                        </span>
                      )}
                    </span> 퀴즈 완료!
                  </h3>
                  <p className="text-lg">
                    {quizAnswers.filter(a => a).length}개 / 5개 정답
                  </p>
                  <p className="mt-2">
                    {quizAnswers.filter(a => a).length === 5 
                      ? '완벽해요! IP 주소와 NAT를 모두 이해하셨네요! 👏'
                      : '다시 한번 복습해보세요! 💪'}
                  </p>
                </div>
              )}
            </div>
          )}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<IPEducation />);
  </script>
</body>
</html>
