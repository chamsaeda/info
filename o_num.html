<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🔐 자물쇠로 배우는 경우의 수</title>
  <style>
    /* ===== Reset & Base ===== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    a { text-decoration: none; }
    body {
      font-family: 'Malgun Gothic', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }

    /* ===== Tailwind-equivalent utilities ===== */
    .max-w-7xl   { max-width: 80rem; }
    .mx-auto     { margin-left: auto; margin-right: auto; }
    .overflow-hidden { overflow: hidden; }
    .rounded-2xl { border-radius: 1rem; }
    .shadow-2xl  { box-shadow: 0 25px 50px -12px rgba(0,0,0,.25); }
    .bg-white    { background-color: #fff; }

    /* flex */
    .flex        { display: flex; }
    .inline-block{ display: inline-block; }
    .grid        { display: grid; }
    .flex-col    { flex-direction: column; }
    .flex-wrap   { flex-wrap: wrap; }
    .items-center{ align-items: center; }
    .items-start { align-items: flex-start; }
    .justify-center  { justify-content: center; }
    .justify-between { justify-content: space-between; }
    .flex-shrink-0   { flex-shrink: 0; }
    .gap-2  { gap: .5rem; }
    .gap-3  { gap: .75rem; }
    .gap-4  { gap: 1rem; }
    .gap-8  { gap: 2rem; }
    .space-y-3 > * + * { margin-top: .75rem; }

    /* grid */
    @media (min-width: 768px) {
      .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
    }

    /* position */
    .relative { position: relative; }
    .absolute { position: absolute; }

    /* sizing */
    .w-6  { width: 1.5rem; }
    .w-8  { width: 2rem; }
    .w-10 { width: 2.5rem; }
    .w-16 { width: 4rem; }
    .w-20 { width: 5rem; }
    .w-32 { width: 8rem; }
    .h-8  { height: 2rem; }
    .h-9  { height: 2.25rem; }
    .h-10 { height: 2.5rem; }
    .h-28 { height: 7rem; }
    .h-44 { height: 11rem; }

    /* spacing */
    .p-4  { padding: 1rem; }
    .p-5  { padding: 1.25rem; }
    .p-6  { padding: 1.5rem; }
    .p-8  { padding: 2rem; }
    .px-4 { padding-left: 1rem; padding-right: 1rem; }
    .px-8 { padding-left: 2rem; padding-right: 2rem; }
    .py-2 { padding-top: .5rem; padding-bottom: .5rem; }
    .py-3 { padding-top: .75rem; padding-bottom: .75rem; }
    .mt-1 { margin-top: .25rem; }
    .mt-4 { margin-top: 1rem; }
    .mt-6 { margin-top: 1.5rem; }
    .mt-8 { margin-top: 2rem; }
    .mb-2 { margin-bottom: .5rem; }
    .mb-3 { margin-bottom: .75rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-6 { margin-bottom: 1.5rem; }
    .ml-24{ margin-left: 6rem; }
    .my-4 { margin-top: 1rem; margin-bottom: 1rem; }
    .-mt-5{ margin-top: -1.25rem; }

    /* positioning helpers */
    .top-1\/2      { top: 50%; }
    .right-20      { right: 5rem; }
    .-translate-y-1\/2     { transform: translateY(-50%); }
    .-translate-y-26px     { transform: translateY(-26px); }
    .-translate-x-16       { transform: translateX(-4rem); }
    .translate-x-4px       { transform: translateX(4px); }

    /* text */
    .text-sm  { font-size: .875rem; line-height: 1.25rem; }
    .text-lg  { font-size: 1.125rem; line-height: 1.75rem; }
    .text-xl  { font-size: 1.25rem; line-height: 1.75rem; }
    .text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
    .text-5xl { font-size: 3rem; line-height: 1; }
    .font-bold    { font-weight: 700; }
    .font-semibold{ font-weight: 600; }
    .font-mono    { font-family: ui-monospace, monospace; }
    .leading-relaxed { line-height: 1.625; }
    .tracking-widest { letter-spacing: .2em; }
    .text-center  { text-align: center; }
    .opacity-90   { opacity: .9; }

    /* colors - text */
    .text-white       { color: #fff; }
    .text-gray-600    { color: #4b5563; }
    .text-gray-700    { color: #374151; }
    .text-gray-800    { color: #1f2937; }
    .text-blue-600    { color: #2563eb; }
    .text-blue-700    { color: #1d4ed8; }
    .text-blue-900    { color: #1e3a8a; }
    .text-green-600   { color: #16a34a; }
    .text-green-700   { color: #15803d; }
    .text-green-900   { color: #14532d; }
    .text-indigo-100  { color: #e0e7ff; }
    .text-indigo-600  { color: #4f46e5; }
    .text-indigo-700  { color: #4338ca; }
    .text-indigo-900  { color: #312e81; }
    .text-orange-600  { color: #ea580c; }
    .text-orange-700  { color: #c2410c; }
    .text-orange-900  { color: #7c2d12; }
    .text-purple-600  { color: #9333ea; }
    .text-purple-700  { color: #7e22ce; }
    .text-purple-900  { color: #581c87; }
    .text-red-600     { color: #dc2626; }
    .text-yellow-900  { color: #713f12; }

    /* colors - background */
    .bg-gray-50       { background-color: #f9fafb; }
    .bg-gray-600      { background-color: #4b5563; }
    .bg-blue-50       { background-color: #eff6ff; }
    .bg-yellow-50     { background-color: #fefce8; }
    .bg-green-500     { background-color: #22c55e; }
    .bg-indigo-500    { background-color: #6366f1; }
    .bg-orange-500    { background-color: #f97316; }
    .bg-purple-500    { background-color: #a855f7; }

    /* gradients */
    .bg-gradient-to-r  { background-image: linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to)); }
    .bg-gradient-to-b  { background-image: linear-gradient(to bottom, var(--tw-gradient-from), var(--tw-gradient-to)); }
    .bg-gradient-to-br { background-image: linear-gradient(to bottom right, var(--tw-gradient-from), var(--tw-gradient-to)); }
    .bg-gradient-to-l  { background-image: linear-gradient(to left, var(--tw-gradient-from), var(--tw-gradient-to)); }

    .from-blue-50    { --tw-gradient-from: #eff6ff; }
    .from-cyan-50    { --tw-gradient-from: #ecfeff; }  /* fallback */
    .from-gray-500   { --tw-gradient-from: #6b7280; }
    .from-gray-600   { --tw-gradient-from: #4b5563; }
    .from-gray-700   { --tw-gradient-from: #374151; }
    .from-gray-900   { --tw-gradient-from: #111827; }
    .from-green-50   { --tw-gradient-from: #f0fdf4; }
    .from-indigo-500 { --tw-gradient-from: #6366f1; }
    .from-indigo-600 { --tw-gradient-from: #4f46e5; }
    .from-orange-50  { --tw-gradient-from: #fff7ed; }
    .from-purple-50  { --tw-gradient-from: #faf5ff; }

    .to-black        { --tw-gradient-to: #000; }
    .to-cyan-50      { --tw-gradient-to: #ecfeff; }
    .to-emerald-50   { --tw-gradient-to: #ecfdf5; }
    .to-gray-500     { --tw-gradient-to: #6b7280; }
    .to-gray-700     { --tw-gradient-to: #374151; }
    .to-indigo-50    { --tw-gradient-to: #eef2ff; }
    .to-pink-50      { --tw-gradient-to: #fdf2f8; }
    .to-purple-600   { --tw-gradient-to: #9333ea; }
    .to-yellow-50    { --tw-gradient-to: #fefce8; }

    /* borders */
    .border      { border-width: 1px; border-style: solid; }
    .border-2    { border-width: 2px; border-style: solid; }
    .border-3    { border-width: 3px; border-style: solid; }
    .border-4    { border-width: 4px; border-style: solid; }
    .border-b    { border-bottom-width: 1px; border-bottom-style: solid; }
    .border-l-4  { border-left-width: 4px; border-left-style: solid; }
    .border-dashed { border-style: dashed; }

    .border-blue-200    { border-color: #bfdbfe; }
    .border-gray-200    { border-color: #e5e7eb; }
    .border-gray-600    { border-color: #4b5563; }
    .border-gray-800    { border-color: #1f2937; }
    .border-green-200   { border-color: #bbf7d0; }
    .border-green-500   { border-color: #22c55e; }
    .border-indigo-100  { border-color: #e0e7ff; }
    .border-indigo-500  { border-color: #6366f1; }
    .border-orange-200  { border-color: #fed7aa; }
    .border-orange-500  { border-color: #f97316; }
    .border-purple-200  { border-color: #e9d5ff; }
    .border-purple-500  { border-color: #a855f7; }
    .border-yellow-300  { border-color: #fde047; }
    .border-yellow-400  { border-color: #facc15; }

    /* border-radius */
    .rounded-full  { border-radius: 9999px; }
    .rounded-lg    { border-radius: .5rem; }
    .rounded-xl    { border-radius: .75rem; }
    .rounded-t-md  { border-top-left-radius: .375rem; border-top-right-radius: .375rem; }
    .rounded-l-3xl { border-top-left-radius: 1.5rem; border-bottom-left-radius: 1.5rem; }
    .rounded-r-3xl { border-top-right-radius: 1.5rem; border-bottom-right-radius: 1.5rem; }

    /* shadows */
    .shadow-sm  { box-shadow: 0 1px 2px 0 rgba(0,0,0,.05); }
    .shadow-md  { box-shadow: 0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1); }
    .shadow-lg  { box-shadow: 0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1); }
    .shadow-xl  { box-shadow: 0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1); }
    .shadow-inner{ box-shadow: inset 0 2px 4px 0 rgba(0,0,0,.05); }
    .cursor-pointer { cursor: pointer; }

    /* transitions */
    .transition-all       { transition: all .15s ease-in-out; }
    .transition-transform { transition: transform .15s ease-in-out; }

    /* hover states */
    button { cursor: pointer; border: none; }
    .hover\:bg-gray-700:hover    { background-color: #374151; }
    .hover\:bg-indigo-50:hover   { background-color: #eef2ff; }
    .hover\:scale-105:hover      { transform: scale(1.05); }
    .hover\:scale-110:hover      { transform: scale(1.1); }
    .hover\:shadow-lg:hover      { box-shadow: 0 10px 15px -3px rgba(0,0,0,.1); }
    .hover\:shadow-xl:hover      { box-shadow: 0 20px 25px -5px rgba(0,0,0,.1); }
    .hover\:from-indigo-700:hover{ --tw-gradient-from: #4338ca; }
    .hover\:to-purple-700:hover  { --tw-gradient-to: #7e22ce; }

    /* ===== Animation ===== */
    @keyframes bounceOnce {
      0%, 100% { transform: translateY(0) translateX(-50%); }
      50%       { transform: translateY(-10px) translateX(-50%); }
    }
    .tooltip-bounce {
      animation: bounceOnce 0.5s ease-in-out;
    }

    /* ===== Custom component styles ===== */
    .header-area {
      background-image: linear-gradient(to right, #4f46e5, #9333ea);
      padding: 1.5rem;
      color: #fff;
    }
    .header-top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: .5rem;
    }
    .btn-home {
      background-color: #fff;
      color: #4f46e5;
      padding: .5rem 1rem;
      border-radius: .5rem;
      font-weight: 700;
      font-size: .875rem;
      transition: all .15s;
      box-shadow: 0 4px 6px -1px rgba(0,0,0,.1);
      display: flex;
      align-items: center;
      gap: .5rem;
    }
    .btn-home:hover { background-color: #eef2ff; }

    .lock-body-left {
      width: 5rem; height: 11rem;
      background-image: linear-gradient(to right, #4b5563, #374151);
      border-radius: 1.5rem 0 0 1.5rem;
      border: 4px solid #1f2937;
      box-shadow: 0 20px 25px -5px rgba(0,0,0,.1);
    }
    .lock-body-right-wrap {
      position: relative;
      margin-left: 6rem;
    }
    .lock-body-right {
      width: 5rem; height: 11rem;
      background-image: linear-gradient(to left, #4b5563, #374151);
      border-radius: 0 1.5rem 1.5rem 0;
      border: 4px solid #1f2937;
      box-shadow: 0 20px 25px -5px rgba(0,0,0,.1);
    }
    .lock-bar-h {
      position: absolute;
      right: 5rem; top: 50%;
      transform: translateX(4px) translateY(-50%);
      width: 8rem; height: 2.25rem;
      background-image: linear-gradient(to right, #374151, #6b7280);
      border: 4px solid #1f2937;
      box-shadow: 0 20px 25px -5px rgba(0,0,0,.1);
    }
    .lock-bar-v {
      position: absolute;
      right: 5rem; top: 50%;
      transform: translateY(-26px) translateX(-4rem);
      width: 1.5rem; height: 2rem;
      background-image: linear-gradient(to bottom, #6b7280, #374151);
      border: 4px solid #1f2937;
      border-radius: .375rem .375rem 0 0;
      margin-top: -1.25rem;
    }

    .tooltip-bubble {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: -4rem;
      background-color: #fbcfe8;
      color: #111827;
      padding: .25rem .75rem;
      border-radius: .75rem;
      font-size: .875rem;
      font-weight: 700;
      white-space: nowrap;
      box-shadow: 0 25px 50px -12px rgba(0,0,0,.25);
      z-index: 50;
    }

    /* ===== 퀴즈 스타일 ===== */
    .quiz-section {
      background: linear-gradient(to right, #faf5ff, #fdf2f8);
      padding: 1.5rem;
      border-radius: .5rem;
      border: 1px solid #e9d5ff;
      margin-top: 1.5rem;
    }
    .quiz-card {
      background: #fff;
      padding: 1.25rem;
      border-radius: .5rem;
      border: 1px solid #e5e7eb;
      box-shadow: 0 1px 2px rgba(0,0,0,.05);
      margin-bottom: 1.25rem;
    }
    .quiz-question {
      font-weight: 700;
      color: #1f2937;
      margin-bottom: 1rem;
      font-size: 1rem;
      line-height: 1.5;
    }
    .quiz-options { display: flex; flex-direction: column; gap: .5rem; }
    .quiz-option {
      width: 100%;
      text-align: left;
      padding: .75rem 1rem;
      border-radius: .5rem;
      border: 2px solid #e5e7eb;
      background: #f9fafb;
      cursor: pointer;
      font-size: .95rem;
      transition: all .15s;
      font-family: 'Malgun Gothic', sans-serif;
    }
    .quiz-option:hover:not(:disabled) { background: #f3f4f6; }
    .quiz-option:disabled { cursor: not-allowed; }
    .quiz-option.correct  { background: #dcfce7; border-color: #4ade80; }
    .quiz-option.wrong    { background: #fee2e2; border-color: #f87171; }
    .quiz-option.dimmed   { background: #f9fafb; border-color: #e5e7eb; opacity: .7; }
    .quiz-badge-correct { margin-left: .5rem; color: #16a34a; font-weight: 700; }
    .quiz-badge-wrong   { margin-left: .5rem; color: #dc2626; font-weight: 700; }
    .quiz-explanation {
      margin-top: 1rem;
      padding: .75rem 1rem;
      background: #eff6ff;
      border: 1px solid #bfdbfe;
      border-radius: .5rem;
      font-size: .875rem;
      color: #374151;
      line-height: 1.6;
    }
    .quiz-explanation strong { color: #2563eb; }
    .quiz-submit-btn {
      width: 100%;
      padding: 1rem;
      background: linear-gradient(to right, #4f46e5, #9333ea);
      color: #fff;
      font-weight: 700;
      font-size: 1.1rem;
      border-radius: .5rem;
      box-shadow: 0 10px 15px -3px rgba(0,0,0,.1);
      transition: all .15s;
      font-family: 'Malgun Gothic', sans-serif;
      margin-top: .5rem;
    }
    .quiz-submit-btn:hover { opacity: .9; }

    /* 결과 화면 */
    .quiz-result {
      text-align: center;
    }
    .result-box {
      background: linear-gradient(to right, #f0fdf4, #ecfdf5);
      border: 1px solid #bbf7d0;
      border-radius: .5rem;
      padding: 2rem;
      margin-bottom: 1.5rem;
    }
    .result-score {
      font-size: 3.75rem;
      font-weight: 700;
      color: #4f46e5;
      margin: 1rem 0;
    }
    .wrong-review {
      text-align: left;
      margin-bottom: 1.5rem;
    }
    .wrong-card {
      background: #fef2f2;
      border: 1px solid #fecaca;
      border-radius: .5rem;
      padding: 1rem;
      margin-bottom: .75rem;
    }
    .wrong-card-title { font-weight: 700; color: #b91c1c; font-size: .875rem; margin-bottom: .25rem; }
    .wrong-card-answer { font-size: .875rem; color: #374151; }
    .wrong-card-answer span { font-weight: 700; color: #16a34a; }
    .wrong-card-exp { font-size: .875rem; color: #4b5563; margin-top: .25rem; }
    .quiz-retry-btn {
      padding: .75rem 2rem;
      background: linear-gradient(to right, #4f46e5, #9333ea);
      color: #fff;
      font-weight: 700;
      font-size: 1rem;
      border-radius: .5rem;
      transition: all .15s;
      font-family: 'Malgun Gothic', sans-serif;
    }
    .quiz-retry-btn:hover { opacity: .9; }
    .space-y-5 > * + * { margin-top: 1.25rem; }
  </style>
</head>
<body>
  <div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden">

    <!-- 헤더 -->
    <div class="header-area">
      <div class="header-top-row">
        <div class="text-sm" style="color:#e0e7ff;">고등학교 정보 학습자료</div>
        <a href="index.html" class="btn-home">🏠 홈으로</a>
      </div>
      <h1 class="text-3xl font-bold mb-2">🔐 자물쇠로 배우는 경우의 수</h1>
      <p style="color:#e0e7ff;">화살표를 클릭해서 자물쇠를 돌려보세요!</p>
    </div>

    <!-- 질문 영역 -->
    <div class="p-6 border-b border-indigo-100" style="background: linear-gradient(to right,#eff6ff,#eef2ff);">
      <h3 class="font-bold text-indigo-900 text-lg mb-2">📌 자물쇠의 비밀번호는 몇 개일까?</h3>
      <p class="leading-relaxed text-gray-700">
        아래 그림처럼 4자리 숫자 자물쇠가 있습니다. 각 자리마다
        <span class="font-bold text-blue-600">0부터 9까지</span> 총 10개의 숫자를 선택할 수 있어요.
        그렇다면 만들 수 있는 비밀번호의 개수는 총 몇 개일까요?
      </p>
    </div>

    <div class="p-8">

      <!-- 체험 방법 안내 -->
      <div class="mb-6 bg-yellow-50 p-4 rounded-lg border border-yellow-300">
        <p class="text-sm font-semibold text-yellow-900 mb-2">💡 체험 방법</p>
        <p class="text-sm text-gray-700">
          <span class="font-bold text-blue-600">화살표 버튼을 클릭해서 자물쇠를 돌려보세요!</span>
          각 다이얼은 0부터 9까지 순환하며, 모든 조합을 만들어 볼 수 있습니다.
        </p>
      </div>

      <!-- 자물쇠 시뮬레이터 -->
      <div class="bg-gray-50 p-8 rounded-lg border border-gray-200 mb-6">
        <div class="flex justify-center items-center gap-8 flex-wrap">

          <!-- 왼쪽 몸통 -->
          <div class="lock-body-left"></div>

          <!-- 다이얼 영역 -->
          <div class="flex gap-4" id="dials-container">
            <!-- JS로 생성 -->
          </div>

          <!-- 오른쪽 U자형 막대 -->
          <div class="lock-body-right-wrap">
            <div class="lock-body-right"></div>
            <div class="lock-bar-h"></div>
            <div class="lock-bar-v"></div>
          </div>
        </div>

        <!-- 현재 상태 -->
        <div class="mt-8 p-6 rounded-xl text-center text-white" style="background: linear-gradient(to right,#6366f1,#9333ea);">
          <div class="text-lg mb-2">현재 번호</div>
          <div class="text-5xl font-bold tracking-widest mb-3" id="current-code">0000</div>
          <div class="text-sm opacity-90">
            시도 횟수: <span class="font-bold" id="attempt-count">0</span>회 / 전체 10,000가지
          </div>
        </div>

        <!-- 리셋 -->
        <div class="text-center mt-6">
          <button
            onclick="resetLock()"
            class="bg-gray-600 hover:bg-gray-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:scale-105 transition-transform"
          >🔄 초기화</button>
        </div>
      </div>

      <!-- 경우의 수 계산 -->
      <div class="p-6 rounded-lg border border-green-200 mb-6" style="background: linear-gradient(to right,#f0fdf4,#ecfdf5);">
        <h3 class="text-xl font-bold text-green-900 mb-4">📊 경우의 수 계산하기</h3>
        <p class="text-gray-700 mb-4">각 자리마다 <span class="font-bold text-blue-600">0부터 9까지</span> 10가지 선택 가능</p>
        <div class="bg-yellow-50 p-6 rounded-xl text-center" style="border: 3px dashed #facc15;">
          <h4 class="text-lg font-bold text-gray-800 mb-3">💡 곱셈 원리 공식</h4>
          <div class="text-4xl font-bold text-red-600 my-4">10 × 10 × 10 × 10 = 10⁴</div>
          <div class="text-3xl font-bold text-indigo-600 mb-3">= 10,000가지</div>
          <p class="text-gray-600">10을 4번 곱한다 = 만 가지의 경우의 수</p>
        </div>
      </div>

      <!-- 자릿수별 -->
      <div class="p-6 rounded-lg border border-blue-200 mb-6" style="background: linear-gradient(to right,#eff6ff,#ecfeff);">
        <h3 class="text-xl font-bold text-blue-900 mb-4">
          <span class="relative inline-block cursor-pointer" id="sparrow-trigger">🎯
            <span
              id="sparrow-tooltip"
              class="tooltip-bubble"
              style="display:none;"
            >&#xCC38;&#xC0C8;</span>
          </span>
          자릿수별 경우의 수
        </h3>
        <div class="grid md:grid-cols-2 gap-4">
          <div class="bg-white p-4 rounded-lg shadow-sm border-l-4 border-indigo-500">
            <div class="flex justify-between items-center">
              <span class="font-bold text-indigo-700">1자리 자물쇠</span>
              <span class="font-mono text-indigo-600 font-bold">10¹ = 10가지 (0~9)</span>
            </div>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-sm border-l-4 border-green-500">
            <div class="flex justify-between items-center">
              <span class="font-bold text-green-700">2자리 자물쇠</span>
              <span class="font-mono text-green-600 font-bold">10² = 100가지 (00~99)</span>
            </div>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-sm border-l-4 border-orange-500">
            <div class="flex justify-between items-center">
              <span class="font-bold text-orange-700">3자리 자물쇠</span>
              <span class="font-mono text-orange-600 font-bold">10³ = 1,000가지 (000~999)</span>
            </div>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-sm border-l-4 border-purple-500">
            <div class="flex justify-between items-center">
              <span class="font-bold text-purple-700">4자리 자물쇠</span>
              <span class="font-mono text-purple-600 font-bold">10⁴ = 10,000가지 (0000~9999)</span>
            </div>
          </div>
        </div>
      </div>

      <!-- 왜 곱셈인가 -->
      <div class="p-6 rounded-lg border border-purple-200 mb-6" style="background: linear-gradient(to right,#faf5ff,#fdf2f8);">
        <h3 class="text-xl font-bold text-purple-900 mb-4">🤔 왜 곱셈을 할까?</h3>
        <div class="space-y-3 text-gray-700">
          <div class="flex items-start gap-3">
            <div class="w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">1</div>
            <p><strong>첫째 자리</strong>에서 숫자를 하나 선택하면 (예: 3)</p>
          </div>
          <div class="flex items-start gap-3">
            <div class="w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">2</div>
            <p><strong>둘째 자리</strong>에서는 다시 10가지를 선택할 수 있어요</p>
          </div>
          <div class="flex items-start gap-3">
            <div class="w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">3</div>
            <p>각 자리가 <strong class="text-indigo-600">독립적으로</strong> 선택되기 때문에</p>
          </div>
          <div class="flex items-start gap-3">
            <div class="w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">4</div>
            <p><strong class="text-indigo-600 text-lg">곱셈</strong>을 사용합니다!</p>
          </div>
        </div>
      </div>

      <!-- 재미있는 사실 -->
      <div class="p-6 rounded-lg border border-orange-200 mb-6" style="background: linear-gradient(to right,#fff7ed,#fefce8);">
        <h3 class="text-xl font-bold text-orange-900 mb-4">💡 재미있는 사실</h3>
        <div class="bg-white p-5 rounded-lg shadow-sm">
          <p class="text-gray-700 text-lg leading-relaxed">
            만약 1초에 1개씩 비밀번호를 시도한다면, 모든 조합을 시도하는데
            <span class="font-bold text-red-600 text-xl"> 약 2시간 47분</span>이 걸려요!
            그래서 더 긴 비밀번호일수록 안전하답니다. 🔒
          </p>
          <div class="mt-4 p-4 bg-blue-50 rounded-lg">
            <p class="text-sm text-gray-600">
              <strong class="text-blue-700">참고:</strong> 5자리면 10⁵ = 100,000가지 (약 27시간 47분),
              6자리면 10⁶ = 1,000,000가지 (약 11.5일) 걸립니다!
            </p>
          </div>
        </div>
      </div>

      <!-- ===== 퀴즈 섹션 ===== -->
      <div class="quiz-section">
        <h3 class="text-lg font-bold mb-4" style="color:#581c87;">🎯 배운 내용 확인하기</h3>

        <!-- 문제 풀기 화면 -->
        <div id="quiz-questions">
          <div class="space-y-5" id="quiz-list">
            <!-- JS로 생성 -->
          </div>
          <button
            id="quiz-submit-btn"
            class="quiz-submit-btn"
            style="display:none;"
            onclick="showQuizResult()"
          >🏁 결과 확인하기</button>
        </div>

        <!-- 결과 화면 -->
        <div id="quiz-result" style="display:none;" class="quiz-result">
          <div class="result-box">
            <h3 class="text-3xl font-bold" style="color:#14532d;">🎉 퀴즈 완료!</h3>
            <div class="result-score" id="result-score">0 / 5</div>
            <p class="text-lg text-gray-700" id="result-msg"></p>
          </div>
          <div class="wrong-review" id="wrong-review"></div>
          <button class="quiz-retry-btn" onclick="resetQuiz()">🔄 다시 풀기</button>
        </div>
      </div>

      <div class="mt-6 text-center">
        <a
          href="index.html"
          class="inline-block text-white px-8 py-3 rounded-lg font-bold text-lg transition-all shadow-lg hover:shadow-xl"
          style="background: linear-gradient(to right,#4f46e5,#9333ea);"
        >🏠 홈으로 돌아가기</a>
      </div>
    </div>
  </div>

  <script>
    // ===== State =====
    const dials  = [0, 0, 0, 0];
    let attempts = 0;
    const labels = ['첫째', '둘째', '셋째', '넷째'];

    // ===== Build dial UI =====
    function buildDials() {
      const container = document.getElementById('dials-container');
      container.innerHTML = '';
      dials.forEach((val, idx) => {
        const wrap = document.createElement('div');
        wrap.className = 'flex flex-col items-center gap-2';
        wrap.innerHTML = `
          <button
            class="w-10 h-10 text-white rounded-lg flex items-center justify-center text-xl font-bold shadow-lg hover:scale-110 transition-transform"
            style="background: linear-gradient(to bottom right,#6366f1,#9333ea);"
            onclick="rotateDial(${idx}, 1)"
          >▲</button>
          <div
            class="w-16 h-28 rounded-xl border-2 border-gray-600 shadow-inner flex items-center justify-center"
            style="background: linear-gradient(to bottom,#111827,#000);"
          >
            <span id="dial-${idx}" class="text-white text-5xl font-bold">${val}</span>
          </div>
          <button
            class="w-10 h-10 text-white rounded-lg flex items-center justify-center text-xl font-bold shadow-lg hover:scale-110 transition-transform"
            style="background: linear-gradient(to bottom right,#6366f1,#9333ea);"
            onclick="rotateDial(${idx}, -1)"
          >▼</button>
          <div class="text-sm font-bold text-indigo-600 mt-1">${labels[idx]}</div>
        `;
        container.appendChild(wrap);
      });
    }

    function updateDisplay() {
      dials.forEach((val, idx) => {
        document.getElementById(`dial-${idx}`).textContent = val;
      });
      document.getElementById('current-code').textContent = dials.join('');
      document.getElementById('attempt-count').textContent = attempts;
    }

    function rotateDial(idx, dir) {
      dials[idx] = (dials[idx] + dir + 10) % 10;
      attempts++;
      updateDisplay();
    }

    function resetLock() {
      dials.fill(0);
      attempts = 0;
      updateDisplay();
    }

    // ===== Sparrow tooltip =====
    const sparrowTrigger = document.getElementById('sparrow-trigger');
    const sparrowTooltip = document.getElementById('sparrow-tooltip');
    sparrowTrigger.addEventListener('click', () => {
      sparrowTooltip.style.display = 'block';
      sparrowTooltip.classList.remove('tooltip-bounce');
      void sparrowTooltip.offsetWidth; // reflow
      sparrowTooltip.classList.add('tooltip-bounce');
      setTimeout(() => {
        sparrowTooltip.style.display = 'none';
      }, 400);
    });

    // ===== Init =====
    buildDials();

    // ===== 퀴즈 데이터 & 로직 =====
    const quizData = [
      {
        id: 1,
        question: '4자리 숫자 자물쇠에서 각 자리마다 0~9까지 선택 가능할 때, 만들 수 있는 비밀번호의 총 개수는?',
        options: ['4,000가지', '10,000가지', '40,000가지', '1,000가지'],
        correct: 1,
        explanation: '각 자리마다 10가지(0~9)를 선택할 수 있고, 자리가 4개이므로 10 × 10 × 10 × 10 = 10⁴ = 10,000가지입니다. 이것을 "곱셈의 원리"라고 해요!'
      },
      {
        id: 2,
        question: '경우의 수를 계산할 때 곱셈을 사용하는 이유로 가장 올바른 것은?',
        options: [
          '숫자가 크면 항상 곱셈이 빠르기 때문에',
          '각 자리의 선택이 서로 독립적으로 이루어지기 때문에',
          '덧셈보다 곱셈이 더 정확하기 때문에',
          '자물쇠 제조사가 정한 규칙이기 때문에'
        ],
        correct: 1,
        explanation: '첫째 자리에서 어떤 숫자를 선택해도 둘째 자리는 항상 10가지를 선택할 수 있어요. 이처럼 각 자리의 선택이 서로 영향을 주지 않고 "독립적"이기 때문에 곱셈을 사용합니다!'
      },
      {
        id: 3,
        question: '3자리 자물쇠(각 자리 0~9)의 비밀번호 경우의 수는?',
        options: ['30가지', '300가지', '1,000가지', '3,000가지'],
        correct: 2,
        explanation: '10 × 10 × 10 = 10³ = 1,000가지입니다. 000부터 999까지 총 1,000개의 비밀번호를 만들 수 있어요!'
      },
      {
        id: 4,
        question: '각 자리마다 선택지가 5개인 4자리 자물쇠가 있다면, 비밀번호의 경우의 수는?',
        options: ['20가지', '500가지', '625가지', '2,500가지'],
        correct: 2,
        explanation: '각 자리마다 5가지 선택, 자리가 4개이므로 5 × 5 × 5 × 5 = 5⁴ = 625가지입니다. 선택지 개수가 줄어들면 경우의 수도 확 줄어드는 것을 볼 수 있죠!'
      },
      {
        id: 5,
        question: '1초에 1번씩 비밀번호를 시도할 때, 4자리 자물쇠(0~9) 10,000가지를 모두 시도하려면 얼마나 걸릴까요?',
        options: ['약 1분 40초', '약 16분 40초', '약 2시간 47분', '약 27시간 47분'],
        correct: 2,
        explanation: '10,000초 ÷ 60 ≈ 167분 ≈ 2시간 47분이 걸립니다! 그래서 자릿수가 길수록 훨씬 안전한 비밀번호가 됩니다. 5자리면 약 27시간, 6자리면 약 11.5일이 걸려요!'
      }
    ];

    const quizAnswers = {};

    function buildQuiz() {
      const list = document.getElementById('quiz-list');
      list.innerHTML = '';
      quizData.forEach((quiz, qIdx) => {
        const card = document.createElement('div');
        card.className = 'quiz-card';
        card.id = `quiz-card-${quiz.id}`;

        const qTitle = document.createElement('p');
        qTitle.className = 'quiz-question';
        qTitle.textContent = `Q${qIdx + 1}. ${quiz.question}`;
        card.appendChild(qTitle);

        const opts = document.createElement('div');
        opts.className = 'quiz-options';
        quiz.options.forEach((opt, oIdx) => {
          const btn = document.createElement('button');
          btn.className = 'quiz-option';
          btn.id = `opt-${quiz.id}-${oIdx}`;
          btn.textContent = `${oIdx + 1}. ${opt}`;
          btn.onclick = () => handleAnswer(quiz.id, oIdx);
          opts.appendChild(btn);
        });
        card.appendChild(opts);

        const exp = document.createElement('div');
        exp.className = 'quiz-explanation';
        exp.id = `exp-${quiz.id}`;
        exp.style.display = 'none';
        exp.innerHTML = `<strong>💡 설명: </strong>${quiz.explanation}`;
        card.appendChild(exp);

        list.appendChild(card);
      });
    }

    function handleAnswer(questionId, selectedIdx) {
      if (quizAnswers[questionId] !== undefined) return;
      quizAnswers[questionId] = selectedIdx;

      const quiz = quizData.find(q => q.id === questionId);
      quiz.options.forEach((_, oIdx) => {
        const btn = document.getElementById(`opt-${questionId}-${oIdx}`);
        btn.disabled = true;
        if (oIdx === quiz.correct) {
          btn.classList.add('correct');
          btn.innerHTML += '<span class="quiz-badge-correct">✓ 정답</span>';
        } else if (oIdx === selectedIdx) {
          btn.classList.add('wrong');
          btn.innerHTML += '<span class="quiz-badge-wrong">✗</span>';
        } else {
          btn.classList.add('dimmed');
        }
      });

      document.getElementById(`exp-${questionId}`).style.display = 'block';

      if (Object.keys(quizAnswers).length === quizData.length) {
        document.getElementById('quiz-submit-btn').style.display = 'block';
      }
    }

    function showQuizResult() {
      const score = quizData.filter(q => quizAnswers[q.id] === q.correct).length;
      document.getElementById('quiz-questions').style.display = 'none';
      document.getElementById('quiz-result').style.display = 'block';
      document.getElementById('result-score').textContent = `${score} / ${quizData.length}`;

      const msgs = [
        '다시 한 번 복습해보세요! 💪',
        '다시 한 번 복습해보세요! 💪',
        '다시 한 번 복습해보세요! 💪',
        '잘하셨어요! 조금만 더 복습하면 완벽할 거예요! 👍',
        '잘하셨어요! 조금만 더 복습하면 완벽할 거예요! 👍',
        '완벽해요! 모든 문제를 맞히셨네요! 🎊'
      ];
      document.getElementById('result-msg').textContent = msgs[score];

      const wrongReview = document.getElementById('wrong-review');
      wrongReview.innerHTML = '';
      quizData.filter(q => quizAnswers[q.id] !== q.correct).forEach(q => {
        wrongReview.innerHTML += `
          <div class="wrong-card">
            <p class="wrong-card-title">❌ 틀린 문제: ${q.question}</p>
            <p class="wrong-card-answer"><span>정답: </span>${q.options[q.correct]}</p>
            <p class="wrong-card-exp">${q.explanation}</p>
          </div>`;
      });
    }

    function resetQuiz() {
      Object.keys(quizAnswers).forEach(k => delete quizAnswers[k]);
      document.getElementById('quiz-result').style.display = 'none';
      document.getElementById('quiz-questions').style.display = 'block';
      document.getElementById('quiz-submit-btn').style.display = 'none';
      buildQuiz();
    }

    buildQuiz();
  </script>
</body>
</html>
