<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ë¯¸ì§€ëŠ” ì–´ë–»ê²Œ ì‘ì•„ì§ˆê¹Œ? - JPEG ì••ì¶•ì˜ ë¹„ë°€</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.9;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .school-name {
            font-size: 0.9em;
            opacity: 0.95;
            text-align: left;
        }
        
        .home-button {
            background: white;
            color: #667eea;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            font-size: 0.9em;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .home-button:hover {
            background: #f0f4ff;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transform: translateY(-2px);
        }
        
        .main-title {
            font-size: 2.3em;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .subtitle {
            font-size: 1.2em;
            opacity: 0.95;
        }
        
        .content {
            padding: 35px;
        }
        
        .intro-box {
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .intro-box h2 {
            color: #5a67d8;
            margin-bottom: 15px;
            font-size: 1.9em;
        }
        
        .intro-box p {
            font-size: 1.15em;
            line-height: 2;
            color: #2d3748;
        }
        
        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.9em;
        }
        
        .section h3 {
            color: #5a67d8;
            margin: 25px 0 15px 0;
            font-size: 1.5em;
        }
        
        .concept-box {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .concept-box p {
            font-size: 1.1em;
            line-height: 2;
        }
        
        .concept-box strong {
            color: #667eea;
            font-size: 1.15em;
        }
        
        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .example-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .example-card h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .example-card p {
            font-size: 1.05em;
            line-height: 1.8;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 35px;
            border-radius: 8px;
            font-size: 1.15em;
            cursor: pointer;
            margin: 10px 5px;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(102, 126, 234, 0.3);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .interactive-box {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
        }
        
        .interactive-box h3 {
            color: #c05621;
            margin-bottom: 20px;
            font-size: 1.6em;
        }
        
        .canvas-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 25px 0;
        }
        
        .canvas-box {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .canvas-box h4 {
            margin-bottom: 15px;
            color: #667eea;
            font-size: 1.2em;
        }
        
        canvas {
            border: 2px solid #ddd;
            border-radius: 8px;
            max-width: 100%;
            height: auto;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .slider-container {
            margin: 25px 0;
            background: white;
            padding: 25px;
            border-radius: 10px;
        }
        
        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .value-display {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
            text-align: center;
        }
        
        .result-box {
            background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #667eea;
        }
        
        .result-box p {
            font-size: 1.15em;
            line-height: 2;
        }
        
        .info-badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 1em;
            margin: 5px;
            font-weight: bold;
        }
        
        .highlight {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 4px 10px;
            border-radius: 5px;
            font-weight: bold;
            color: #92400e;
        }
        
        .step-number {
            display: inline-block;
            background: #667eea;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            font-weight: bold;
            margin-right: 12px;
            font-size: 1.1em;
        }
        
        .block-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 2px;
            width: 240px;
            height: 240px;
            margin: 20px auto;
            border: 3px solid #667eea;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .block-cell {
            background: #e5e7eb;
            border: 1px solid #d1d5db;
            transition: all 0.3s;
        }
        
        .block-cell:hover {
            background: #fbbf24;
            transform: scale(1.1);
        }
        
        .frequency-grid {
            display: grid;
            grid-template-columns: repeat(8, 40px);
            grid-template-rows: repeat(8, 40px);
            gap: 0;
            width: 320px;
            height: 320px;
            margin: 20px auto;
            border: 3px solid #667eea;
            border-radius: 8px;
            overflow: visible;
            padding: 0;
            box-sizing: content-box;  /* ì´ ì¤„ ì¶”ê°€ */
        }
        
        .freq-cell {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 0.65em;
            font-weight: bold;
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            width: 40px;
            height: 40px;
            box-sizing: border-box;
        }
        
        .freq-cell .freq-value {
            font-size: 0.9em;
            margin-top: 2px;
            opacity: 0.9;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ef4444;
            margin: 20px 0;
        }
        
        .warning-box h4 {
            color: #dc2626;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }

        .result {
            background: linear-gradient(135deg, #fff0f6 0%, #ffe4ec 100%);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #667eea;
        }
        
        @media (max-width: 768px) {
            .main-title {
                font-size: 1.8em;
            }
            
            .canvas-container {
                flex-direction: column;
            }
            
            .block-grid, .frequency-grid {
                width: 200px;
                height: 200px;
            }
        }

        @keyframes bounceOnce {
            0%, 100% { transform: translateY(0) translateX(-50%); }
            50% { transform: translateY(-10px) translateX(-50%); }
        }

        .tooltip-trigger {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }

        .tooltip-message {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: -60px;
            background: #fbcfe8;
            color: #1f2937;
            padding: 8px 15px;
            border-radius: 12px;
            font-size: 0.9em;
            font-weight: bold;
            white-space: nowrap;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            z-index: 50;
            animation: bounceOnce 0.5s ease-in-out;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <div class="school-name">ë¶€ì‚°ì§„ì—¬ììƒì—…ê³ ë“±í•™êµ ì •ë³´ í•™ìŠµìë£Œ</div>
                <a href="index.html" class="home-button">ğŸ  í™ˆìœ¼ë¡œ</a>
            </div>
            <div class="main-title">ğŸ“¸ ì´ë¯¸ì§€ëŠ” ì–´ë–»ê²Œ ì‘ì•„ì§ˆê¹Œ?</div>
            <div class="subtitle">JPEG ì••ì¶•ê³¼ DCTì˜ ë¹„ë°€ì„ ì‰½ê²Œ ì•Œì•„ë³´ì!</div>
        </div>
        
        <div class="content">
            <!-- ë„ì…ë¶€ -->
            <div class="intro-box">
                <h2>ğŸ¤” ì™œ ì´ë¯¸ì§€ íŒŒì¼ì´ ì‘ì•„ì ¸ì•¼ í• ê¹Œ?</h2>
                <p>
                    ì—¬ëŸ¬ë¶„ì´ ìŠ¤ë§ˆíŠ¸í°ìœ¼ë¡œ ì°ì€ ì‚¬ì§„ í•œ ì¥ì€ ë³´í†µ <strong>1~3MB</strong> ì •ë„ì˜ˆìš”. 
                    ë§Œì•½ ì••ì¶•ì„ ì•ˆ í•˜ë©´ ì´ í¬ê¸°ê°€ <strong>10ë°°~20ë°°</strong>ë‚˜ ì»¤ì§ˆ ê±°ì˜ˆìš”! 
                    ê·¸ëŸ¼ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì‚¬ì§„ ë³´ë‚´ëŠ”ë° ì—„ì²­ ì˜¤ë˜ ê±¸ë¦¬ê³ , íœ´ëŒ€í° ìš©ëŸ‰ë„ ê¸ˆë°© ì°¨ê² ì£ ?
                    <br><br>
                    ê·¸ë˜ì„œ <strong>'ì••ì¶•'</strong>ì´ë¼ëŠ” ê¸°ìˆ ë¡œ ì‚¬ì§„ì„ ì‘ê²Œ ë§Œë“¤ì–´ìš”. 
                    ì˜¤ëŠ˜ì€ JPEGì´ë¼ëŠ” ì‚¬ì§„ í˜•ì‹ì—ì„œ ì‚¬ìš©í•˜ëŠ” <strong>DCT(ì´ì‚° ì½”ì‚¬ì¸ ë³€í™˜)</strong>ë¼ëŠ” 
                    ì••ì¶• ë°©ë²•ì„ ì•„ì£¼ ì‰½ê²Œ ë°°ì›Œë³¼ ê±°ì˜ˆìš”!
                </p>
            </div>

            <!-- 1ë‹¨ê³„: ì£¼íŒŒìˆ˜ ì´í•´ -->
            <div class="section">
                <h2><span class="step-number">1</span>ë¨¼ì € 'íŒŒë„'ë¥¼ ì´í•´í•´ ë´ìš”</h2>
                
                <div class="concept-box">
                    <p>
                        ì´ë¯¸ì§€ ì••ì¶•ì„ ì´í•´í•˜ë ¤ë©´ ë¨¼ì € <strong>'íŒŒë„'</strong> ê°œë…ì„ ì•Œì•„ì•¼ í•´ìš”. 
                        ë°”ë‹¤ì˜ íŒŒë„ë¥¼ ìƒê°í•´ë³´ì„¸ìš”. íŒŒë„ì—ëŠ” <span class="highlight">í° íŒŒë„</span>ë„ ìˆê³  <span class="highlight">ì‘ì€ íŒŒë„</span>ë„ ìˆì£ ?
                    </p>
                </div>

                <div class="example-grid">
                    <div class="example-card">
                        <h4>ğŸŒŠ í° íŒŒë„ (ì €ì£¼íŒŒ)</h4>
                        <canvas id="lowFreqWave" width="250" height="150"></canvas>
                        <p><strong>ìƒ‰ì´ ì²œì²œíˆ ë³€í•´ìš”</strong><br><br>
                        ì˜ˆ) í•˜ëŠ˜ì²˜ëŸ¼ ë„“ì€ ì˜ì—­ì—ì„œ ìƒ‰ì´ ë¹„ìŠ·í•˜ê±°ë‚˜ ì„œì„œíˆ ë°”ë€ŒëŠ” ë¶€ë¶„<br><br>
                        â†’ ì´ë¯¸ì§€ì˜ <span class="highlight">ì „ì²´ì ì¸ ëª¨ì–‘</span>ì„ ë§Œë“¤ì–´ìš”</p>
                    </div>
                    <div class="example-card">
                        <h4>ã€°ï¸ ì‘ì€ íŒŒë„ (ê³ ì£¼íŒŒ)</h4>
                        <canvas id="highFreqWave" width="250" height="150"></canvas>
                        <p><strong>ìƒ‰ì´ ë¹ ë¥´ê²Œ ë³€í•´ìš”</strong><br><br>
                        ì˜ˆ) ë¨¸ë¦¬ì¹´ë½, ìì‚¬ê·€ì˜ ê°€ëŠ” ì„ ì²˜ëŸ¼ ë‚ ì¹´ë¡œìš´ ê²½ê³„ì„ <br><br>
                        â†’ ì´ë¯¸ì§€ì˜ <span class="highlight">ì„¸ë°€í•œ ë””í…Œì¼</span>ì„ ë§Œë“¤ì–´ìš”</p>
                    </div>
                </div>

                <div class="concept-box">
                    <p style="font-size: 1.2em; text-align: center;">
                        ğŸ’¡ <strong>í•µì‹¬!</strong> ì‚¬ëŒ ëˆˆì€ ì €ì£¼íŒŒ(ì „ì²´ ëª¨ì–‘)ëŠ” ì˜ ë³´ì§€ë§Œ, 
                        ê³ ì£¼íŒŒ(ì„¸ë°€í•œ ë””í…Œì¼)ëŠ” ì¡°ê¸ˆ ì—†ì–´ì ¸ë„ ì˜ ëª¨ë¥¸ë‹µë‹ˆë‹¤!
                    </p>
                </div>

                <h3>ğŸ” ì‹¤ì œ ì´ë¯¸ì§€ ì˜ˆì‹œë¡œ ì´í•´í•˜ê¸°</h3>
                
                <div class="interactive-box">
                    <h3>âœï¸ ê°„ë‹¨í•œ ì´ë¯¸ì§€ ê·¸ë¦¬ê¸°</h3>
                    <p style="text-align: center; margin-bottom: 20px; font-size: 1.1em;">
                        ì•„ë˜ ìº”ë²„ìŠ¤ë¥¼ í´ë¦­í•˜ì—¬ í”½ì…€ì„ ê²€ì€ìƒ‰ìœ¼ë¡œ ì¹ í•´ë³´ì„¸ìš”!
                    </p>
                    <div class="button-group">
                        <button onclick="clearCanvas()">ğŸ—‘ï¸ ì§€ìš°ê¸°</button>
                        <button onclick="drawLowFrequency()">ì €ì£¼íŒŒ ì˜ˆì‹œ</button>
                        <button onclick="drawHighFrequency()">ê³ ì£¼íŒŒ ì˜ˆì‹œ</button>
                    </div>
                    <div class="canvas-container">
                        <div class="canvas-box">
                            <h4>ê·¸ë¦¼ ê·¸ë¦¬ê¸° (í´ë¦­í•˜ì„¸ìš”)</h4>
                            <canvas id="drawCanvas" width="320" height="320"></canvas>
                        </div>
                    </div>
                    <div id="drawResult" class="result" style="display: none;"></div>
                </div>
            </div>

            <!-- 2ë‹¨ê³„: ë¸”ë¡ìœ¼ë¡œ ë‚˜ëˆ„ê¸° -->
            <div class="section">
                <h2><span class="step-number">2</span>ì´ë¯¸ì§€ë¥¼ ì‘ì€ ë¸”ë¡ìœ¼ë¡œ ë‚˜ëˆ ìš”</h2>
                
                <div class="concept-box">
                    <p>
                        JPEG ì••ì¶•ì˜ ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” ì´ë¯¸ì§€ë¥¼ <strong>8Ã—8 í”½ì…€</strong> í¬ê¸°ì˜ ì‘ì€ ë„¤ëª¨ ì¡°ê°ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê±°ì˜ˆìš”. 
                        ì™œ ê·¸ëŸ´ê¹Œìš”? í° ì´ë¯¸ì§€ë¥¼ í•œ ë²ˆì— ì²˜ë¦¬í•˜ê¸° í˜ë“œë‹ˆê¹Œ ì‘ì€ ì¡°ê°ìœ¼ë¡œ ìª¼ê°œì„œ í•˜ë‚˜ì”© ì••ì¶•í•˜ëŠ” ê±°ì£ !
                    </p>
                </div>

                <div class="interactive-box">
                    <h3>ğŸ“¸ ì‹¤ì œ ì´ë¯¸ì§€ê°€ ë¸”ë¡ìœ¼ë¡œ ë‚˜ë‰˜ëŠ” ê³¼ì •</h3>
                    <p style="text-align: center; margin-bottom: 20px; font-size: 1.1em;">
                        ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ì´ë¯¸ì§€ê°€ ì–´ë–»ê²Œ 8Ã—8 ë¸”ë¡ìœ¼ë¡œ ë‚˜ë‰˜ëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”!
                    </p>
                    <div class="canvas-container" style="justify-content: center; align-items: center; gap: 30px;">
                        <div class="canvas-box">
                            <h4>ì›ë³¸ ì´ë¯¸ì§€</h4>
                            <canvas id="blockDemoCanvas" width="320" height="320"></canvas>
                            <p style="margin-top: 10px; font-size: 0.95em; color: #666;">
                                ì „ì²´ ì´ë¯¸ì§€ (320Ã—320 í”½ì…€)
                            </p>
                        </div>
                        <div style="text-align: center; font-size: 2em; color: #667eea;">
                            âœ
                        </div>
                        <div class="canvas-box">
                            <h4>ì„ íƒëœ 8Ã—8 ë¸”ë¡</h4>
                            <canvas id="singleBlockCanvas" width="160" height="160"></canvas>
                            <p style="margin-top: 10px; font-size: 0.95em; color: #666;">
                                í™•ëŒ€ëœ 8Ã—8 í”½ì…€ ë¸”ë¡
                            </p>
                        </div>
                    </div>
                    <div class="button-group" style="margin-top: 20px;">
                        <button onclick="toggleBlockGrid()">ê²©ì ë³´ê¸°/ìˆ¨ê¸°ê¸°</button>
                        <button onclick="highlightRandomBlock()">ë‹¤ë¥¸ ë¸”ë¡ ë³´ê¸°</button>
                    </div>
                    <p style="text-align: center; margin-top: 15px; color: #666; font-size: 1.05em;">
                        ğŸ’¡ <strong>ì›ë³¸ ì´ë¯¸ì§€ë¥¼ í´ë¦­</strong>í•˜ë©´ í•´ë‹¹ ìœ„ì¹˜ì˜ 8Ã—8 ë¸”ë¡ì„ ë³¼ ìˆ˜ ìˆì–´ìš”!<br>
                        ê° ë¸”ë¡ì€ 64ê°œ(8Ã—8)ì˜ í”½ì…€ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹µë‹ˆë‹¤.
                    </p>
                </div>

                <div class="concept-box">
                    <p>
                        ì˜ˆë¥¼ ë“¤ì–´, 800Ã—600 í”½ì…€ ì´ë¯¸ì§€ë¼ë©´:<br>
                        â†’ ê°€ë¡œë¡œ 100ê°œ ë¸”ë¡, ì„¸ë¡œë¡œ 75ê°œ ë¸”ë¡<br>
                        â†’ ì´ <strong>7,500ê°œì˜ ë¸”ë¡</strong>ìœ¼ë¡œ ë‚˜ë‰˜ì–´ìš”!<br>
                        â†’ ê° ë¸”ë¡ì„ í•˜ë‚˜ì”© ì••ì¶•í•©ë‹ˆë‹¤
                    </p>
                </div>
            </div>

            <!-- 3ë‹¨ê³„: DCT ë³€í™˜ -->
            <div class="section">
                <h2><span class="step-number">3</span>DCTë¡œ ì£¼íŒŒìˆ˜ë¥¼ ì°¾ì•„ìš”</h2>
                
                <div class="concept-box">
                    <p>
                        ì´ì œ ê° ë¸”ë¡ì— <strong>DCT(ì´ì‚° ì½”ì‚¬ì¸ ë³€í™˜)</strong>ë¥¼ ì ìš©í•´ìš”. 
                        DCTëŠ” ë¸”ë¡ ì•ˆì— <strong>ì–´ë–¤ ì£¼íŒŒìˆ˜(íŒŒë„)ê°€ ì–¼ë§ˆë‚˜ ë“¤ì–´ìˆëŠ”ì§€</strong> ê³„ì‚°í•˜ëŠ” ìˆ˜í•™ ë„êµ¬ì˜ˆìš”.
                        <br><br>
                        ë³µì¡í•œ ìŒì•…ì„ "ë†’ì€ ìŒ", "ì¤‘ê°„ ìŒ", "ë‚®ì€ ìŒ"ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì²˜ëŸ¼, 
                        DCTëŠ” ì´ë¯¸ì§€ë¥¼ ì—¬ëŸ¬ ì£¼íŒŒìˆ˜ë¡œ ë‚˜ëˆ ìš”!
                    </p>
                </div>

                <div class="interactive-box">
                    <h3>ğŸ¯ DCT ê²°ê³¼: ì£¼íŒŒìˆ˜ ì§€ë„</h3>
                    <p style="text-align: center; margin-bottom: 20px; font-size: 1.1em;">
                        DCTë¥¼ í•˜ë©´ ì´ëŸ° ì£¼íŒŒìˆ˜ ì§€ë„ê°€ ë‚˜ì™€ìš”. ê° ì¹¸ì˜ ìˆ«ìëŠ” í•´ë‹¹ ì£¼íŒŒìˆ˜ê°€ ì–¼ë§ˆë‚˜ ë§ì´ ë“¤ì–´ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤!
                    </p>
                    <div class="frequency-grid" id="frequencyGrid"></div>
                    <div style="text-align: center; margin-top: 15px;">
                        <p style="font-size: 1.05em; line-height: 1.8;">
                            <span class="highlight">ì™¼ìª½ ìœ„ (ë¹¨ê°„ í…Œë‘ë¦¬)</span> = ì €ì£¼íŒŒ ì˜ì—­<br>
                            DC ê³„ìˆ˜ <strong>415</strong>ëŠ” ì´ë¯¸ì§€ì˜ í‰ê·  ë°ê¸°ë¥¼ ë‚˜íƒ€ë‚´ìš” (ê°€ì¥ ì¤‘ìš”!)<br>
                            ì£¼ë³€ ê°’ë“¤(<strong>-33, -28, -24</strong> ë“±)ì€ ì „ì²´ì ì¸ ìƒ‰ ë³€í™”ì˜ˆìš”<br><br>
                            <span class="highlight">ì˜¤ë¥¸ìª½ ì•„ë˜</span> = ê³ ì£¼íŒŒ ì˜ì—­<br>
                            ê°’ì´ ì ì  ì‘ì•„ì§€ê³  <strong>ëŒ€ë¶€ë¶„ 0</strong>ì´ì—ìš”! (ì„¸ë°€í•œ ë””í…Œì¼, ë²„ë ¤ë„ ë¨)
                        </p>
                    </div>
                </div>
            </div>

            <!-- 4ë‹¨ê³„: ì–‘ìí™” -->
            <div class="section">
                <h2><span class="step-number">4</span>ì–‘ìí™”: ê³ ì£¼íŒŒë¥¼ ë²„ë ¤ìš”!</h2>
                
                <div class="concept-box">
                    <p>
                        ì´ì œ ì••ì¶•ì˜ í•µì‹¬ ë‹¨ê³„ì˜ˆìš”! <strong>ì–‘ìí™”(Quantization)</strong>ë¼ëŠ” ê³¼ì •ì—ì„œ 
                        ê³ ì£¼íŒŒ ë¶€ë¶„ì˜ ìˆ«ìë¥¼ <strong>ì‘ê²Œ ë§Œë“¤ê±°ë‚˜ 0ìœ¼ë¡œ</strong> ë°”ê¿”ìš”.
                        <br><br>
                        ì™œ ê·¸ëŸ´ê¹Œìš”? ì‚¬ëŒ ëˆˆì´ ê³ ì£¼íŒŒ(ì„¸ë°€í•œ ë””í…Œì¼)ëŠ” ì˜ ëª» ëŠë¼ë‹ˆê¹Œ, 
                        ë²„ë ¤ë„ ì´ë¯¸ì§€ í’ˆì§ˆì´ í¬ê²Œ ë‚˜ë¹ ì§€ì§€ ì•Šì•„ìš”!
                    </p>
                </div>

                <div class="example-grid">
                    <div class="example-card">
                        <h4>ì••ì¶• ì „</h4>
                        <p style="font-size: 0.9em;">
                            ëª¨ë“  ì£¼íŒŒìˆ˜ ê°’ ë³´ê´€<br>
                            150, 120, 80, 45, 30, 15, 8, 3<br>
                            100, 90, 60, 25, 12, 6, 2, 1<br>
                            70, 55, 35, 18, 8, 3, 1, 0<br>
                            ...<br>
                            <br>
                            íŒŒì¼ í¬ê¸°: <strong>í¼</strong>
                        </p>
                    </div>
                    <div class="example-card">
                        <h4>ì••ì¶• í›„ (ì–‘ìí™”)</h4>
                        <p style="font-size: 0.9em;">
                            ê³ ì£¼íŒŒ ë¶€ë¶„ì„ 0ìœ¼ë¡œ!<br>
                            150, 120, 80, 45, 0, 0, 0, 0<br>
                            100, 90, 60, 0, 0, 0, 0, 0<br>
                            70, 55, 0, 0, 0, 0, 0, 0<br>
                            ...<br>
                            <br>
                            íŒŒì¼ í¬ê¸°: <strong>ì‘ìŒ!</strong>
                        </p>
                    </div>
                </div>

                <div class="concept-box">
                    <p style="text-align: center; font-size: 1.2em;">
                        <span class="tooltip-trigger" onclick="showTooltip(this)">
                            ğŸ’¾
                            <span class="tooltip-message" style="display: none;">ì°¸ìƒˆë‹¤!</span>
                        </span>
                         0ì´ ë§ìœ¼ë©´ ì••ì¶•ì´ ì˜ ë¼ìš”! 
                        íŒŒì¼ í¬ê¸°ê°€ <span class="highlight">1/10 ~ 1/20</span>ë¡œ ì¤„ì–´ë“¤ì–´ìš”!
                    </p>
                </div>
            </div>

            <!-- 5ë‹¨ê³„: ì‹¤ì œ ì••ì¶• ì²´í—˜ -->
            <div class="section">
                <h2><span class="step-number">5</span>ì§ì ‘ ì••ì¶•í•´ë³´ê¸°</h2>
                
                <div class="interactive-box">
                    <h3>ğŸ® ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ê³  ì••ì¶•í•´ë³´ì„¸ìš”!</h3>
                    <div style="text-align: center; margin: 20px 0;">
                        <button onclick="loadSampleImage('sky')">ğŸŒ… í•˜ëŠ˜ (ì €ì£¼íŒŒ ë§ìŒ)</button>
                        <button onclick="loadSampleImage('portrait')">ğŸ˜Š ì–¼êµ´ (ì¤‘ê°„)</button>
                        <button onclick="loadSampleImage('building')">ğŸ¢ ê±´ë¬¼ (ê³ ì£¼íŒŒ ë§ìŒ)</button>
                    </div>

                    <div class="slider-container">
                        <label style="font-weight: bold; display: block; margin-bottom: 15px; font-size: 1.2em;">
                            ì••ì¶• í’ˆì§ˆ: <span id="qualityValue" class="value-display">80</span>%
                        </label>
                        <input type="range" min="10" max="100" value="80" class="slider" 
                               id="qualitySlider" oninput="updateQuality(this.value)">
                        <div style="display: flex; justify-content: space-between; margin-top: 10px; color: #666; font-size: 1.05em;">
                            <span>â† ë§ì´ ì••ì¶•<br>(ê³ ì£¼íŒŒ ë§ì´ ë²„ë¦¼)</span>
                            <span>ì ê²Œ ì••ì¶• â†’<br>(ê³ ì£¼íŒŒ ì¡°ê¸ˆ ë²„ë¦¼)</span>
                        </div>
                    </div>

                    <div class="canvas-container">
                        <div class="canvas-box">
                            <h4>ì›ë³¸ (100 KB)</h4>
                            <canvas id="originalCanvas" width="320" height="320"></canvas>
                        </div>
                        <div class="canvas-box">
                            <h4>ì••ì¶• í›„ (<span id="compressedSize">80</span> KB)</h4>
                            <canvas id="compressedCanvas" width="320" height="320"></canvas>
                            <div style="margin-top: 15px;">
                                <div class="info-badge">
                                    <span id="savedSize">20</span> KB ì ˆì•½!
                                </div>
                                <div class="info-badge" style="background: #10b981;">
                                    <span id="savedPercent">20</span>% ì¤„ì–´ë“¦
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="result-box" id="resultExplanation">
                        <p><strong>ê²°ê³¼:</strong> í’ˆì§ˆ 80% - ì¢‹ì€ ê· í˜•ì´ì—ìš”! íŒŒì¼ì€ ì‘ì•„ì§€ê³  í’ˆì§ˆì€ ê±°ì˜ ê·¸ëŒ€ë¡œì…ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>

            <!-- 6ë‹¨ê³„: JPEG ì•„í‹°íŒ©íŠ¸ -->
            <div class="section">
                <h2><span class="step-number">6</span>ë„ˆë¬´ ë§ì´ ì••ì¶•í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?</h2>
                
                <div class="warning-box">
                    <h4>âš ï¸ JPEG ì•„í‹°íŒ©íŠ¸ (ì••ì¶• ë¶€ì‘ìš©)</h4>
                    <p style="font-size: 1.05em; line-height: 1.8;">
                        ì••ì¶•ì„ ë„ˆë¬´ ë§ì´ í•˜ë©´ (í’ˆì§ˆ 30% ì´í•˜) ì´ë¯¸ì§€ì— <strong>ë„¤ëª¨ ë¬´ëŠ¬</strong>ê°€ ìƒê¸°ê³  
                        ì„¸ë°€í•œ ë¶€ë¶„ì´ <strong>ë­‰ê°œì ¸ìš”</strong>. ì´ê±¸ 'JPEG ì•„í‹°íŒ©íŠ¸'ë¼ê³  ë¶ˆëŸ¬ìš”.
                        <br><br>
                        ì™œ ê·¸ëŸ´ê¹Œìš”? 8Ã—8 ë¸”ë¡ ë‹¨ìœ„ë¡œ ì••ì¶•í•˜ë‹¤ ë³´ë‹ˆ, ë„ˆë¬´ ë§ì´ ì••ì¶•í•˜ë©´ 
                        ë¸”ë¡ ê²½ê³„ê°€ ëˆˆì— ë³´ì´ê²Œ ë˜ëŠ” ê±°ì˜ˆìš”!
                    </p>
                </div>

                <div class="interactive-box">
                    <h3>ğŸ” ì•„í‹°íŒ©íŠ¸ í™•ì¸í•˜ê¸°</h3>
                    <p style="text-align: center; font-size: 1.1em; margin-bottom: 20px;">
                        ìœ„ì˜ ìŠ¬ë¼ì´ë”ë¥¼ 10~20%ë¡œ ë‚´ë ¤ë³´ì„¸ìš”. ë¸”ë¡ ë¬´ëŠ¬ê°€ ë³´ì´ë‚˜ìš”?
                    </p>
                </div>
            </div>

            <!-- 7ë‹¨ê³„: ì‹¤ìƒí™œ ì‘ìš© -->
            <div class="section">
                <h2><span class="step-number">7</span>ìš°ë¦¬ ìƒí™œì—ì„œëŠ” ì–´ë–»ê²Œ ì“°ì¼ê¹Œ?</h2>
                
                <div class="example-grid">
                    <div class="example-card">
                        <h4>ğŸ“± ì¹´ì¹´ì˜¤í†¡ / ì¸ìŠ¤íƒ€ê·¸ë¨</h4>
                        <p>ì´ë¯¸ì§€ë¥¼ ë³´ë‚¼ ë•Œ ìë™ìœ¼ë¡œ JPEG ì••ì¶•ì„ í•´ì„œ ë¹ ë¥´ê²Œ ì „ì†¡í•´ìš”</p>
                    </div>
                    <div class="example-card">
                        <h4>ğŸ“· ë””ì§€í„¸ ì¹´ë©”ë¼</h4>
                        <p>ì‚¬ì§„ì„ JPEGë¡œ ì €ì¥í•˜ë©´ ë©”ëª¨ë¦¬ ì¹´ë“œ ìš©ëŸ‰ì„ 10ë°° ì´ìƒ ì•„ë‚„ ìˆ˜ ìˆì–´ìš”</p>
                    </div>
                    <div class="example-card">
                        <h4>ğŸŒ ì›¹ì‚¬ì´íŠ¸</h4>
                        <p>ì›¹í˜ì´ì§€ì˜ ì´ë¯¸ì§€ë¥¼ ì••ì¶•í•˜ë©´ í˜ì´ì§€ê°€ ë¹ ë¥´ê²Œ ì—´ë ¤ìš”</p>
                    </div>
                    <div class="example-card">
                        <h4>ğŸ¬ ìœ íŠœë¸Œ / ë„·í”Œë¦­ìŠ¤</h4>
                        <p>ë™ì˜ìƒë„ ë¹„ìŠ·í•œ ë°©ë²•ìœ¼ë¡œ ì••ì¶•í•´ì„œ ìŠ¤íŠ¸ë¦¬ë°í•´ìš” (H.264, H.265)</p>
                    </div>
                </div>
            </div>

            <!-- ì •ë¦¬ -->
            <div class="section" style="background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);">
                <h2>ğŸ“ ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš© ì •ë¦¬!</h2>
                
                <div class="concept-box">
                    <p style="font-size: 1.2em; line-height: 2.2;">
                        <strong>1.</strong> ì´ë¯¸ì§€ëŠ” <span class="highlight">ì €ì£¼íŒŒ</span>(í° ë³€í™”)ì™€ <span class="highlight">ê³ ì£¼íŒŒ</span>(ì‘ì€ ë³€í™”)ë¡œ ì´ë£¨ì–´ì ¸ ìˆì–´ìš”<br><br>
                        
                        <strong>2.</strong> JPEGì€ ì´ë¯¸ì§€ë¥¼ <span class="highlight">8Ã—8 ë¸”ë¡</span>ìœ¼ë¡œ ë‚˜ëˆ ìš”<br><br>
                        
                        <strong>3.</strong> <span class="highlight">DCT</span>ë¡œ ê° ë¸”ë¡ì˜ ì£¼íŒŒìˆ˜ë¥¼ ê³„ì‚°í•´ìš”<br><br>
                        
                        <strong>4.</strong> <span class="highlight">ì–‘ìí™”</span>ë¡œ ê³ ì£¼íŒŒë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ì–´ ì••ì¶•í•´ìš”<br><br>
                        
                        <strong>5.</strong> ê²°ê³¼: íŒŒì¼ í¬ê¸°ëŠ” <span class="highlight">1/10~1/20</span>ë¡œ ì¤„ê³ , í’ˆì§ˆì€ ê±°ì˜ ê·¸ëŒ€ë¡œ!<br><br>
                        
                        <strong>6.</strong> ë„ˆë¬´ ë§ì´ ì••ì¶•í•˜ë©´ <span class="highlight">ë¸”ë¡ ë¬´ëŠ¬</span>ê°€ ìƒê²¨ìš” (JPEG ì•„í‹°íŒ©íŠ¸)
                    </p>
                </div>

                <div class="concept-box" style="margin-top: 25px; background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);">
                    <h3 style="color: #92400e; margin-bottom: 15px;">ğŸ’¡ ë” ì•Œì•„ë‘ë©´ ì¢‹ì•„ìš”!</h3>
                    <p style="font-size: 1.05em; line-height: 2;">
                        â€¢ ì‚¬ëŒ ëˆˆì€ ì €ì£¼íŒŒì— ë¯¼ê°í•˜ê³  ê³ ì£¼íŒŒì— ë‘”ê°í•´ìš”<br>
                        â€¢ ê·¸ë˜ì„œ ê³ ì£¼íŒŒë¥¼ ë²„ë ¤ë„ í‹°ê°€ ì•ˆ ë‚˜ìš”!<br>
                        â€¢ JPEG í’ˆì§ˆì€ ë³´í†µ 80~90%ê°€ ì ë‹¹í•´ìš”<br>
                        â€¢ PNGëŠ” ë‹¤ë¥¸ ë°©ì‹(ë¬´ì†ì‹¤)ìœ¼ë¡œ ì••ì¶•í•´ìš”<br>
                        â€¢ ë™ì˜ìƒë„ ë¹„ìŠ·í•œ ì›ë¦¬ë¡œ ì••ì¶•í•´ìš” (MPEG, H.264 ë“±)
                    </p>
                </div>
            </div>
            
            <!-- í™ˆìœ¼ë¡œ ë²„íŠ¼ -->
            <div style="text-align: center; padding: 30px 0;">
                <a href="index.html" class="home-button" style="font-size: 1.1em; padding: 12px 30px;">
                    ğŸ  í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
                </a>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentImageData = null;
        let blockGridVisible = true;
        let currentBlockX = 0;
        let currentBlockY = 0;
        
        // íˆ´íŒ í‘œì‹œ í•¨ìˆ˜
        function showTooltip(element) {
            const tooltip = element.querySelector('.tooltip-message');
            tooltip.style.display = 'block';
            
            setTimeout(() => {
                tooltip.style.display = 'none';
            }, 500);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.onload = function() {
            initializeFrequencyGrid();
            drawWaves();
            initDrawCanvas();
            loadSampleImage('sky');
            initBlockDemo();
        };

        // 8x8 ë¸”ë¡ ê·¸ë¦¬ë“œ ì´ˆê¸°í™”
        function initializeBlockGrid() {
            const grid = document.getElementById('blockGrid');
            for (let i = 0; i < 64; i++) {
                const cell = document.createElement('div');
                cell.className = 'block-cell';
                grid.appendChild(cell);
            }
        }

        // ë¸”ë¡ ë°ëª¨ ì´ˆê¸°í™”
        function initBlockDemo() {
            const canvas = document.getElementById('blockDemoCanvas');
            
            // í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€ (í•œ ë²ˆë§Œ)
            canvas.addEventListener('click', function(e) {
                const rect = canvas.getBoundingClientRect();
                const x = Math.floor((e.clientX - rect.left) / 40) * 40;
                const y = Math.floor((e.clientY - rect.top) / 40) * 40;
                currentBlockX = x;
                currentBlockY = y;
                updateBlockDemo();
            });
            
            // ì´ˆê¸° ë¸”ë¡ í‘œì‹œ
            currentBlockX = 200;
            currentBlockY = 200;
            drawDemoImage();
            updateBlockDemo();
        }

        // ë°ëª¨ ì´ë¯¸ì§€ ê·¸ë¦¬ê¸° (ë¶„ë¦¬ëœ í•¨ìˆ˜)
        function drawDemoImage() {
            const canvas = document.getElementById('blockDemoCanvas');
            const ctx = canvas.getContext('2d');
            
            // ìƒ˜í”Œ ì´ë¯¸ì§€ ê·¸ë¦¬ê¸° (ê°„ë‹¨í•œ í’ê²½)
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#87CEEB');
            gradient.addColorStop(0.5, '#98D8E8');
            gradient.addColorStop(0.7, '#90EE90');
            gradient.addColorStop(1, '#228B22');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // íƒœì–‘
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(80, 60, 30, 0, Math.PI * 2);
            ctx.fill();
            
            // ì§‘
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(200, 220, 80, 60);
            ctx.fillStyle = '#DC143C';
            ctx.beginPath();
            ctx.moveTo(190, 220);
            ctx.lineTo(240, 180);
            ctx.lineTo(290, 220);
            ctx.closePath();
            ctx.fill();
            
            // ì°½ë¬¸
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(215, 240, 20, 20);
            ctx.fillRect(255, 240, 20, 20);
            
            // ë‚˜ë¬´
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(100, 240, 20, 60);
            ctx.fillStyle = '#228B22';
            ctx.beginPath();
            ctx.arc(110, 230, 35, 0, Math.PI * 2);
            ctx.fill();
            
            // êµ¬ë¦„ë“¤
            drawCloud(ctx, 180, 50, 0.8);
            drawCloud(ctx, 280, 70, 0.6);
        }

        // êµ¬ë¦„ ê·¸ë¦¬ê¸° í—¬í¼ í•¨ìˆ˜
        function drawCloud(ctx, x, y, scale) {
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.beginPath();
            ctx.arc(x, y, 15 * scale, 0, Math.PI * 2);
            ctx.arc(x + 15 * scale, y, 20 * scale, 0, Math.PI * 2);
            ctx.arc(x + 30 * scale, y, 15 * scale, 0, Math.PI * 2);
            ctx.fill();
        }

        // ë¸”ë¡ ë°ëª¨ ì—…ë°ì´íŠ¸
        function updateBlockDemo() {
            const mainCanvas = document.getElementById('blockDemoCanvas');
            const mainCtx = mainCanvas.getContext('2d');
            const blockCanvas = document.getElementById('singleBlockCanvas');
            const blockCtx = blockCanvas.getContext('2d');
            
            // ë©”ì¸ ìº”ë²„ìŠ¤ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
            drawDemoImage();
            
            // ê²©ì ê·¸ë¦¬ê¸° (í† ê¸€ ìƒíƒœì— ë”°ë¼)
            if (blockGridVisible) {
                mainCtx.strokeStyle = 'rgba(255, 0, 0, 0.5)';
                mainCtx.lineWidth = 2;
                for (let i = 0; i <= mainCanvas.width; i += 40) {
                    mainCtx.beginPath();
                    mainCtx.moveTo(i, 0);
                    mainCtx.lineTo(i, mainCanvas.height);
                    mainCtx.stroke();
                    
                    mainCtx.beginPath();
                    mainCtx.moveTo(0, i);
                    mainCtx.lineTo(mainCanvas.width, i);
                    mainCtx.stroke();
                }
            }
            
            // ì„ íƒëœ ë¸”ë¡ ê°•ì¡°
            mainCtx.strokeStyle = '#FF0000';
            mainCtx.lineWidth = 4;
            mainCtx.strokeRect(currentBlockX + 1, currentBlockY + 1, 38, 38);
            
            // ì„ íƒëœ ë¸”ë¡ ë³µì‚¬
            const imageData = mainCtx.getImageData(currentBlockX, currentBlockY, 40, 40);
            
            // í™•ëŒ€í•˜ì—¬ í‘œì‹œ (40x40 -> 160x160, ì¦‰ 8x8 í”½ì…€ ë¸”ë¡)
            blockCtx.clearRect(0, 0, blockCanvas.width, blockCanvas.height);
            
            // ê° í”½ì…€ì„ 5x5 í¬ê¸°ë¡œ í™•ëŒ€
            const pixelSize = 20;
            for (let y = 0; y < 8; y++) {
                for (let x = 0; x < 8; x++) {
                    // 5x5 ì˜ì—­ì˜ í‰ê·  ìƒ‰ìƒ ê³„ì‚°
                    let r = 0, g = 0, b = 0, count = 0;
                    for (let dy = 0; dy < 5; dy++) {
                        for (let dx = 0; dx < 5; dx++) {
                            const srcX = x * 5 + dx;
                            const srcY = y * 5 + dy;
                            if (srcX < 40 && srcY < 40) {
                                const idx = (srcY * 40 + srcX) * 4;
                                r += imageData.data[idx];
                                g += imageData.data[idx + 1];
                                b += imageData.data[idx + 2];
                                count++;
                            }
                        }
                    }
                    r = Math.round(r / count);
                    g = Math.round(g / count);
                    b = Math.round(b / count);
                    
                    blockCtx.fillStyle = `rgb(${r}, ${g}, ${b})`;
                    blockCtx.fillRect(x * pixelSize, y * pixelSize, pixelSize, pixelSize);
                }
            }
            
            // 8x8 ê²©ì ê·¸ë¦¬ê¸°
            blockCtx.strokeStyle = '#666';
            blockCtx.lineWidth = 2;
            for (let i = 0; i <= 8; i++) {
                blockCtx.beginPath();
                blockCtx.moveTo(i * pixelSize, 0);
                blockCtx.lineTo(i * pixelSize, blockCanvas.height);
                blockCtx.stroke();
                
                blockCtx.beginPath();
                blockCtx.moveTo(0, i * pixelSize);
                blockCtx.lineTo(blockCanvas.width, i * pixelSize);
                blockCtx.stroke();
            }
            
            // í”½ì…€ ë²ˆí˜¸ í‘œì‹œ
            blockCtx.fillStyle = 'rgba(255, 255, 255, 0.7)';
            blockCtx.font = 'bold 11px Arial';
            blockCtx.textAlign = 'center';
            blockCtx.textBaseline = 'middle';
            for (let y = 0; y < 8; y++) {
                for (let x = 0; x < 8; x++) {
                    const num = y * 8 + x + 1;
                    blockCtx.fillText(num.toString(), x * pixelSize + pixelSize/2, y * pixelSize + pixelSize/2);
                }
            }
        }

        // ê²©ì í† ê¸€
        function toggleBlockGrid() {
            blockGridVisible = !blockGridVisible;
            updateBlockDemo();
        }

        // ëœë¤ ë¸”ë¡ ê°•ì¡°
        function highlightRandomBlock() {
            currentBlockX = Math.floor(Math.random() * 8) * 40;
            currentBlockY = Math.floor(Math.random() * 8) * 40;
            updateBlockDemo();
        }

        // ì£¼íŒŒìˆ˜ ê·¸ë¦¬ë“œ ì´ˆê¸°í™”
        function initializeFrequencyGrid() {
            const grid = document.getElementById('frequencyGrid');
            
            // í˜„ì‹¤ì ì¸ DCT ê³„ìˆ˜ ê°’ (8x8 í–‰ë ¬)
            // íŠ¹ì§•: ì™¼ìª½ ìœ„ëŠ” í° ê°’, ì˜¤ë¥¸ìª½ ì•„ë˜ë¡œ ê°ˆìˆ˜ë¡ ì‘ì•„ì§€ê³  0ì´ ë§ì•„ì§
            const dctValues = [
                [415, -33, -12, 8, 4, -3, 1, 0],
                [-28, -24, 6, 5, -2, 1, 0, 0],
                [-19, 13, -7, 3, 1, 0, 0, 0],
                [11, -8, 4, -2, 1, 0, 0, 0],
                [7, -5, 2, -1, 0, 0, 0, 0],
                [-4, 3, -1, 0, 0, 0, 0, 0],
                [2, -1, 0, 0, 0, 0, 0, 0],
                [-1, 0, 0, 0, 0, 0, 0, 0]
            ];
            
            for (let y = 0; y < 8; y++) {
                for (let x = 0; x < 8; x++) {
                    const cell = document.createElement('div');
                    cell.className = 'freq-cell';
                    
                    // ê±°ë¦¬ì— ë”°ë¼ ìƒ‰ìƒ ë³€ê²½ (ì €ì£¼íŒŒëŠ” ë°ì€ ë² ì´ì§€, ê³ ì£¼íŒŒëŠ” ì–´ë‘ìš´ ê°ˆìƒ‰/ê²€ì •)
                    const dist = Math.sqrt(x * x + y * y);
                    const maxDist = Math.sqrt(7 * 7 + 7 * 7); // ëŒ€ê°ì„  ìµœëŒ€ ê±°ë¦¬
                    const ratio = dist / maxDist; // 0 (ì €ì£¼íŒŒ) ~ 1 (ê³ ì£¼íŒŒ)
                    
                    // ë² ì´ì§€(255,220,180) â†’ ê°ˆìƒ‰(100,70,40) â†’ ê²€ì •(30,20,10)
                    let r, g, b;
                    if (ratio < 0.5) {
                        // ì €ì£¼íŒŒ â†’ ì¤‘ê°„: ë°ì€ ë² ì´ì§€ â†’ ê°ˆìƒ‰
                        const t = ratio * 2;
                        r = Math.round(255 - t * 55);
                        g = Math.round(255 - t * 55);
                        b = Math.round(255 - t * 55);
                    } else {
                        // ì¤‘ê°„ â†’ ê³ ì£¼íŒŒ: ê°ˆìƒ‰ â†’ ì–´ë‘ìš´ ê²€ì •
                        const t = (ratio - 0.5) * 2;
                        r = Math.round(200 - t * 80);
                        g = Math.round(200 - t * 80);
                        b = Math.round(200 - t * 80);
                    }
                    
                    cell.style.background = `rgb(${r}, ${g}, ${b})`;
                    
                    // í…ìŠ¤íŠ¸ ìƒ‰ìƒ ê²°ì • (ë°ì€ ë°°ê²½ì´ë©´ ì–´ë‘ìš´ í…ìŠ¤íŠ¸, ì–´ë‘ìš´ ë°°ê²½ì´ë©´ ë°ì€ í…ìŠ¤íŠ¸)
                    const brightness = (r + g + b) / 3;
                    cell.style.color = brightness > 128 ? '#333' : '#fff';
                    
                    // DCT ê³„ìˆ˜ ê°’ í‘œì‹œ
                    const value = dctValues[y][x];
                    const valueSpan = document.createElement('span');
                    valueSpan.className = 'freq-value';
                    valueSpan.textContent = value;
                    cell.appendChild(valueSpan);
                    
                    // íŠ¹ë³„í•œ ìœ„ì¹˜ í‘œì‹œ (ì™¼ìª½ ìœ„ì— ë¹¨ê°„ í…Œë‘ë¦¬)
                    if (x <= 2 && y <= 2) {
                        cell.style.border = '2px solid rgba(255, 0, 0, 0.6)';
                    }
                    
                    // ì €ì£¼íŒŒ/ê³ ì£¼íŒŒ ë ˆì´ë¸” ì¶”ê°€ (ì‘ê²Œ)
                    if (x === 0 && y === 0) {
                        const label = document.createElement('div');
                        label.style.fontSize = '0.55em';
                        label.style.marginBottom = '2px';
                        label.textContent = 'ì €ì£¼íŒŒ';
                        cell.insertBefore(label, valueSpan);
                    } else if (x === 7 && y === 7) {
                        const label = document.createElement('div');
                        label.style.fontSize = '0.5em';
                        label.style.marginBottom = '2px';
                        label.textContent = 'ê³ ì£¼íŒŒ';
                        cell.insertBefore(label, valueSpan);
                    }
                    
                    grid.appendChild(cell);
                }
            }
        }

        // íŒŒë„ ê·¸ë¦¬ê¸°
        function drawWaves() {
            // ì €ì£¼íŒŒ íŒŒë„
            const lowCanvas = document.getElementById('lowFreqWave');
            const lowCtx = lowCanvas.getContext('2d');
            lowCtx.clearRect(0, 0, lowCanvas.width, lowCanvas.height);
            
            // ë°°ê²½
            lowCtx.fillStyle = '#f0f9ff';
            lowCtx.fillRect(0, 0, lowCanvas.width, lowCanvas.height);
            
            // ì €ì£¼íŒŒ íŒŒë„ ê·¸ë¦¬ê¸°
            lowCtx.strokeStyle = '#3b82f6';
            lowCtx.lineWidth = 4;
            lowCtx.beginPath();
            for (let x = 0; x < lowCanvas.width; x++) {
                const y = lowCanvas.height/2 + Math.sin(x * 0.015) * 45;
                if (x === 0) lowCtx.moveTo(x, y);
                else lowCtx.lineTo(x, y);
            }
            lowCtx.stroke();
            
            // í…ìŠ¤íŠ¸
            lowCtx.fillStyle = '#1e40af';
            lowCtx.font = 'bold 14px Malgun Gothic';
            lowCtx.fillText('ì²œì²œíˆ ë³€í•¨', 10, 25);

            // ê³ ì£¼íŒŒ íŒŒë„
            const highCanvas = document.getElementById('highFreqWave');
            const highCtx = highCanvas.getContext('2d');
            highCtx.clearRect(0, 0, highCanvas.width, highCanvas.height);
            
            // ë°°ê²½
            highCtx.fillStyle = '#fef2f2';
            highCtx.fillRect(0, 0, highCanvas.width, highCanvas.height);
            
            // ê³ ì£¼íŒŒ íŒŒë„ ê·¸ë¦¬ê¸°
            highCtx.strokeStyle = '#ef4444';
            highCtx.lineWidth = 3;
            highCtx.beginPath();
            for (let x = 0; x < highCanvas.width; x++) {
                const y = highCanvas.height/2 + Math.sin(x * 0.15) * 25;
                if (x === 0) highCtx.moveTo(x, y);
                else highCtx.lineTo(x, y);
            }
            highCtx.stroke();
            
            // í…ìŠ¤íŠ¸
            highCtx.fillStyle = '#991b1b';
            highCtx.font = 'bold 14px Malgun Gothic';
            highCtx.fillText('ë¹ ë¥´ê²Œ ë³€í•¨', 10, 25);
        }

        // ê·¸ë¦¬ê¸° ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
        function initDrawCanvas() {
            const canvas = document.getElementById('drawCanvas');
            const ctx = canvas.getContext('2d');
            const pixelSize = 20;
            
            // í°ìƒ‰ ë°°ê²½
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ê·¸ë¦¬ë“œ ê·¸ë¦¬ê¸°
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            for (let i = 0; i <= canvas.width; i += pixelSize) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i, canvas.height);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(0, i);
                ctx.lineTo(canvas.width, i);
                ctx.stroke();
            }
            
            // í´ë¦­ ì´ë²¤íŠ¸
            canvas.addEventListener('click', function(e) {
                const rect = canvas.getBoundingClientRect();
                const x = Math.floor((e.clientX - rect.left) / pixelSize) * pixelSize;
                const y = Math.floor((e.clientY - rect.top) / pixelSize) * pixelSize;
                
                ctx.fillStyle = 'black';
                ctx.fillRect(x, y, pixelSize, pixelSize);
            });
        }

        // ìº”ë²„ìŠ¤ ì§€ìš°ê¸°
        function clearCanvas() {
            initDrawCanvas();
            document.getElementById('drawResult').style.display = 'none';
        }

        // ì €ì£¼íŒŒ ì˜ˆì‹œ ê·¸ë¦¬ê¸°
        function drawLowFrequency() {
            const canvas = document.getElementById('drawCanvas');
            const ctx = canvas.getContext('2d');
            const pixelSize = 20;
            
            clearCanvas();
            
            // ë¶€ë“œëŸ¬ìš´ ê·¸ë¼ë°ì´ì…˜ (ì €ì£¼íŒŒ)
            ctx.fillStyle = 'black';
            for (let y = 0; y < 16; y++) {
                for (let x = 0; x < 16; x++) {
                    const distance = Math.sqrt((x - 8) ** 2 + (y - 8) ** 2);
                    const alpha = Math.max(0, 1 - distance / 8);
                    ctx.globalAlpha = alpha;
                    ctx.fillRect(x * pixelSize, y * pixelSize, pixelSize, pixelSize);
                }
            }
            ctx.globalAlpha = 1;
            
            document.getElementById('drawResult').innerHTML = 
                '<strong>ì €ì£¼íŒŒ ì´ë¯¸ì§€:</strong> ì²œì²œíˆ, ë¶€ë“œëŸ½ê²Œ ë³€í•©ë‹ˆë‹¤. ê°€ìš´ë°ê°€ ì§„í•˜ê³  ì£¼ë³€ìœ¼ë¡œ ê°ˆìˆ˜ë¡ ì˜…ì–´ì§‘ë‹ˆë‹¤.';
            document.getElementById('drawResult').style.display = 'block';
        }

        // ê³ ì£¼íŒŒ ì˜ˆì‹œ ê·¸ë¦¬ê¸°
        function drawHighFrequency() {
            const canvas = document.getElementById('drawCanvas');
            const ctx = canvas.getContext('2d');
            const pixelSize = 20;
            
            clearCanvas();
            
            // ì²´ìŠ¤íŒ íŒ¨í„´ (ê³ ì£¼íŒŒ)
            ctx.fillStyle = 'black';
            for (let y = 0; y < 16; y++) {
                for (let x = 0; x < 16; x++) {
                    if ((x + y) % 2 === 0) {
                        ctx.fillRect(x * pixelSize, y * pixelSize, pixelSize, pixelSize);
                    }
                }
            }
            
            document.getElementById('drawResult').innerHTML = 
                '<strong>ê³ ì£¼íŒŒ ì´ë¯¸ì§€:</strong> ë¹ ë¥´ê²Œ, ê¸‰ê²©í•˜ê²Œ ë³€í•©ë‹ˆë‹¤. í”½ì…€ë§ˆë‹¤ ìƒ‰ì´ ë°”ë€Œì–´ ê²½ê³„ì„ ì´ ë§ìŠµë‹ˆë‹¤.';
            document.getElementById('drawResult').style.display = 'block';
        }

        // ìƒ˜í”Œ ì´ë¯¸ì§€ ë¡œë“œ
        function loadSampleImage(type) {
            const canvas = document.getElementById('originalCanvas');
            const ctx = canvas.getContext('2d');
            const size = canvas.width;
            
            ctx.clearRect(0, 0, size, size);
            
            if (type === 'sky') {
                // í•˜ëŠ˜ - ì €ì£¼íŒŒ ë§ìŒ
                const gradient = ctx.createLinearGradient(0, 0, 0, size);
                gradient.addColorStop(0, '#93c5fd');
                gradient.addColorStop(0.35, '#60a5fa');
                gradient.addColorStop(0.65, '#fbbf24');
                gradient.addColorStop(1, '#fb923c');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, size, size);
                
                // íƒœì–‘
                ctx.fillStyle = '#fef08a';
                ctx.shadowColor = '#fbbf24';
                ctx.shadowBlur = 20;
                ctx.beginPath();
                ctx.arc(size * 0.75, size * 0.25, 45, 0, Math.PI * 2);
                ctx.fill();
                ctx.shadowBlur = 0;
                
                // êµ¬ë¦„
                ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                ctx.beginPath();
                ctx.arc(90, 70, 35, 0, Math.PI * 2);
                ctx.arc(125, 70, 40, 0, Math.PI * 2);
                ctx.arc(160, 70, 35, 0, Math.PI * 2);
                ctx.fill();
                
            } else if (type === 'portrait') {
                // ì–¼êµ´ - ì¤‘ê°„
                ctx.fillStyle = '#fef3c7';
                ctx.fillRect(0, 0, size, size);
                
                // ì–¼êµ´
                ctx.fillStyle = '#fde047';
                ctx.beginPath();
                ctx.arc(size/2, size/2, 110, 0, Math.PI * 2);
                ctx.fill();
                
                // ëˆˆ
                ctx.fillStyle = '#1f2937';
                ctx.beginPath();
                ctx.arc(size/2 - 40, size/2 - 30, 14, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(size/2 + 40, size/2 - 30, 14, 0, Math.PI * 2);
                ctx.fill();
                
                // ëˆˆë™ì
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(size/2 - 37, size/2 - 33, 5, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(size/2 + 43, size/2 - 33, 5, 0, Math.PI * 2);
                ctx.fill();
                
                // ì…
                ctx.strokeStyle = '#1f2937';
                ctx.lineWidth = 5;
                ctx.beginPath();
                ctx.arc(size/2, size/2 + 25, 45, 0, Math.PI);
                ctx.stroke();
                
            } else if (type === 'building') {
                // ê±´ë¬¼ - ê³ ì£¼íŒŒ ë§ìŒ
                ctx.fillStyle = '#bae6fd';
                ctx.fillRect(0, 0, size, size);
                
                // ê±´ë¬¼ë“¤
                const buildings = [
                    {x: 35, y: 130, w: 70, h: 190},
                    {x: 115, y: 100, w: 80, h: 220},
                    {x: 205, y: 150, w: 60, h: 170},
                ];
                
                buildings.forEach(b => {
                    // ê±´ë¬¼ ë³¸ì²´
                    ctx.fillStyle = '#475569';
                    ctx.fillRect(b.x, b.y, b.w, b.h);
                    
                    // ê±´ë¬¼ í…Œë‘ë¦¬
                    ctx.strokeStyle = '#1e293b';
                    ctx.lineWidth = 2;
                    ctx.strokeRect(b.x, b.y, b.w, b.h);
                    
                    // ì°½ë¬¸ë“¤ (ê³ ì£¼íŒŒ!)
                    ctx.fillStyle = '#fef3c7';
                    const cols = Math.floor(b.w / 20);
                    const rows = Math.floor(b.h / 28);
                    for (let r = 0; r < rows; r++) {
                        for (let c = 0; c < cols; c++) {
                            const winX = b.x + 10 + c * 20;
                            const winY = b.y + 15 + r * 28;
                            ctx.fillRect(winX, winY, 12, 18);
                            // ì°½ë¬¸ í…Œë‘ë¦¬
                            ctx.strokeStyle = '#92400e';
                            ctx.lineWidth = 1;
                            ctx.strokeRect(winX, winY, 12, 18);
                        }
                    }
                });
            }
            
            // ì´ë¯¸ì§€ ë°ì´í„° ì €ì¥
            currentImageData = ctx.getImageData(0, 0, size, size);
            
            // ì´ˆê¸° ì••ì¶• ì ìš©
            updateQuality(80);
        }

        // í’ˆì§ˆ ì—…ë°ì´íŠ¸ ë° ì••ì¶• ì ìš©
        function updateQuality(value) {
            document.getElementById('qualityValue').textContent = value;
            
            if (!currentImageData) return;
            
            // íŒŒì¼ í¬ê¸° ê³„ì‚°
            const originalSize = 100; // KB
            const compressedSize = Math.round(originalSize * (value / 100));
            const savedSize = originalSize - compressedSize;
            const savedPercent = Math.round((savedSize / originalSize) * 100);
            
            document.getElementById('compressedSize').textContent = compressedSize;
            document.getElementById('savedSize').textContent = savedSize;
            document.getElementById('savedPercent').textContent = savedPercent;
            
            // ì••ì¶• ìº”ë²„ìŠ¤ì— ë³µì‚¬ ë° íš¨ê³¼ ì ìš©
            const canvas = document.getElementById('compressedCanvas');
            const ctx = canvas.getContext('2d');
            ctx.putImageData(currentImageData, 0, 0);
            
            // ë¸”ëŸ¬ íš¨ê³¼ë¡œ ê³ ì£¼íŒŒ ì œê±° ì‹œë®¬ë ˆì´ì…˜
            const blurAmount = Math.round((100 - value) / 12);
            if (blurAmount > 0) {
                applyBoxBlur(ctx, canvas.width, canvas.height, blurAmount);
            }
            
            // ë¸”ë¡ ì•„í‹°íŒ©íŠ¸ íš¨ê³¼ (ë‚®ì€ í’ˆì§ˆì¼ ë•Œ)
            if (value < 40) {
                addBlockArtifact(ctx, canvas.width, canvas.height, value);
            }
            
            // ê²°ê³¼ ì„¤ëª…
            let explanation = '';
            if (value >= 80) {
                explanation = '<p><strong>ë†’ì€ í’ˆì§ˆ (80~100%):</strong> ê³ ì£¼íŒŒë¥¼ ê±°ì˜ ë²„ë¦¬ì§€ ì•Šì•„ìš”. ì›ë³¸ê³¼ ê±°ì˜ ë˜‘ê°™ì§€ë§Œ ì••ì¶•ë¥ ì€ ë‚®ì•„ìš”. (' + savedPercent + '% ì ˆì•½)</p>';
            } else if (value >= 50) {
                explanation = '<p><strong>ì ì ˆí•œ í’ˆì§ˆ (50~79%):</strong> ì €ì£¼íŒŒëŠ” ê·¸ëŒ€ë¡œ ë‘ê³  ê³ ì£¼íŒŒë¥¼ ì¡°ê¸ˆë§Œ ë²„ë ¤ìš”. í’ˆì§ˆê³¼ í¬ê¸°ì˜ ì¢‹ì€ ê· í˜•! ëŒ€ë¶€ë¶„ ì´ ì •ë„ë¡œ ì €ì¥í•´ìš”. (' + savedPercent + '% ì ˆì•½)</p>';
            } else if (value >= 30) {
                explanation = '<p><strong>ë‚®ì€ í’ˆì§ˆ (30~49%):</strong> ê³ ì£¼íŒŒë¥¼ ë§ì´ ë²„ë ¤ì„œ ì„¸ë°€í•œ ë¶€ë¶„ì´ íë ¤ì ¸ìš”. íŒŒì¼ì€ ë§ì´ ì‘ì•„ì§€ì§€ë§Œ í’ˆì§ˆì´ ë–¨ì–´ì ¸ìš”. (' + savedPercent + '% ì ˆì•½)</p>';
            } else {
                explanation = '<p><strong>âš ï¸ ë§¤ìš° ë‚®ì€ í’ˆì§ˆ (10~29%):</strong> ê³ ì£¼íŒŒë¥¼ ê±°ì˜ ë‹¤ ë²„ë ¤ì„œ <span class="highlight">ë¸”ë¡ ë¬´ëŠ¬(JPEG ì•„í‹°íŒ©íŠ¸)</span>ê°€ ìƒê²¨ìš”! íŒŒì¼ì€ ì•„ì£¼ ì‘ì§€ë§Œ í’ˆì§ˆì´ ë§ì´ ë‚˜ë¹ ìš”. (' + savedPercent + '% ì ˆì•½)</p>';
            }
            
            document.getElementById('resultExplanation').innerHTML = explanation;
        }

        // ë°•ìŠ¤ ë¸”ëŸ¬ ì ìš© (ê³ ì£¼íŒŒ ì œê±° ì‹œë®¬ë ˆì´ì…˜)
        function applyBoxBlur(ctx, width, height, radius) {
            const imageData = ctx.getImageData(0, 0, width, height);
            const data = imageData.data;
            const tempData = new Uint8ClampedArray(data);
            
            for (let y = 0; y < height; y++) {
                for (let x = 0; x < width; x++) {
                    let r = 0, g = 0, b = 0, count = 0;
                    
                    for (let dy = -radius; dy <= radius; dy++) {
                        for (let dx = -radius; dx <= radius; dx++) {
                            const nx = x + dx;
                            const ny = y + dy;
                            
                            if (nx >= 0 && nx < width && ny >= 0 && ny < height) {
                                const idx = (ny * width + nx) * 4;
                                r += tempData[idx];
                                g += tempData[idx + 1];
                                b += tempData[idx + 2];
                                count++;
                            }
                        }
                    }
                    
                    const idx = (y * width + x) * 4;
                    data[idx] = r / count;
                    data[idx + 1] = g / count;
                    data[idx + 2] = b / count;
                }
            }
            
            ctx.putImageData(imageData, 0, 0);
        }

        // ë¸”ë¡ ì•„í‹°íŒ©íŠ¸ ì¶”ê°€ (ë‚®ì€ í’ˆì§ˆ ì‹œë®¬ë ˆì´ì…˜)
        function addBlockArtifact(ctx, width, height, quality) {
            const imageData = ctx.getImageData(0, 0, width, height);
            const data = imageData.data;
            const blockSize = 8;
            const strength = (40 - quality) / 40; // 0~1
            
            // 8x8 ë¸”ë¡ ê²½ê³„ì— ì•½ê°„ì˜ ë¶ˆì—°ì†ì„± ì¶”ê°€
            for (let y = 0; y < height; y += blockSize) {
                for (let x = 0; x < width; x += blockSize) {
                    // ë¸”ë¡ ê²½ê³„ ê°•ì¡°
                    if (x > 0 && y > 0) {
                        for (let i = 0; i < blockSize && y + i < height; i++) {
                            const idx = ((y + i) * width + x) * 4;
                            const offset = strength * 15;
                            data[idx] = Math.min(255, data[idx] + offset);
                            data[idx + 1] = Math.min(255, data[idx + 1] + offset);
                            data[idx + 2] = Math.min(255, data[idx + 2] + offset);
                        }
                        for (let i = 0; i < blockSize && x + i < width; i++) {
                            const idx = (y * width + (x + i)) * 4;
                            const offset = strength * 15;
                            data[idx] = Math.min(255, data[idx] + offset);
                            data[idx + 1] = Math.min(255, data[idx + 1] + offset);
                            data[idx + 2] = Math.min(255, data[idx + 2] + offset);
                        }
                    }
                }
            }
            
            ctx.putImageData(imageData, 0, 0);
        }
    </script>
</body>
</html>