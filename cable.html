<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ìœ ì„  ë„¤íŠ¸ì›Œí¬ - ì¼€ì´ë¸”ê³¼ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { 
      font-family: 'Malgun Gothic', sans-serif; 
      background: linear-gradient(135deg, #0f766e 0%, #0e7490 100%);
      margin: 0;
      padding: 20px;
    }
    @keyframes bounceOnce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .slide-in {
      animation: slideIn 0.5s ease-out;
    }
    .tooltip {
      position: fixed;
      background-color: #000011;
      color: #ffffff;
      padding: 6px 12px;
      border-radius: 8px;
      font-weight: bold;
      font-size: 10pt;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
      z-index: 1000;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;

    const WiredNetworkEducation = () => {
      const [selectedDevice, setSelectedDevice] = useState(null);
      const [activeTab, setActiveTab] = useState('cables');
      const [quizAnswers, setQuizAnswers] = useState({});
      const [showQuizResult, setShowQuizResult] = useState(false);
      const [showTooltip, setShowTooltip] = useState(false);
      const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });

      const cables = [
        {
          id: 'utp',
          emoji: 'ğŸ”Œ',
          name: 'UTP ì¼€ì´ë¸”',
          subtitle: 'ê°€ì¥ í”í•œ ëœì„ ',
          color: 'blue',
          speed: 'cat6ê¸°ì¤€ 10Gbps',
          distance: '100m',
          image: 'src/utp.png',
          description: 'Unshielded Twisted Pairì˜ ì•½ìë¡œ, 8ê°œì˜ êµ¬ë¦¬ì„ ì´ 2ê°œì”© ê¼¬ì—¬ìˆëŠ” ì¼€ì´ë¸”ì…ë‹ˆë‹¤.',
          features: [
            '8ê°œì˜ ê°€ëŠ” êµ¬ë¦¬ì„ ì´ 4ìŒìœ¼ë¡œ ê¼¬ì—¬ìˆì–´ìš”',
            'ì „íŒŒ ê°„ì„­ì„ ì¤„ì´ê¸° ìœ„í•´ ê¼¬ì•„ë†“ì•˜ì–´ìš”',
            'ì§‘ê³¼ í•™êµì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©í•´ìš”',
            'ì €ë ´í•˜ê³  ì„¤ì¹˜ê°€ ì‰¬ì›Œìš”'
          ],
          realLife: 'ì—¬ëŸ¬ë¶„ì´ ì»´í“¨í„°ì— ê½‚ëŠ” ì¸í„°ë„· ì„ ì´ ë°”ë¡œ UTP ì¼€ì´ë¸”ì…ë‹ˆë‹¤!'
        },
        {
          id: 'coaxial',
          emoji: 'ğŸ“º',
          name: 'ë™ì¶• ì¼€ì´ë¸”',
          subtitle: 'TV ì•ˆí…Œë‚˜ì„ ',
          color: 'orange',
          speed: '1Gbps',
          distance: '500m',
          image: 'src/cox.png',
          description: 'ì¤‘ì‹¬ êµ¬ë¦¬ì„  + ì ˆì—°ì²´ + ê¸ˆì† ë§ + ê²‰ê»ì§ˆë¡œ ì´ë£¨ì–´ì§„ 4ê²¹ êµ¬ì¡°ì˜ ì¼€ì´ë¸”ì…ë‹ˆë‹¤.',
          features: [
            'ì¤‘ì‹¬ì„ ê³¼ ê¸ˆì†ë§ì´ ê°™ì€ ì¶•ì— ìˆì–´ì„œ ë™ì¶•ì´ë¼ê³  ë¶ˆëŸ¬ìš”',
            'UTPë³´ë‹¤ ì „íŒŒ ê°„ì„­ì— ê°•í•´ìš”',
            'ë‘ê»ê³  ë¬´ê±°ìš´ í¸ì´ì—ìš”',
            'TVë‚˜ ì¼€ì´ë¸” ì¸í„°ë„·ì— ì‚¬ìš©ë¼ìš”'
          ],
          realLife: 'TV ë’¤ì— ì—°ê²°ëœ ë‘¥ê·¼ ì¼€ì´ë¸”ì´ ë°”ë¡œ ë™ì¶• ì¼€ì´ë¸”ì´ì—ìš”!'
        },
        {
          id: 'fiber',
          emoji: 'ğŸ’¡',
          name: 'ê´‘ì¼€ì´ë¸”',
          subtitle: 'ë¹›ìœ¼ë¡œ í†µì‹ ',
          color: 'purple',
          speed: '100Gbps+',
          distance: 'ìˆ˜ì‹­ km',
          image: 'src/opt.png',
          description: 'ë¨¸ë¦¬ì¹´ë½ë³´ë‹¤ ì–‡ì€ ìœ ë¦¬ì„¬ìœ ë¡œ ë¹›(ë ˆì´ì €)ì„ ì´ìš©í•´ ë°ì´í„°ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.',
          features: [
            'ì „ê¸° ì‹ í˜¸ê°€ ì•„ë‹Œ ë¹›ìœ¼ë¡œ ë°ì´í„° ì „ì†¡!',
            'ì´ˆê³ ì†ìœ¼ë¡œ ë¨¼ ê±°ë¦¬ê¹Œì§€ ì „ì†¡ ê°€ëŠ¥',
            'ì „íŒŒ ê°„ì„­ì´ ì „í˜€ ì—†ì–´ìš”',
            'ëŒ€ë¥™ ê°„ í•´ì € ì¼€ì´ë¸”ë¡œë„ ì‚¬ìš©ë¼ìš”'
          ],
          realLife: 'ê¸°ê°€ ì¸í„°ë„·ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ë°”ë¡œ ê´‘ì¼€ì´ë¸”ì…ë‹ˆë‹¤!'
        }
      ];

      const devices = [
        {
          id: 'switch',
          emoji: 'ğŸ¯',
          name: 'ìŠ¤ìœ„ì¹­ í—ˆë¸Œ',
          subtitle: 'ë˜‘ë˜‘í•œ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„',
          color: 'green',
          image: 'src/sw.png',
          description: 'ì—¬ëŸ¬ ëŒ€ì˜ ì»´í“¨í„°ë¥¼ ì—°ê²°í•˜ê³ , MAC ì£¼ì†Œë¥¼ ì¸ì‹í•˜ì—¬ ë°›ì„ ì»´í“¨í„°ì—ê²Œë§Œ ì •í™•íˆ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ì¥ë¹„ì…ë‹ˆë‹¤.',
          analogy: 'ìš°ì²´ë¶€',
          analogyDesc: 'ì£¼ì†Œë¥¼ í™•ì¸í•˜ê³  ë°›ì„ ì‚¬ëŒì—ê²Œë§Œ ì •í™•íˆ ë°°ë‹¬í•©ë‹ˆë‹¤',
          features: [
            'MAC ì£¼ì†Œë¥¼ ë³´ê³  ëª©ì ì§€ì—ë§Œ ë°ì´í„° ì „ì†¡',
            'ì—¬ëŸ¬ í¬íŠ¸(8ê°œ, 16ê°œ, 24ê°œ ë“±)ë¡œ ì»´í“¨í„° ì—°ê²°',
            'ì–´ë–¤ ì»´í“¨í„°ê°€ ì–´ë”” ìˆëŠ”ì§€ ìŠ¤ìŠ¤ë¡œ í•™ìŠµí•´ìš”',
            'ë„¤íŠ¸ì›Œí¬ê°€ ë¹ ë¥´ê³  ì•ˆì „í•´ìš”',
            'í•™êµ, íšŒì‚¬, ì§‘ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì¥ë¹„'
          ],
          flow: 'A ì»´í“¨í„° â†’ ìŠ¤ìœ„ì¹­ í—ˆë¸Œ(MAC ì£¼ì†Œ í™•ì¸) â†’ B ì»´í“¨í„°ë§Œ',
          ports: 'ë³´í†µ 5, 8, 16, 24, 48í¬íŠ¸ ë“±'
        },
        {
          id: 'router',
          emoji: 'ğŸ—ºï¸',
          name: 'ë¼ìš°í„°',
          subtitle: 'ê¸¸ ì°¾ê¸° ì „ë¬¸ê°€',
          color: 'blue',
          image: 'src/router.png',
          description: 'ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì—°ê²°í•˜ê³  IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœì ì˜ ê²½ë¡œë¥¼ ì°¾ì•„ì£¼ëŠ” ì¥ë¹„ì…ë‹ˆë‹¤.',
          analogy: 'ë‚´ë¹„ê²Œì´ì…˜',
          analogyDesc: 'ë°ì´í„°ê°€ ëª©ì ì§€ê¹Œì§€ ê°€ëŠ” ìµœê³ ì˜ ê¸¸ì„ ì°¾ì•„ì¤ë‹ˆë‹¤',
          features: [
            'ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì—°ê²° (ìš°ë¦¬ì§‘ â†” ì¸í„°ë„·)',
            'IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ì¥ ë¹ ë¥¸ ê¸¸ì„ ì°¾ì•„ìš”',
            'ë°©í™”ë²½ ê¸°ëŠ¥ìœ¼ë¡œ ë‚˜ìœ ë°ì´í„° ì°¨ë‹¨',
            'NAT ê¸°ëŠ¥ìœ¼ë¡œ í•˜ë‚˜ì˜ ê³µì¸ IPë¥¼ ì—¬ëŸ¬ ê¸°ê¸°ê°€ ê³µìœ ',
            'ì§‘ì˜ ì¸í„°ë„· ê³µìœ ê¸°ê°€ ë°”ë¡œ ë¼ìš°í„°ì˜ˆìš”'
          ],
          flow: 'ìš°ë¦¬ ì§‘ ë„¤íŠ¸ì›Œí¬ â†” ë¼ìš°í„°(ê³µìœ ê¸°) â†” ì¸í„°ë„·',
          ports: 'ë³´í†µ WAN 1ê°œ + LAN 4ê°œ í¬íŠ¸'
        }
      ];

      const quizData = [
        {
          id: 1,
          question: 'ë¹›ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ì¼€ì´ë¸”ì€?',
          options: ['UTP ì¼€ì´ë¸”', 'ë™ì¶• ì¼€ì´ë¸”', 'ê´‘ì¼€ì´ë¸”', 'HDMI ì¼€ì´ë¸”'],
          correct: 2,
          explanation: 'ê´‘ì¼€ì´ë¸”ì€ ë¹›(ë ˆì´ì €)ì„ ì´ìš©í•´ ë°ì´í„°ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤. ì „ê¸° ì‹ í˜¸ê°€ ì•„ë‹Œ ë¹›ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë§¤ìš° ë¹ ë¥´ê³  ì „íŒŒ ê°„ì„­ë„ ë°›ì§€ ì•Šì•„ìš”!'
        },
        {
          id: 2,
          question: 'ì§‘ì— ìˆëŠ” ëœì„ ì˜ ì •ì‹ ì´ë¦„ì€?',
          options: ['UTP ì¼€ì´ë¸”', 'USB ì¼€ì´ë¸”', 'ê´‘ì¼€ì´ë¸”', 'ë™ì¶• ì¼€ì´ë¸”'],
          correct: 0,
          explanation: 'UTP ì¼€ì´ë¸”ì€ "Unshielded Twisted Pair"ì˜ ì•½ìë¡œ, ìš°ë¦¬ê°€ í”íˆ "ëœì„ "ì´ë¼ê³  ë¶€ë¥´ëŠ” ì¼€ì´ë¸”ì…ë‹ˆë‹¤.'
        },
        {
          id: 3,
          question: 'MAC ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°›ì„ ì»´í“¨í„°ì—ê²Œë§Œ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ì¥ë¹„ëŠ”?',
          options: ['ìŠ¤ìœ„ì¹­ í—ˆë¸Œ', 'ëª¨ë€', 'ë¦¬í”¼í„°', 'NIC'],
          correct: 0,
          explanation: 'ìŠ¤ìœ„ì¹­ í—ˆë¸ŒëŠ” MAC ì£¼ì†Œë¥¼ í™•ì¸í•˜ì—¬ ë°›ì„ ì»´í“¨í„°ì—ê²Œë§Œ ë°ì´í„°ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤. ë§ˆì¹˜ ìš°ì²´ë¶€ê°€ ì£¼ì†Œë¥¼ ë³´ê³  ì •í™•íˆ ë°°ë‹¬í•˜ëŠ” ê²ƒì²˜ëŸ¼ìš”!'
        },
        {
          id: 4,
          question: 'ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì—°ê²°í•˜ê³  IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ëŠ” ì¥ë¹„ëŠ”?',
          options: ['ìŠ¤ìœ„ì¹­ í—ˆë¸Œ', 'ë¼ìš°í„°', 'ëª¨ë€', 'ë¸Œë¦¬ì§€'],
          correct: 1,
          explanation: 'ë¼ìš°í„°ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì—°ê²°í•˜ê³  IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ê°€ ëª©ì ì§€ê¹Œì§€ ê°€ëŠ” ìµœì ì˜ ê²½ë¡œë¥¼ ì°¾ì•„ì¤ë‹ˆë‹¤.'
        },
        {
          id: 5,
          question: 'ì§‘ì— ìˆëŠ” ì¸í„°ë„· ê³µìœ ê¸°ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?',
          options: ['ìŠ¤ìœ„ì¹­ í—ˆë¸Œ', 'ë¼ìš°í„°', 'ëª¨ë€', 'í—ˆë¸Œ'],
          correct: 1,
          explanation: 'ì§‘ì— ìˆëŠ” ì¸í„°ë„· ê³µìœ ê¸°ëŠ” ë¼ìš°í„°ì…ë‹ˆë‹¤. ìš°ë¦¬ ì§‘ ë„¤íŠ¸ì›Œí¬ì™€ ì¸í„°ë„·ì„ ì—°ê²°í•´ì£¼ê³ , ì—¬ëŸ¬ ê¸°ê¸°ê°€ ì¸í„°ë„·ì„ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤!'
        }
      ];

      const handleQuizAnswer = (questionId, selectedOption) => {
        setQuizAnswers({...quizAnswers, [questionId]: selectedOption});
      };

      const calculateScore = () => {
        let correct = 0;
        quizData.forEach(q => {
          if (quizAnswers[q.id] === q.correct) correct++;
        });
        return correct;
      };

      const submitQuiz = () => {
        setShowQuizResult(true);
      };

      const resetQuiz = () => {
        setQuizAnswers({});
        setShowQuizResult(false);
      };

      const getColorClasses = (color) => {
        const colors = {
          blue: { bg: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-900', gradient: 'from-blue-50 to-cyan-50', accent: 'text-blue-600' },
          orange: { bg: 'bg-orange-50', border: 'border-orange-200', text: 'text-orange-900', gradient: 'from-orange-50 to-yellow-50', accent: 'text-orange-600' },
          purple: { bg: 'bg-purple-50', border: 'border-purple-200', text: 'text-purple-900', gradient: 'from-purple-50 to-pink-50', accent: 'text-purple-600' },
          red: { bg: 'bg-red-50', border: 'border-red-200', text: 'text-red-900', gradient: 'from-red-50 to-orange-50', accent: 'text-red-600' },
          green: { bg: 'bg-green-50', border: 'border-green-200', text: 'text-green-900', gradient: 'from-green-50 to-emerald-50', accent: 'text-green-600' }
        };
        return colors[color] || colors.blue;
      };

      return (
        <div className="max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden">
          {/* í—¤ë” */}
          <div className="bg-gradient-to-r from-teal-700 to-cyan-700 p-6 text-white">
            <div className="flex justify-between items-center mb-2">
              <div className="text-sm text-teal-100">ê³ ë“±í•™êµ ì •ë³´ í•™ìŠµìë£Œ</div>
              <a 
                href="index.html" 
                className="bg-white text-teal-700 px-4 py-2 rounded-lg font-bold text-sm hover:bg-teal-50 transition-all shadow-md hover:shadow-lg flex items-center gap-2"
              >
                ğŸ  í™ˆìœ¼ë¡œ
              </a>
            </div>
            <h1 className="text-3xl font-bold mb-2">ğŸŒ ìœ ì„  ë„¤íŠ¸ì›Œí¬</h1>
            <p className="text-teal-100">ì¼€ì´ë¸”ê³¼ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ì˜ ì„¸ê³„ë¥¼ íƒí—˜í•´ë´…ì‹œë‹¤!</p>
          </div>

          {/* ì†Œê°œ */}
          <div className="bg-gradient-to-r from-teal-50 to-cyan-50 p-6 border-b border-teal-100">
            <div className="space-y-3 text-gray-700">
              <div>
                <h3 className="font-bold text-teal-900 text-lg mb-2">ë„¤íŠ¸ì›Œí¬ëŠ” ì–´ë–»ê²Œ ì—°ê²°ë ê¹Œìš”?</h3>
                <p className="leading-relaxed">
                  ì»´í“¨í„°ë“¤ì€ <span className="font-bold text-blue-600">ì¼€ì´ë¸”</span>ê³¼ <span className="font-bold text-green-600">ë„¤íŠ¸ì›Œí¬ ì¥ë¹„</span>ë¥¼ í†µí•´ ì—°ê²°ë©ë‹ˆë‹¤.
                  ì¼€ì´ë¸”ì€ ë°ì´í„°ê°€ ì§€ë‚˜ê°€ëŠ” <span className="font-bold text-orange-600">ê¸¸</span>ì´ê³ ,
                  ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ëŠ” ë°ì´í„°ë¥¼ <span className="font-bold text-purple-600">ì˜¬ë°”ë¥¸ ëª©ì ì§€</span>ë¡œ ë³´ë‚´ëŠ” ì—­í• ì„ í•´ìš”!
                </p>
              </div>
              
              <div className="grid md:grid-cols-3 gap-4 mt-4">
                <div className="bg-white p-4 rounded-lg shadow-sm">
                  <h4 className="font-bold text-teal-700 mb-2">
                    <span 
                      className="cursor-pointer hover:scale-125 inline-block transition-transform"
                      onClick={(e) => {
                        setTooltipPosition({ x: e.clientX, y: e.clientY });
                        setShowTooltip(true);
                        setTimeout(() => setShowTooltip(false), 500);
                      }}
                    >
                      ğŸ”Œ
                    </span>
                    {' '}ì¼€ì´ë¸”
                  </h4>
                  <p className="text-sm">ë°ì´í„°ê°€ ì´ë™í•˜ëŠ” <span className="font-bold">ë¬¼ë¦¬ì  í†µë¡œ</span></p>
                </div>
                <div className="bg-white p-4 rounded-lg shadow-sm">
                  <h4 className="font-bold text-cyan-700 mb-2">ğŸ¯ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„</h4>
                  <p className="text-sm">ë°ì´í„°ë¥¼ <span className="font-bold">ì˜¬ë°”ë¥´ê²Œ ì „ë‹¬</span>í•˜ëŠ” ì¥ì¹˜</p>
                </div>
                <div className="bg-white p-4 rounded-lg shadow-sm">
                  <h4 className="font-bold text-blue-700 mb-2">ğŸŒ ë„¤íŠ¸ì›Œí¬</h4>
                  <p className="text-sm">ì»´í“¨í„°ë“¤ì´ <span className="font-bold">ì—°ê²°ëœ ë§</span></p>
                </div>
              </div>
            </div>
          </div>

          {/* íƒ­ ë©”ë‰´ */}
          <div className="flex gap-2 p-6 bg-gray-50 border-b border-gray-200 overflow-x-auto">
            <button
              onClick={() => setActiveTab('cables')}
              className={`px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${
                activeTab === 'cables'
                  ? 'bg-gradient-to-r from-teal-600 to-cyan-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-gray-100'
              }`}
            >
              ğŸ“¡ ì¼€ì´ë¸”
            </button>
            <button
              onClick={() => setActiveTab('devices')}
              className={`px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${
                activeTab === 'devices'
                  ? 'bg-gradient-to-r from-teal-600 to-cyan-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-gray-100'
              }`}
            >
              ğŸ”Œ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„
            </button>
            <button
              onClick={() => setActiveTab('experience')}
              className={`px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${
                activeTab === 'experience'
                  ? 'bg-gradient-to-r from-teal-600 to-cyan-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-gray-100'
              }`}
            >
              ğŸ› ï¸ ì§ì ‘ ì²´í—˜í•˜ê¸°
            </button>
            <button
              onClick={() => setActiveTab('comparison')}
              className={`px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${
                activeTab === 'comparison'
                  ? 'bg-gradient-to-r from-teal-600 to-cyan-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-gray-100'
              }`}
            >
              âš–ï¸ ë¹„êµí•˜ê¸°
            </button>
            <button
              onClick={() => setActiveTab('quiz')}
              className={`px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${
                activeTab === 'quiz'
                  ? 'bg-gradient-to-r from-teal-600 to-cyan-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-gray-100'
              }`}
            >
              ğŸ¯ í€´ì¦ˆ
            </button>
          </div>

          {/* ë©”ì¸ ì½˜í…ì¸  */}
          <div className="p-8">
            {/* ì¼€ì´ë¸” íƒ­ */}
            {activeTab === 'cables' && (
              <div className="slide-in">
                <div className="bg-yellow-50 p-4 rounded-lg border border-yellow-300 mb-6">
                  <p className="text-sm font-semibold text-yellow-900 mb-2">ğŸ’¡ í•™ìŠµ ë°©ë²•</p>
                  <p className="text-sm text-gray-700">
                    <span className="font-bold text-teal-600">ì¼€ì´ë¸” ì¹´ë“œë¥¼ í´ë¦­í•´ë³´ì„¸ìš”! </span> 
                    ê° ì¼€ì´ë¸”ì˜ íŠ¹ì§•ê³¼ ìš©ë„ë¥¼ ìì„¸íˆ ì•Œ ìˆ˜ ìˆì–´ìš”.
                  </p>
                </div>

                <div className="grid md:grid-cols-3 gap-6 mb-6">
                  {cables.map(cable => {
                    const colors = getColorClasses(cable.color);
                    return (
                      <div
                        key={cable.id}
                        onClick={() => setSelectedDevice(selectedDevice === cable.id ? null : cable.id)}
                        className={`cursor-pointer transition-all duration-300 hover:scale-105 ${
                          selectedDevice === cable.id ? 'ring-4 ring-teal-400' : ''
                        }`}
                      >
                        <div className={`bg-gradient-to-br ${colors.gradient} p-6 rounded-lg border ${colors.border} shadow-lg h-full`}>
                          <div className="mb-4 rounded-lg overflow-hidden bg-white">
                            <img 
                              src={cable.image} 
                              alt={cable.name}
                              className="w-full h-48 object-cover"
                              onError={(e) => {
                                e.target.style.display = 'none';
                                e.target.nextSibling.style.display = 'flex';
                              }}
                            />
                            <div className="text-6xl h-48 items-center justify-center hidden" style={{display: 'none'}}>
                              {cable.emoji}
                            </div>
                          </div>
                          <h3 className={`text-xl font-bold ${colors.text} mb-2 text-center`}>{cable.name}</h3>
                          <p className="text-sm text-gray-600 text-center mb-4">{cable.subtitle}</p>
                          <div className="space-y-2">
                            <div className="bg-white p-2 rounded text-sm">
                              <span className="font-bold text-gray-700">ì†ë„:</span> {cable.speed}
                            </div>
                            <div className="bg-white p-2 rounded text-sm">
                              <span className="font-bold text-gray-700">ê±°ë¦¬:</span> {cable.distance}
                            </div>
                          </div>
                        </div>
                      </div>
                    );
                  })}
                </div>

                {selectedDevice && cables.find(c => c.id === selectedDevice) && (
                  <div className="slide-in">
                    {cables.filter(c => c.id === selectedDevice).map(cable => {
                      const colors = getColorClasses(cable.color);
                      return (
                        <div key={cable.id} className={`bg-gradient-to-r ${colors.gradient} p-6 rounded-lg border ${colors.border}`}>
                          <div className="flex items-center gap-3 mb-4">
                            <span className="text-4xl">{cable.emoji}</span>
                            <h3 className={`text-2xl font-bold ${colors.text}`}>{cable.name}</h3>
                          </div>
                          
                          <div className="bg-white p-4 rounded-lg mb-4">
                            <img 
                              src={cable.image} 
                              alt={cable.name}
                              className="w-full h-64 object-cover rounded-lg mb-3"
                            />
                            <p className="text-gray-700 leading-relaxed">{cable.description}</p>
                          </div>

                          <div className="bg-white p-4 rounded-lg mb-4">
                            <h4 className={`font-bold ${colors.accent} mb-3`}>ğŸ¯ ì£¼ìš” íŠ¹ì§•</h4>
                            <ul className="space-y-2">
                              {cable.features.map((feature, idx) => (
                                <li key={idx} className="flex items-start gap-2">
                                  <span className="text-teal-600">âœ“</span>
                                  <span className="text-sm text-gray-700">{feature}</span>
                                </li>
                              ))}
                            </ul>
                          </div>

                          <div className="bg-teal-100 p-4 rounded-lg border-2 border-teal-400">
                            <p className="text-sm font-bold text-teal-900 mb-1">ğŸ  ì‹¤ìƒí™œ ì˜ˆì‹œ</p>
                            <p className="text-sm text-gray-700">{cable.realLife}</p>
                          </div>
                        </div>
                      );
                    })}
                  </div>
                )}
              </div>
            )}

            {/* ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ íƒ­ */}
            {activeTab === 'devices' && (
              <div className="slide-in">
                <div className="bg-yellow-50 p-4 rounded-lg border border-yellow-300 mb-6">
                  <p className="text-sm font-semibold text-yellow-900 mb-2">ğŸ’¡ í•™ìŠµ ë°©ë²•</p>
                  <p className="text-sm text-gray-700">
                    <span className="font-bold text-teal-600">ì¥ë¹„ ì¹´ë“œë¥¼ í´ë¦­í•´ë³´ì„¸ìš”! </span> 
                    ê° ì¥ë¹„ì˜ ì—­í• ê³¼ ë¹„ìœ ë¥¼ í†µí•´ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì–´ìš”.
                  </p>
                </div>

                <div className="grid md:grid-cols-2 gap-6 mb-6">
                  {devices.map(device => {
                    const colors = getColorClasses(device.color);
                    return (
                      <div
                        key={device.id}
                        onClick={() => setSelectedDevice(selectedDevice === device.id ? null : device.id)}
                        className={`cursor-pointer transition-all duration-300 hover:scale-105 ${
                          selectedDevice === device.id ? 'ring-4 ring-teal-400' : ''
                        }`}
                      >
                        <div className={`bg-gradient-to-br ${colors.gradient} p-6 rounded-lg border ${colors.border} shadow-lg h-full`}>
                          <div className="mb-4 rounded-lg overflow-hidden bg-white">
                            <img 
                              src={device.image} 
                              alt={device.name}
                              className="w-full h-48 object-cover"
                              onError={(e) => {
                                e.target.style.display = 'none';
                                e.target.nextSibling.style.display = 'flex';
                              }}
                            />
                            <div className="text-6xl h-48 items-center justify-center hidden" style={{display: 'none'}}>
                              {device.emoji}
                            </div>
                          </div>
                          <h3 className={`text-xl font-bold ${colors.text} mb-2 text-center`}>{device.name}</h3>
                          <p className="text-sm text-gray-600 text-center mb-4">{device.subtitle}</p>
                          <div className="space-y-2">
                            <div className="bg-white p-3 rounded text-center">
                              <p className="text-sm font-bold text-gray-700 mb-1">ë¹„ìœ </p>
                              <p className={`text-lg font-bold ${colors.accent}`}>{device.analogy}</p>
                            </div>
                            <div className="bg-white p-2 rounded text-sm">
                              <span className="font-bold text-gray-700">í¬íŠ¸:</span> {device.ports}
                            </div>
                          </div>
                        </div>
                      </div>
                    );
                  })}
                </div>

                {selectedDevice && devices.find(d => d.id === selectedDevice) && (
                  <div className="slide-in">
                    {devices.filter(d => d.id === selectedDevice).map(device => {
                      const colors = getColorClasses(device.color);
                      return (
                        <div key={device.id} className={`bg-gradient-to-r ${colors.gradient} p-6 rounded-lg border ${colors.border}`}>
                          <div className="flex items-center gap-3 mb-4">
                            <span className="text-4xl">{device.emoji}</span>
                            <h3 className={`text-2xl font-bold ${colors.text}`}>{device.name}</h3>
                          </div>
                          
                          <div className="bg-white p-4 rounded-lg mb-4">
                            <img 
                              src={device.image} 
                              alt={device.name}
                              className="w-full h-64 object-cover rounded-lg mb-3"
                            />
                            <p className="text-gray-700 leading-relaxed">{device.description}</p>
                          </div>

                          <div className="bg-white p-4 rounded-lg mb-4">
                            <h4 className={`font-bold ${colors.accent} mb-2`}>ğŸ­ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°</h4>
                            <div className="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                              <span className="text-3xl">{device.analogy === 'ìš°ì²´ë¶€' ? 'ğŸ“®' : 'ğŸ§­'}</span>
                              <div>
                                <p className={`font-bold ${colors.accent}`}>{device.analogy}</p>
                                <p className="text-sm text-gray-600">{device.analogyDesc}</p>
                              </div>
                            </div>
                          </div>

                          <div className="bg-white p-4 rounded-lg mb-4">
                            <h4 className={`font-bold ${colors.accent} mb-3`}>ğŸ¯ ì£¼ìš” íŠ¹ì§•</h4>
                            <ul className="space-y-2">
                              {device.features.map((feature, idx) => (
                                <li key={idx} className="flex items-start gap-2">
                                  <span className="text-teal-600">âœ“</span>
                                  <span className="text-sm text-gray-700">{feature}</span>
                                </li>
                              ))}
                            </ul>
                          </div>

                          <div className="bg-teal-100 p-4 rounded-lg border-2 border-teal-400">
                            <p className="text-sm font-bold text-teal-900 mb-1">ğŸ”„ ë°ì´í„° íë¦„</p>
                            <p className="text-sm text-gray-700 font-mono">{device.flow}</p>
                          </div>
                        </div>
                      );
                    })}
                  </div>
                )}
              </div>
            )}

            {/* ë¹„êµ íƒ­ */}
            {activeTab === 'comparison' && (
              <div className="slide-in space-y-6">
                <div className="bg-gradient-to-r from-blue-50 to-cyan-50 p-5 rounded-lg border border-blue-200">
                  <h3 className="text-lg font-bold text-blue-900 mb-4">ğŸ“¡ ì¼€ì´ë¸” ë¹„êµí‘œ</h3>
                  <div className="overflow-x-auto">
                    <table className="w-full bg-white rounded-lg overflow-hidden shadow-sm">
                      <thead>
                        <tr className="bg-gradient-to-r from-teal-600 to-cyan-600 text-white">
                          <th className="p-3 text-left">í•­ëª©</th>
                          <th className="p-3 text-center">UTP ì¼€ì´ë¸”</th>
                          <th className="p-3 text-center">ë™ì¶• ì¼€ì´ë¸”</th>
                          <th className="p-3 text-center">ê´‘ì¼€ì´ë¸”</th>
                        </tr>
                      </thead>
                      <tbody className="text-sm">
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ì „ì†¡ ë°©ì‹</td>
                          <td className="p-3 text-center">ì „ê¸° ì‹ í˜¸</td>
                          <td className="p-3 text-center">ì „ê¸° ì‹ í˜¸</td>
                          <td className="p-3 text-center font-bold text-purple-600">ë¹›(ë ˆì´ì €)</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ìµœëŒ€ ì†ë„</td>
                          <td className="p-3 text-center">10Gbps</td>
                          <td className="p-3 text-center">1Gbps</td>
                          <td className="p-3 text-center font-bold text-purple-600">100Gbps+</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ìµœëŒ€ ê±°ë¦¬</td>
                          <td className="p-3 text-center">100m</td>
                          <td className="p-3 text-center">500m</td>
                          <td className="p-3 text-center font-bold text-purple-600">ìˆ˜ì‹­ km</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ê°€ê²©</td>
                          <td className="p-3 text-center">ğŸ’° ì €ë ´</td>
                          <td className="p-3 text-center">ğŸ’°ğŸ’° ì¤‘ê°„</td>
                          <td className="p-3 text-center">ğŸ’°ğŸ’°ğŸ’° ë¹„ìŒˆ</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ì „íŒŒ ê°„ì„­</td>
                          <td className="p-3 text-center">âš ï¸ ì•½í•¨</td>
                          <td className="p-3 text-center">ğŸ‘ ê°•í•¨</td>
                          <td className="p-3 text-center">ğŸ’ª ë§¤ìš° ê°•í•¨</td>
                        </tr>
                        <tr className="hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ì£¼ìš” ìš©ë„</td>
                          <td className="p-3 text-center text-xs">ì§‘, í•™êµ, ì‚¬ë¬´ì‹¤</td>
                          <td className="p-3 text-center text-xs">ì¼€ì´ë¸” TV</td>
                          <td className="p-3 text-center text-xs">í†µì‹ ì‚¬ ê¸°ê°„ë§</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div className="bg-gradient-to-r from-green-50 to-emerald-50 p-5 rounded-lg border border-green-200">
                  <h3 className="text-lg font-bold text-green-900 mb-4">ğŸ”Œ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ ë¹„êµí‘œ</h3>
                  <div className="overflow-x-auto">
                    <table className="w-full bg-white rounded-lg overflow-hidden shadow-sm">
                      <thead>
                        <tr className="bg-gradient-to-r from-teal-600 to-cyan-600 text-white">
                          <th className="p-3 text-left">í•­ëª©</th>
                          <th className="p-3 text-center">ìŠ¤ìœ„ì¹­ í—ˆë¸Œ</th>
                          <th className="p-3 text-center">ë¼ìš°í„°</th>
                        </tr>
                      </thead>
                      <tbody className="text-sm">
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">OSI ê³„ì¸µ</td>
                          <td className="p-3 text-center">2ê³„ì¸µ (ë°ì´í„°ë§í¬)</td>
                          <td className="p-3 text-center">3ê³„ì¸µ (ë„¤íŠ¸ì›Œí¬)</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ì£¼ì†Œ ì‚¬ìš©</td>
                          <td className="p-3 text-center font-bold text-green-600">MAC ì£¼ì†Œ</td>
                          <td className="p-3 text-center font-bold text-blue-600">IP ì£¼ì†Œ</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ë°ì´í„° ì „ì†¡</td>
                          <td className="p-3 text-center">ëª©ì ì§€ í¬íŠ¸ë§Œ</td>
                          <td className="p-3 text-center">ìµœì  ê²½ë¡œ ê³„ì‚°</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ë¹„ìœ </td>
                          <td className="p-3 text-center">ğŸ“® ìš°ì²´ë¶€</td>
                          <td className="p-3 text-center">ğŸ§­ ë‚´ë¹„ê²Œì´ì…˜</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ë„¤íŠ¸ì›Œí¬ ì—°ê²°</td>
                          <td className="p-3 text-center">ê°™ì€ ë„¤íŠ¸ì›Œí¬ë§Œ</td>
                          <td className="p-3 text-center font-bold text-blue-600">ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ì—°ê²°</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ì†ë„</td>
                          <td className="p-3 text-center">ğŸš— ë¹ ë¦„</td>
                          <td className="p-3 text-center">ğŸš— ë¹ ë¦„</td>
                        </tr>
                        <tr className="border-b border-gray-100 hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ë³´ì•ˆ</td>
                          <td className="p-3 text-center">ğŸ”’ ë³´í†µ</td>
                          <td className="p-3 text-center">ğŸ›¡ï¸ ê°•í•¨</td>
                        </tr>
                        <tr className="hover:bg-gray-50">
                          <td className="p-3 font-bold text-gray-700">ì£¼ìš” ì—­í• </td>
                          <td className="p-3 text-center text-xs">ì—¬ëŸ¬ ì»´í“¨í„°ë¥¼ ì—°ê²°</td>
                          <td className="p-3 text-center text-xs">ì¸í„°ë„· ì—°ê²° ë° ê³µìœ </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div className="bg-cyan-100 p-5 rounded-lg border-2 border-cyan-400">
                  <h4 className="font-bold text-cyan-900 mb-3">ğŸ’¡ ì‰½ê²Œ ê¸°ì–µí•˜ê¸°</h4>
                  <div className="grid md:grid-cols-2 gap-3">
                    <div className="bg-white p-3 rounded-lg">
                      <p className="font-bold text-green-600 mb-1">ìŠ¤ìœ„ì¹­ í—ˆë¸Œ = ìš°ì²´ë¶€ ğŸ“®</p>
                      <p className="text-xs text-gray-600">MAC ì£¼ì†Œ ë³´ê³  ì •í™•íˆ ë°°ë‹¬</p>
                    </div>
                    <div className="bg-white p-3 rounded-lg">
                      <p className="font-bold text-blue-600 mb-1">ë¼ìš°í„° = ë‚´ë¹„ê²Œì´ì…˜ ğŸ§­</p>
                      <p className="text-xs text-gray-600">IP ì£¼ì†Œë¡œ ìµœì  ê²½ë¡œ íƒìƒ‰</p>
                    </div>
                  </div>
                </div>
              </div>
            )}

            {/* í€´ì¦ˆ íƒ­ */}
            {activeTab === 'quiz' && (
              <div className="slide-in">
                <div className="bg-gradient-to-r from-purple-50 to-pink-50 p-5 rounded-lg border border-purple-200 mb-6">
                  <h3 className="text-lg font-bold text-purple-900 mb-2">ğŸ¯ ë°°ìš´ ë‚´ìš© í™•ì¸í•˜ê¸°</h3>
                  <p className="text-sm text-gray-700">ì´ {quizData.length}ë¬¸ì œë¥¼ í’€ì–´ë³´ì„¸ìš”!</p>
                </div>

                {!showQuizResult ? (
                  <div className="space-y-6">
                    {quizData.map((quiz, qIdx) => (
                      <div key={quiz.id} className="bg-white p-5 rounded-lg border border-gray-200 shadow-sm">
                        <h4 className="font-bold text-gray-800 mb-4">
                          Q{qIdx + 1}. {quiz.question}
                        </h4>
                        <div className="space-y-2">
                          {quiz.options.map((option, oIdx) => {
                            const isSelected = quizAnswers[quiz.id] === oIdx;
                            const isCorrect = quiz.correct === oIdx;
                            let bgColor = 'bg-gray-50 hover:bg-gray-100';
                            if (quizAnswers[quiz.id] !== undefined) {
                              if (oIdx === quiz.correct) {
                                bgColor = 'bg-green-100 border-green-400';
                              } else if (isSelected && !isCorrect) {
                                bgColor = 'bg-red-100 border-red-400';
                              }
                            }
                            return (
                              <button
                                key={oIdx}
                                onClick={() => handleQuizAnswer(quiz.id, oIdx)}
                                disabled={quizAnswers[quiz.id] !== undefined}
                                className={`w-full text-left p-3 rounded-lg border-2 transition-all ${bgColor} ${
                                  quizAnswers[quiz.id] === undefined ? 'cursor-pointer' : 'cursor-not-allowed'
                                }`}
                              >
                                {oIdx + 1}. {option}
                                {quizAnswers[quiz.id] !== undefined && oIdx === quiz.correct && (
                                  <span className="ml-2 text-green-600 font-bold">âœ“ ì •ë‹µ</span>
                                )}
                                {isSelected && !isCorrect && (
                                  <span className="ml-2 text-red-600 font-bold">âœ—</span>
                                )}
                              </button>
                            );
                          })}
                        </div>
                        
                        {quizAnswers[quiz.id] !== undefined && (
                          <div className="mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200">
                            <p className="text-sm text-gray-700">
                              <span className="font-bold text-blue-600">ì„¤ëª…:</span> {quiz.explanation}
                            </p>
                          </div>
                        )}
                      </div>
                    ))}

                    {Object.keys(quizAnswers).length === quizData.length && (
                      <button
                        onClick={submitQuiz}
                        className="w-full py-4 bg-gradient-to-r from-teal-600 to-cyan-600 text-white font-bold rounded-lg hover:from-teal-700 hover:to-cyan-700 transition-all"
                      >
                        ê²°ê³¼ í™•ì¸í•˜ê¸°
                      </button>
                    )}
                  </div>
                ) : (
                  <div className="text-center">
                    <div className="bg-gradient-to-r from-green-50 to-emerald-50 p-8 rounded-lg border border-green-200 mb-6">
                      <h3 className="text-3xl font-bold text-green-900 mb-4">ğŸ‰ í€´ì¦ˆ ì™„ë£Œ!</h3>
                      <div className="text-6xl font-bold text-teal-600 mb-4">
                        {calculateScore()} / {quizData.length}
                      </div>
                      <p className="text-lg text-gray-700">
                        {calculateScore() === quizData.length
                          ? 'ì™„ë²½í•´ìš”! ëª¨ë“  ë¬¸ì œë¥¼ ë§íˆì…¨ë„¤ìš”! ğŸŠ'
                          : calculateScore() >= quizData.length * 0.7
                          ? 'ì˜í•˜ì…¨ì–´ìš”! ì¡°ê¸ˆë§Œ ë” ê³µë¶€í•˜ë©´ ì™„ë²½í•  ê±°ì˜ˆìš”! ğŸ‘'
                          : 'ë‹¤ì‹œ í•œ ë²ˆ ë³µìŠµí•´ë³´ì„¸ìš”! ğŸ’ª'}
                      </p>
                    </div>
                    <button
                      onClick={resetQuiz}
                      className="px-8 py-4 bg-gradient-to-r from-teal-600 to-cyan-600 text-white font-bold rounded-lg hover:from-teal-700 hover:to-cyan-700 transition-all"
                    >
                      ë‹¤ì‹œ í’€ê¸°
                    </button>
                  </div>
                )}
              </div>
            )}

            {/* â”€â”€ ì§ì ‘ ì²´í—˜í•˜ê¸° íƒ­ â”€â”€ */}
            {activeTab === 'experience' && (
              <div className="slide-in space-y-8">

                {/* ì•ˆë‚´ */}
                <div className="bg-gradient-to-r from-orange-50 to-rose-50 p-5 rounded-xl border-2 border-orange-200">
                  <h3 className="text-lg font-bold text-orange-900 mb-2">ğŸ› ï¸ ì§ì ‘ ì²´í—˜í•´ë´ìš”!</h3>
                  <p className="text-sm text-gray-700 leading-relaxed">
                    ì•ì—ì„œ ë°°ìš´ ì¼€ì´ë¸”ê³¼ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ë¥¼ ì´ì œ ì§ì ‘ ì‚¬ìš©í•´ë³¼ ì°¨ë¡€ì˜ˆìš”!<br/>
                    ì•„ë˜ ì„¸ ê°€ì§€ ì²´í—˜ì„ í•˜ë‚˜ì”© í•´ë³´ë©´ì„œ ë„¤íŠ¸ì›Œí¬ê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ëˆˆìœ¼ë¡œ í™•ì¸í•´ë´ìš”. ğŸ˜Š
                  </p>
                </div>

                {/* ì²´í—˜ 1 */}
                <div className="rounded-xl border-2 border-teal-300 overflow-hidden shadow-lg">
                  <div className="bg-gradient-to-r from-teal-600 to-cyan-600 text-white px-6 py-4 flex items-center gap-3">
                    <span className="text-3xl">ğŸ—ï¸</span>
                    <div>
                      <div className="font-bold text-lg">ì²´í—˜ 1. ë„¤íŠ¸ì›Œí¬ ì§ì ‘ êµ¬ì„±í•˜ê¸°</div>
                      <div className="text-teal-100 text-sm mt-1">ì¥ë¹„ë¥¼ ë“œë˜ê·¸í•´ì„œ ì—°ê²°í•˜ê³ , ë¯¸ì…˜ì„ ì™„ì„±í•´ë´ìš”!</div>
                    </div>
                  </div>
                  <div id="exp1-root" style={{minHeight:'660px', background:'#f8fafc'}}></div>
                </div>

                {/* ì²´í—˜ 2 */}
                <div className="rounded-xl border-2 border-purple-300 overflow-hidden shadow-lg">
                  <div className="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4 flex items-center gap-3">
                    <span className="text-3xl">ğŸ¯</span>
                    <div>
                      <div className="font-bold text-lg">ì²´í—˜ 2. ì¼€ì´ë¸” ì„ íƒ ë¯¸ì…˜</div>
                      <div className="text-purple-100 text-sm mt-1">ìƒí™©ì— ë§ëŠ” ì¼€ì´ë¸”ì„ ì§ì ‘ ê³¨ë¼ë´ìš”!</div>
                    </div>
                  </div>
                  <div id="exp2-root" style={{background:'#f8fafc', padding:'20px'}}></div>
                </div>

                {/* ì²´í—˜ 3 */}
                <div className="rounded-xl border-2 border-blue-300 overflow-hidden shadow-lg">
                  <div className="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 flex items-center gap-3">
                    <span className="text-3xl">ğŸ“¡</span>
                    <div>
                      <div className="font-bold text-lg">ì²´í—˜ 3. íŒ¨í‚· ì „ì†¡ ì²´í—˜</div>
                      <div className="text-blue-100 text-sm mt-1">ë°ì´í„°ê°€ ì–´ë–¤ ê²½ë¡œë¡œ ì´ë™í•˜ëŠ”ì§€ ëˆˆìœ¼ë¡œ í™•ì¸í•´ë´ìš”!</div>
                    </div>
                  </div>
                  <div id="exp3-root" style={{background:'#f8fafc', padding:'20px'}}></div>
                </div>

              </div>
            )}
          </div>

          <div className="mt-6 text-center p-6">
            <a 
              href="index.html" 
              className="inline-block bg-gradient-to-r from-teal-700 to-cyan-700 text-white px-8 py-3 rounded-lg font-bold text-lg hover:from-teal-800 hover:to-cyan-800 transition-all shadow-lg hover:shadow-xl"
            >
              ğŸ  í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
            </a>
          </div>

          {showTooltip && (
          <div 
            className="tooltip"
            style={{
              top: `${tooltipPosition.y}px`,
              left: `${tooltipPosition.x}px`,
              transform: 'translate(-50%, -100%)'
            }}
          >
            ì°¸ìƒˆë‹¤! 
          </div>
          )}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<WiredNetworkEducation />);
  </script>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ì§ì ‘ ì²´í—˜í•˜ê¸° â€” CSS + JS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<style>
:root {
  --xbg:#f8fafc; --xsf:#ffffff; --xsf2:#f1f5f9; --xbd:#cbd5e1;
  --xac:#0ea5e9; --xac2:#16a34a; --xac3:#ea580c; --xac4:#9333ea;
  --xtx:#1e293b; --xdm:#64748b;
  --xutp:#ca8a04; --xcox:#c2410c; --xfib:#7c3aed;
  --xok:#16a34a; --xer:#dc2626; --xwn:#d97706;
}
.xw{font-family:'Malgun Gothic',sans-serif;color:var(--xtx);}
.xw *{box-sizing:border-box;margin:0;padding:0;}

/* â”€â”€ ì²´í—˜1: ë¹Œë” â”€â”€ */
.xbuilder{display:grid;grid-template-columns:190px 1fr 255px;gap:12px;padding:16px;min-height:640px;background:var(--xbg);}
.xpanel{background:var(--xsf);border:1px solid var(--xbd);border-radius:12px;padding:14px;box-shadow:0 1px 4px rgba(0,0,0,0.06);}
.xptitle{font-size:13px;font-weight:700;letter-spacing:0.5px;color:#0f172a;margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid var(--xbd);}
.xdevitem{display:flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--xbd);border-radius:8px;margin-bottom:6px;cursor:grab;background:var(--xsf2);transition:all 0.2s;user-select:none;}
.xdevitem:hover{border-color:var(--xac);transform:translateX(3px);background:#e0f2fe;}
.xcopt{display:flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--xbd);border-radius:8px;cursor:pointer;font-size:13px;font-weight:700;color:var(--xtx);transition:all 0.2s;margin-bottom:6px;}
.xcopt:hover,.xcopt.sel{border-color:var(--xac);background:#e0f2fe;color:#0369a1;}
.xcdot{width:10px;height:10px;border-radius:50%;flex-shrink:0;}
#xcanvas{position:relative;background:#f0f9ff;border:2px dashed var(--xbd);border-radius:12px;overflow:hidden;min-height:570px;}
#xcanvas.xdover{border-color:var(--xac);background:#e0f2fe;}
.xchint{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:var(--xdm);pointer-events:none;}
.xchint .hi{font-size:36px;margin-bottom:8px;}
.xchint p{font-size:14px;line-height:1.8;color:#64748b;}
#xcsvg{position:absolute;inset:0;width:100%;height:100%;pointer-events:none;z-index:15;}
.xdev{position:absolute;width:74px;text-align:center;z-index:10;user-select:none;cursor:move;}
.xdev .ico{width:58px;height:58px;border:2px solid var(--xbd);border-radius:12px;background:#fff;display:flex;align-items:center;justify-content:center;font-size:24px;margin:0 auto;transition:all 0.2s;cursor:move;box-shadow:0 1px 4px rgba(0,0,0,0.08);}
.xdev .ico:hover{border-color:var(--xac);}
.xdev .ico.conn{border-color:var(--xac2);animation:xpulse 0.8s infinite;}
.xdev .lbl{font-size:12px;font-weight:600;margin-top:4px;color:#374151;}
.xdel{position:absolute;top:-5px;right:-5px;width:16px;height:16px;background:var(--xer);border-radius:50%;font-size:9px;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transition:opacity 0.2s;z-index:20;}
.xdev:hover .xdel{opacity:1;}
.xcln{stroke-width:3;fill:none;stroke-linecap:round;}
.xcutp{stroke:var(--xutp)}.xccox{stroke:var(--xcox)}.xcfib{stroke:var(--xfib)}
.xmodelbl{position:absolute;top:10px;right:10px;padding:5px 10px;border-radius:20px;font-size:12px;font-weight:700;background:rgba(14,165,233,0.1);border:1px solid var(--xac);color:#0369a1;}
.xmodelbl.on{background:rgba(22,163,74,0.1);border-color:var(--xac2);color:#15803d;animation:xpulse 1s infinite;}
.xdev.xblocked .ico{border-color:var(--xer)!important;opacity:0.4;filter:grayscale(60%);}
.xblocklbl{font-size:12px;font-weight:700;color:var(--xer);margin-top:3px;animation:xfadein 0.3s ease;}

/* ë²„íŠ¼ */
.xbtn{padding:8px 13px;border-radius:7px;font-family:'Malgun Gothic',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.2s;border:none;}
.xbtn-pri{background:linear-gradient(135deg,var(--xac),#0369a1);color:#fff;}
.xbtn-pri:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(14,165,233,0.3);}
.xbtn-ok{background:linear-gradient(135deg,var(--xok),#15803d);color:#fff;}
.xbtn-ol{background:#fff;border:1px solid var(--xbd)!important;color:var(--xtx);}
.xbtn-ol:hover{border-color:var(--xac)!important;color:#0369a1;background:#e0f2fe;}

/* ë¯¸ì…˜ íŒ¨ë„ */
.xmsbtn{display:flex;align-items:center;gap:8px;width:100%;padding:9px 10px;border:1px solid var(--xbd);border-radius:8px;background:var(--xsf2);color:var(--xtx);cursor:pointer;font-family:'Malgun Gothic',sans-serif;text-align:left;transition:all 0.2s;font-size:13px;}
.xmsbtn:hover{border-color:var(--xac);background:#e0f2fe;}
.xchkrow{display:flex;align-items:center;gap:7px;padding:3px 0;font-size:13px;color:#374151;}
.xvres{margin-top:10px;display:none;border-radius:8px;padding:12px;font-size:13px;line-height:1.7;}
.xlog{overflow-y:auto;max-height:120px;}
.xlogitem{font-size:12px;font-family:monospace;padding:3px 0;border-bottom:1px solid #e2e8f0;color:#475569;}
.xlogitem.s{color:var(--xok)}.xlogitem.e{color:var(--xer)}.xlogitem.i{color:#0369a1}

/* â”€â”€ ì²´í—˜2: ì¼€ì´ë¸” ë¯¸ì…˜ â”€â”€ */
.xmgrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(290px,1fr));gap:14px;}
.xmcard{background:var(--xsf);border:1px solid var(--xbd);border-radius:12px;padding:16px;box-shadow:0 1px 4px rgba(0,0,0,0.06);}
.xmcard.solved{border-color:var(--xok);background:#f0fdf4;}
.xmcard.shk{animation:xshake 0.4s ease;}
.xchoice{padding:9px 12px;border:1px solid var(--xbd);border-radius:7px;background:var(--xsf2);color:var(--xtx);cursor:pointer;font-family:'Malgun Gothic',sans-serif;font-size:14px;font-weight:600;text-align:left;transition:all 0.2s;display:flex;align-items:center;gap:7px;width:100%;margin-bottom:6px;}
.xchoice:hover{border-color:var(--xac);background:#e0f2fe;}
.xchoice.right{border-color:var(--xok);background:#f0fdf4;color:#15803d;}
.xchoice.wrong{border-color:var(--xer);background:#fef2f2;color:#dc2626;}
.xmres{margin-top:10px;padding:10px;border-radius:7px;font-size:13px;line-height:1.6;display:none;}
.xmres.show{display:block;}
.xmres.ok{background:#f0fdf4;border:1px solid var(--xok);color:#15803d;}
.xmres.ng{background:#fef2f2;border:1px solid var(--xer);color:#dc2626;}
.xdbadge{display:inline-block;padding:2px 8px;border-radius:20px;font-size:12px;font-weight:700;}
.xdb-e{background:#dcfce7;color:#15803d;}
.xdb-m{background:#fef9c3;color:#a16207;}
.xdb-h{background:#fee2e2;color:#dc2626;}
.xmbanner{background:linear-gradient(135deg,#e0f2fe,#f0fdf4);border:1px solid var(--xac2);border-radius:8px;padding:14px;text-align:center;margin-bottom:14px;display:none;}
.xmbanner.show{display:block;animation:xfadein 0.4s ease;}

/* â”€â”€ ì²´í—˜3: íŒ¨í‚· â”€â”€ */
.xpwrap{display:grid;grid-template-columns:1fr 270px;gap:12px;padding:16px;background:var(--xbg);}
.xndiag{position:relative;width:100%;height:330px;}
.xnnode{position:absolute;width:74px;text-align:center;}
.xnnode .nb{width:58px;height:58px;border:2px solid var(--xbd);border-radius:12px;background:#fff;display:flex;align-items:center;justify-content:center;font-size:24px;margin:0 auto;transition:all 0.3s;box-shadow:0 1px 4px rgba(0,0,0,0.08);}
.xnnode.act .nb{border-color:var(--xac);box-shadow:0 0 16px rgba(14,165,233,0.4);}
.xnnode.snd .nb{border-color:var(--xac3);box-shadow:0 0 16px rgba(234,88,12,0.4);}
.xnnode.blk .nb{border-color:var(--xer);opacity:0.4;filter:grayscale(60%);}
.xnnode .nl{font-size:12px;font-weight:700;margin-top:4px;color:#374151;}
.xnnode .na{font-size:11px;font-family:monospace;color:#64748b;margin-top:2px;line-height:1.3;}
.xblkmark{font-size:12px;font-weight:700;color:var(--xer);margin-top:2px;animation:xfadein 0.3s ease;}
#xpsvg{position:absolute;inset:0;width:100%;height:100%;pointer-events:none;}
.xncable{stroke-width:2.5;fill:none;stroke:var(--xutp);opacity:0.6;}
.xpkt{fill:var(--xac2);filter:drop-shadow(0 0 6px #16a34a);}
.xscbtn{padding:7px 11px;border:1px solid var(--xbd);border-radius:7px;background:var(--xsf);color:#374151;cursor:pointer;font-family:'Malgun Gothic',sans-serif;font-size:13px;font-weight:700;transition:all 0.2s;margin:3px;}
.xscbtn.act,.xscbtn:hover{border-color:var(--xac);color:#0369a1;background:#e0f2fe;}
.xpbox{background:var(--xsf2);border:1px solid var(--xbd);border-radius:8px;padding:10px;margin-bottom:10px;}
.xpbox .xlbl{font-size:12px;letter-spacing:0.5px;color:#64748b;font-weight:700;margin-bottom:6px;}
.xpaf{display:flex;justify-content:space-between;align-items:center;padding:3px 0;border-bottom:1px solid #e2e8f0;font-size:13px;}
.xpaf:last-child{border-bottom:none;}
.xpak{color:#475569;font-weight:600;}.xpav{font-family:monospace;color:#0369a1;font-size:12px;}
.xsteplog{background:var(--xsf2);border:1px solid var(--xbd);border-radius:8px;padding:10px;height:170px;overflow-y:auto;}
.xstepitem{font-size:13px;font-family:monospace;padding:4px 0;border-bottom:1px solid #e2e8f0;color:#475569;line-height:1.4;white-space:pre-line;}
.xstepitem.act{color:#15803d;font-weight:600;}

@keyframes xpulse{0%,100%{opacity:1}50%{opacity:0.5}}
@keyframes xfadein{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
@keyframes xshake{0%,100%{transform:translateX(0)}25%{transform:translateX(-7px)}75%{transform:translateX(7px)}}
</style>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ì§ì ‘ ì²´í—˜í•˜ê¸° JS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ì²´í—˜1: ë„¤íŠ¸ì›Œí¬ êµ¬ì„±
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const XM = [
  { id:0, emoji:'ğŸ«', title:'ë¯¸ì…˜ 1 Â· êµì‹¤ LAN ë§Œë“¤ê¸°', diff:'ê¸°ì´ˆ',
    desc:'ì»´í“¨í„°ì‹¤ PC 3ëŒ€ë¥¼ ìŠ¤ìœ„ì¹­ í—ˆë¸Œ 1ëŒ€ì—\nUTP ì¼€ì´ë¸”ë¡œ ì—°ê²°í•´ë´ìš”!\nâ†’ ê°™ì€ ë„¤íŠ¸ì›Œí¬ ì•ˆì—ì„œ íŒŒì¼ì„ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆì–´ìš”.',
    hint:'â‘  PC ğŸ’» 3ê°œì™€ ìŠ¤ìœ„ì¹­ í—ˆë¸Œ ğŸ”€ 1ê°œë¥¼ ë“œë˜ê·¸í•´ì„œ ì˜¬ë ¤ë†“ì•„ìš”.\nâ‘¡ "ì—°ê²° ëª¨ë“œ" ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.\nâ‘¢ PCë¥¼ í´ë¦­ â†’ í—ˆë¸Œë¥¼ í´ë¦­í•˜ë©´ ì¼€ì´ë¸”ì´ ì—°ê²°ë¼ìš”!\nâ‘£ ì¼€ì´ë¸” ì¢…ë¥˜ëŠ” "UTP (ë…¸ë€ìƒ‰)"ì„ ì„ íƒí•˜ì„¸ìš”.',
    checks:[
      {id:'c1',lbl:'PCê°€ 3ëŒ€ ì´ìƒ ìˆì–´ìš”',fn:s=>s.d.filter(d=>d.t==='pc').length>=3},
      {id:'c2',lbl:'ìŠ¤ìœ„ì¹­ í—ˆë¸Œê°€ 1ëŒ€ ì´ìƒ ìˆì–´ìš”',fn:s=>s.d.filter(d=>d.t==='switch').length>=1},
      {id:'c3',lbl:'ëª¨ë“  PCê°€ í—ˆë¸Œì— ì—°ê²°ë˜ì–´ ìˆì–´ìš”',fn:s=>{
        const pcs=s.d.filter(d=>d.t==='pc'),sws=s.d.filter(d=>d.t==='switch');
        if(!sws.length)return false;
        return pcs.every(p=>s.c.some(c=>(c.f===p.id&&sws.some(w=>w.id===c.t))||(c.t===p.id&&sws.some(w=>w.id===c.f))));
      }},
      {id:'c4',lbl:'UTP ì¼€ì´ë¸”ë¡œ ì—°ê²°í–ˆì–´ìš”',fn:s=>s.c.length>0&&s.c.every(c=>c.tp==='utp')},
    ],
    ok:'ğŸ‰ ì™„ë²½í•´ìš”! ìŠ¤ìœ„ì¹­ í—ˆë¸ŒëŠ” ê° PCì˜ MAC ì£¼ì†Œë¥¼ ê¸°ì–µí•´ì„œ ë°ì´í„°ë¥¼ ë”± ëª©ì ì§€ì—ë§Œ ë³´ë‚´ì¤˜ìš”. ì—¬ëŸ¬ë¶„ì´ ì§„ì§œ LANì„ ë§Œë“  ê±°ì˜ˆìš”!'
  },
  { id:1, emoji:'ğŸ¢', title:'ë¯¸ì…˜ 2 Â· í•™êµ ì¸í„°ë„· ì—°ê²°í•˜ê¸°', diff:'ì¤‘ê¸‰',
    desc:'ì»´í“¨í„°ì‹¤ì—ì„œ ì¸í„°ë„·ì„ ì‚¬ìš©í•˜ë ¤ë©´\nPC â†’ ìŠ¤ìœ„ì¹­ í—ˆë¸Œ â†’ ë¼ìš°í„° ìˆœì„œë¡œ ì—°ê²°í•´ìš”!\nâ†’ ë¼ìš°í„°(ê³µìœ ê¸°)ê°€ ì¸í„°ë„·ìœ¼ë¡œ ë‚˜ê°€ëŠ” ë¬¸ ì—­í• ì„ í•´ìš”.',
    hint:'â‘  PC ğŸ’» 2ëŒ€+, ìŠ¤ìœ„ì¹­ í—ˆë¸Œ ğŸ”€ 1ëŒ€, ë¼ìš°í„° ğŸ—ºï¸ 1ëŒ€ë¥¼ ì˜¬ë ¤ìš”.\nâ‘¡ PCë“¤ì„ í—ˆë¸Œì— ì—°ê²°í•˜ê³ ,\nâ‘¢ í—ˆë¸Œë¥¼ ë¼ìš°í„°ì— ì—°ê²°í•˜ë©´ ì™„ì„±ì´ì—ìš”!',
    checks:[
      {id:'c1',lbl:'PCê°€ 2ëŒ€ ì´ìƒ ìˆì–´ìš”',fn:s=>s.d.filter(d=>d.t==='pc').length>=2},
      {id:'c2',lbl:'ìŠ¤ìœ„ì¹­ í—ˆë¸Œê°€ 1ëŒ€ ìˆì–´ìš”',fn:s=>s.d.filter(d=>d.t==='switch').length>=1},
      {id:'c3',lbl:'ë¼ìš°í„°(ê³µìœ ê¸°)ê°€ 1ëŒ€ ìˆì–´ìš”',fn:s=>s.d.filter(d=>d.t==='router').length>=1},
      {id:'c4',lbl:'PCê°€ í—ˆë¸Œì— ì—°ê²°ë˜ì–´ ìˆì–´ìš”',fn:s=>{
        const pcs=s.d.filter(d=>d.t==='pc'),sws=s.d.filter(d=>d.t==='switch');
        if(!sws.length)return false;
        return pcs.some(p=>s.c.some(c=>(c.f===p.id&&sws.some(w=>w.id===c.t))||(c.t===p.id&&sws.some(w=>w.id===c.f))));
      }},
      {id:'c5',lbl:'í—ˆë¸Œì™€ ë¼ìš°í„°ê°€ ì—°ê²°ë˜ì–´ ìˆì–´ìš”',fn:s=>{
        const sws=s.d.filter(d=>d.t==='switch'),rs=s.d.filter(d=>d.t==='router');
        if(!sws.length||!rs.length)return false;
        return s.c.some(c=>(sws.some(w=>w.id===c.f)&&rs.some(r=>r.id===c.t))||(rs.some(r=>r.id===c.f)&&sws.some(w=>w.id===c.t)));
      }},
    ],
    ok:'ğŸ‰ ì¸í„°ë„· ì—°ê²° ì™„ì„±! PC â†’ ìŠ¤ìœ„ì¹˜(MAC ì£¼ì†Œ ì²˜ë¦¬) â†’ ë¼ìš°í„°(ì¸í„°ë„·ìœ¼ë¡œ!) ì´ íë¦„ì´ ìš°ë¦¬ê°€ ë§¤ì¼ ì“°ëŠ” ì¸í„°ë„·ì˜ ì›ë¦¬ëë‹ˆë‹¤!'
  },
  { id:2, emoji:'ğŸ¥', title:'ë¯¸ì…˜ 3 Â· ë³‘ì› íŠ¹ìˆ˜ ë„¤íŠ¸ì›Œí¬', diff:'ì‹¬í™”',
    desc:'ë³‘ì›ì—ëŠ” MRIì²˜ëŸ¼ ê°•í•œ ì „ìíŒŒë¥¼ ë‚´ë¿œëŠ” ê¸°ê³„ê°€ ìˆì–´ìš”.\nê±´ë¬¼ ì‚¬ì´ ì—°ê²°ì€ ì „ìíŒŒì— ì˜í–¥ ë°›ì§€ ì•ŠëŠ”\nê´‘ì¼€ì´ë¸”ì„ ì‚¬ìš©í•´ì•¼ í•´ìš”!\n[ì¡°ê±´] PC 2ëŒ€+, ì„œë²„ 1ëŒ€+, ìŠ¤ìœ„ì¹˜ 2ëŒ€+, ë¼ìš°í„° 1ëŒ€\ní—ˆë¸Œâ†”í—ˆë¸Œ ë˜ëŠ” í—ˆë¸Œâ†”ë¼ìš°í„° ì‚¬ì´ì— ê´‘ì¼€ì´ë¸” ì‚¬ìš©',
    hint:'â‘  ìŠ¤ìœ„ì¹˜ 2ê°œë¥¼ ê°ê° ë‹¤ë¥¸ ê±´ë¬¼ë¡œ ìƒê°í•´ìš”.\nâ‘¡ PCì™€ ì„œë²„ëŠ” UTPë¡œ ìŠ¤ìœ„ì¹˜ì— ì—°ê²°í•´ìš”.\nâ‘¢ ìŠ¤ìœ„ì¹˜ ì‚¬ì´ ë˜ëŠ” ìŠ¤ìœ„ì¹˜-ë¼ìš°í„° ì‚¬ì´ëŠ”\n   ê´‘ì¼€ì´ë¸”(ë³´ë¼ìƒ‰)ë¡œ ì—°ê²°í•˜ì„¸ìš”!',
    checks:[
      {id:'c1',lbl:'PCê°€ 2ëŒ€ ì´ìƒ ìˆì–´ìš”',fn:s=>s.d.filter(d=>d.t==='pc').length>=2},
      {id:'c2',lbl:'ì„œë²„ê°€ 1ëŒ€ ì´ìƒ ìˆì–´ìš”',fn:s=>s.d.filter(d=>d.t==='server').length>=1},
      {id:'c3',lbl:'ìŠ¤ìœ„ì¹­ í—ˆë¸Œê°€ 2ëŒ€ ì´ìƒ ìˆì–´ìš”',fn:s=>s.d.filter(d=>d.t==='switch').length>=2},
      {id:'c4',lbl:'ë¼ìš°í„°ê°€ 1ëŒ€ ìˆì–´ìš”',fn:s=>s.d.filter(d=>d.t==='router').length>=1},
      {id:'c5',lbl:'ê´‘ì¼€ì´ë¸”ë¡œ ì—°ê²°ëœ êµ¬ê°„ì´ ìˆì–´ìš”',fn:s=>s.c.some(c=>c.tp==='fiber')},
      {id:'c6',lbl:'ê´‘ì¼€ì´ë¸”ì€ í—ˆë¸Œâ†”í—ˆë¸Œ ë˜ëŠ” í—ˆë¸Œâ†”ë¼ìš°í„° ì‚¬ì´ì—ë§Œ ì‚¬ìš©',fn:s=>{
        const sw=s.d.filter(d=>d.t==='switch'),rt=s.d.filter(d=>d.t==='router');
        return s.c.filter(c=>c.tp==='fiber').every(c=>{
          const aOk=sw.some(d=>d.id===c.f)||rt.some(d=>d.id===c.f);
          const bOk=sw.some(d=>d.id===c.t)||rt.some(d=>d.id===c.t);
          return aOk&&bOk;
        });
      }},
    ],
    ok:'ğŸ‰ ë³‘ì› ë„¤íŠ¸ì›Œí¬ ì™„ì„±! ê´‘ì¼€ì´ë¸”ì€ ë¹›ìœ¼ë¡œ ì‹ í˜¸ë¥¼ ì „ë‹¬í•´ì„œ MRIì˜ ê°•í•œ ì „ìê¸°ì¥ì—ë„ ì „í˜€ ì˜í–¥ ë°›ì§€ ì•Šì•„ìš”. ì‹¤ì œ ë³‘ì›ê³¼ ë°ì´í„°ì„¼í„°ì—ì„œë„ ì´ë ‡ê²Œ ì‚¬ìš©í•œë‹µë‹ˆë‹¤!'
  },
];

// ë¹Œë” ìƒíƒœ
let xDevs=[],xCables=[],xCType='utp',xConnMode=false,xConnFirst=null,xDragEl=null,xDragOX=0,xDragOY=0,xDIdx=0,xMIdx=null,xMDone=[false,false,false];

function xB1Init(){
  const root=document.getElementById('exp1-root');
  if(!root||root.dataset.init==='1')return;
  root.dataset.init='1';

  root.innerHTML=`<div class="xw xbuilder">
  <!-- ì™¼ìª½ íŒ”ë ˆíŠ¸ -->
  <div class="xpanel" style="overflow-y:auto;">
    <div class="xptitle">ğŸ“¦ ì¥ë¹„ ëª©ë¡</div>
    <p style="font-size:13px;color:var(--xdm);margin-bottom:8px;">ì•„ë˜ ì¥ë¹„ë¥¼ ìº”ë²„ìŠ¤ë¡œ ë“œë˜ê·¸í•´ì„œ ì˜¬ë ¤ë³´ì„¸ìš”!</p>
    ${[['pc','ğŸ’»','PC(ì»´í“¨í„°)','ë°ì´í„° ì£¼ê³ ë°›ê¸°'],['switch','ğŸ”€','ìŠ¤ìœ„ì¹­ í—ˆë¸Œ','MAC ì£¼ì†Œë¡œ ë°°ë‹¬'],['router','ğŸ—ºï¸','ë¼ìš°í„°(ê³µìœ ê¸°)','IPë¡œ ê²½ë¡œ ì°¾ê¸°'],['server','ğŸ–¥ï¸','ì„œë²„','ë°ì´í„° ì œê³µ']].map(([t,e,n,d])=>`
    <div class="xdevitem" draggable="true" data-t="${t}" data-e="${e}" data-n="${n}">
      <span style="font-size:20px;">${e}</span>
      <div><div style="font-size:13px;font-weight:700;color:#1e293b;">${n}</div><div style="font-size:12px;color:var(--xdm);">${d}</div></div>
    </div>`).join('')}
    <div style="border-top:1px solid var(--xbd);margin:10px 0;"></div>
    <div class="xptitle">ğŸ”Œ ì¼€ì´ë¸” ì„ íƒ</div>
    <div class="xcopt sel" onclick="xSelC('utp',this)"><div class="xcdot" style="background:var(--xutp)"></div><div><div style="font-size:13px;font-weight:700;">UTP ì¼€ì´ë¸”</div><div style="font-size:11px;color:var(--xdm);">ëœì„ Â·100m ì´ë‚´</div></div></div>
    <div class="xcopt" onclick="xSelC('coax',this)"><div class="xcdot" style="background:var(--xcox)"></div><div><div style="font-size:13px;font-weight:700;">ë™ì¶• ì¼€ì´ë¸”</div><div style="font-size:11px;color:var(--xdm);">TVì„ Â·500m ì´ë‚´</div></div></div>
    <div class="xcopt" onclick="xSelC('fiber',this)"><div class="xcdot" style="background:var(--xfib)"></div><div><div style="font-size:13px;font-weight:700;">ê´‘ì¼€ì´ë¸”</div><div style="font-size:11px;color:var(--xdm);">ë¹›ìœ¼ë¡œ ì „ì†¡Â·km+</div></div></div>
  </div>
  <!-- ìº”ë²„ìŠ¤ -->
  <div id="xcanvas">
    <div class="xmodelbl" id="xmlbl">ğŸ“Œ ì¥ë¹„ ë°°ì¹˜ ëª¨ë“œ</div>
    <svg id="xcsvg"></svg>
    <div class="xchint" id="xchint"><div class="hi">ğŸ–±ï¸</div><p>ì™¼ìª½ ì¥ë¹„ë¥¼ ë“œë˜ê·¸í•´ì„œ<br>ì—¬ê¸°ì— ì˜¬ë ¤ë´ìš”!</p></div>
  </div>
  <!-- ì˜¤ë¥¸ìª½ ë¯¸ì…˜ -->
  <div class="xpanel" style="overflow-y:auto;">
    <div class="xptitle">ğŸ—‚ï¸ ë¯¸ì…˜ ì„ íƒ</div>
    <div id="xmslist" style="display:flex;flex-direction:column;gap:5px;margin-bottom:12px;"></div>
    <div id="xmcard" style="display:none;">
      <div class="xptitle" style="margin-top:4px;">ğŸ“‹ í˜„ì¬ ë¯¸ì…˜</div>
      <div style="background:linear-gradient(135deg,#e0f2fe,#f3e8ff);border:1px solid var(--xbd);border-radius:8px;padding:12px;margin-bottom:8px;">
        <div id="xmemoji" style="font-size:26px;text-align:center;margin-bottom:5px;"></div>
        <div id="xmtitle" style="font-size:14px;font-weight:700;margin-bottom:5px;color:#1e293b;"></div>
        <div id="xmdesc" style="font-size:13px;color:#475569;line-height:1.7;white-space:pre-line;"></div>
      </div>
      <div style="background:var(--xsf2);border-radius:8px;padding:10px;margin-bottom:8px;">
        <div style="font-size:12px;font-weight:700;color:#374151;margin-bottom:6px;">âœ… ë‹¬ì„± ì¡°ê±´</div>
        <div id="xchklist"></div>
      </div>
      <div id="xhintbox" style="background:#fefce8;border:1px solid #fde047;border-radius:7px;padding:9px;margin-bottom:8px;display:none;">
        <div style="font-size:12px;font-weight:700;color:#a16207;margin-bottom:3px;">ğŸ’¡ íŒíŠ¸</div>
        <div id="xhinttxt" style="font-size:13px;color:#475569;line-height:1.6;white-space:pre-line;"></div>
      </div>
      <div style="display:flex;gap:5px;flex-wrap:wrap;margin-bottom:7px;">
        <button class="xbtn xbtn-pri" id="xconnbtn" onclick="xTogConn()" style="font-size:13px;padding:7px 11px;">ğŸ”— ì—°ê²° ëª¨ë“œ</button>
        <button class="xbtn xbtn-ol" onclick="xHint()" style="font-size:13px;padding:7px 9px;">ğŸ’¡ íŒíŠ¸</button>
        <button class="xbtn xbtn-ol" onclick="xClear()" style="font-size:13px;padding:7px 9px;">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
      </div>
      <button class="xbtn xbtn-ok" style="width:100%;font-size:14px;" onclick="xVerify()">ğŸ” êµ¬ì„± ê²€ì‚¬í•˜ê¸°</button>
      <div class="xvres" id="xvres"></div>
    </div>
    <div id="xnomission" style="text-align:center;color:var(--xdm);padding:16px 0;font-size:13px;">â˜ï¸ ë¯¸ì…˜ì„ ë¨¼ì € ê³¨ë¼ë³´ì„¸ìš”!</div>
    <div class="xptitle" style="margin-top:10px;">ğŸ“œ ì—°ê²° ê¸°ë¡</div>
    <div class="xlog" id="xblog"><div class="xlogitem i">[ì‹œìŠ¤í…œ] ì¥ë¹„ë¥¼ ë°°ì¹˜í•´ì£¼ì„¸ìš”!</div></div>
  </div>
</div>`;

  // ë¯¸ì…˜ ë²„íŠ¼
  const list=document.getElementById('xmslist');
  XM.forEach((m,i)=>{
    const dc={'ê¸°ì´ˆ':'xdb-e','ì¤‘ê¸‰':'xdb-m','ì‹¬í™”':'xdb-h'}[m.diff];
    const btn=document.createElement('button');
    btn.id=`xmsb${i}`; btn.className='xmsbtn';
    btn.innerHTML=`<span style="font-size:18px;">${m.emoji}</span><div style="flex:1;"><div style="font-size:13px;font-weight:700;">${m.title}</div><span class="xdbadge ${dc}">${m.diff}</span></div><span id="xmsc${i}" style="display:${xMDone[i]?'inline':'none'}">âœ…</span>`;
    btn.onclick=()=>xSelM(i);
    list.appendChild(btn);
  });

  // ë“œë˜ê·¸
  root.querySelectorAll('.xdevitem').forEach(item=>{
    item.addEventListener('dragstart',e=>{
      e.dataTransfer.setData('xt',item.dataset.t);
      e.dataTransfer.setData('xe',item.dataset.e);
      e.dataTransfer.setData('xn',item.dataset.n);
    });
  });
  const cv=document.getElementById('xcanvas');
  cv.addEventListener('dragover',e=>{e.preventDefault();cv.classList.add('xdover');});
  cv.addEventListener('dragleave',()=>cv.classList.remove('xdover'));
  cv.addEventListener('drop',e=>{
    e.preventDefault();cv.classList.remove('xdover');
    const r=cv.getBoundingClientRect();
    xSpawn(e.dataTransfer.getData('xt'),e.dataTransfer.getData('xe'),e.dataTransfer.getData('xn'),
      Math.max(0,e.clientX-r.left-37),Math.max(0,e.clientY-r.top-37));
  });
  document.addEventListener('mousemove',xMM);
  document.addEventListener('mouseup',()=>{xDragEl=null;});
}

function xSelC(t,el){xCType=t;document.querySelectorAll('.xcopt').forEach(e=>e.classList.remove('sel'));el.classList.add('sel');}

function xSelM(i){
  xMIdx=i; const m=XM[i];
  document.querySelectorAll('.xmsbtn').forEach((b,j)=>b.style.borderColor=j===i?'var(--xac)':'var(--xbd)');
  document.getElementById('xnomission').style.display='none';
  document.getElementById('xmcard').style.display='block';
  document.getElementById('xmemoji').textContent=m.emoji;
  document.getElementById('xmtitle').textContent=m.title;
  document.getElementById('xmdesc').textContent=m.desc;
  document.getElementById('xhintbox').style.display='none';
  document.getElementById('xhinttxt').textContent=m.hint;
  document.getElementById('xvres').style.display='none';
  xRenderCL(m); xClear(); xLog(`ğŸ“‹ ${m.title} ì‹œì‘!`,'i');
}

function xRenderCL(m){
  const cl=document.getElementById('xchklist'); cl.innerHTML='';
  m.checks.forEach(c=>{
    const d=document.createElement('div'); d.className='xchkrow'; d.id='xchr'+c.id;
    d.innerHTML=`<span id="xchi${c.id}" style="font-size:13px;min-width:16px;">â¬œ</span><span style="font-size:13px;">${c.lbl}</span>`;
    cl.appendChild(d);
  });
}

function xHint(){const b=document.getElementById('xhintbox');b.style.display=b.style.display==='none'?'block':'none';}

function xSpawn(t,e,n,x,y){
  document.getElementById('xchint').style.display='none';
  const id='xd'+(xDIdx++);
  xDevs.push({id,t,e,n,x,y});
  const cv=document.getElementById('xcanvas');
  const el=document.createElement('div');
  el.className='xdev'; el.id=id; el.style.left=x+'px'; el.style.top=y+'px';
  el.innerHTML=`<div class="xdel" onclick="xDelD('${id}')">âœ•</div><div class="ico" id="xico${id}" onclick="xClickD('${id}')">${e}</div><div class="lbl">${n}</div>`;
  el.addEventListener('mousedown',ev=>{
    if(xConnMode)return;
    xDragEl=el;
    const r=cv.getBoundingClientRect();
    xDragOX=ev.clientX-r.left-parseInt(el.style.left);
    xDragOY=ev.clientY-r.top-parseInt(el.style.top);
  });
  cv.appendChild(el);
  xLog(`[ì¶”ê°€] ${e} ${n}`,'i');
  xLiveChk();
}

function xMM(e){
  if(!xDragEl)return;
  const cv=document.getElementById('xcanvas'); if(!cv)return;
  const r=cv.getBoundingClientRect();
  let nx=e.clientX-r.left-xDragOX, ny=e.clientY-r.top-xDragOY;
  nx=Math.max(0,Math.min(nx,r.width-74)); ny=Math.max(0,Math.min(ny,r.height-84));
  xDragEl.style.left=nx+'px'; xDragEl.style.top=ny+'px';
  const d=xDevs.find(d=>d.id===xDragEl.id);
  if(d){d.x=nx;d.y=ny;} xRedraw();
}

function xClickD(id){
  if(!xConnMode)return;
  const ico=document.getElementById('xico'+id);
  if(!xConnFirst){
    xConnFirst=id;
    document.querySelectorAll('#xcanvas .ico').forEach(e=>e.classList.remove('conn'));
    ico.classList.add('conn');
    xLog(`ì—°ê²° ì‹œì‘: ${xDevs.find(d=>d.id===id).n}`,'i');
  } else {
    if(xConnFirst===id){xConnFirst=null;ico.classList.remove('conn');return;}
    xConnectD(xConnFirst,id);
    xConnFirst=null;
    document.querySelectorAll('#xcanvas .ico').forEach(e=>e.classList.remove('conn'));
  }
}

function xConnectD(a,b){
  const da=xDevs.find(d=>d.id===a), db=xDevs.find(d=>d.id===b);
  if(!da||!db)return;
  if(xCables.find(c=>(c.f===a&&c.t===b)||(c.f===b&&c.t===a))){xLog('ì´ë¯¸ ì—°ê²°ëœ ì¥ë¹„ì˜ˆìš”!','e');return;}
  xCables.push({f:a,t:b,tp:xCType});
  xRedraw();
  xLog(`âœ… ${da.n} â†” ${db.n} [${{utp:'UTP',coax:'ë™ì¶•',fiber:'ê´‘ì¼€ì´ë¸”'}[xCType]}]`,'s');
  xLiveChk();
}

function xRedraw(){
  const svg=document.getElementById('xcsvg'); if(!svg)return;
  svg.innerHTML='';
  xCables.forEach((c,idx)=>{
    const da=xDevs.find(d=>d.id===c.f), db=xDevs.find(d=>d.id===c.t);
    if(!da||!db)return;
    const x1=da.x+37,y1=da.y+29,x2=db.x+37,y2=db.y+29,mx=(x1+x2)/2,my=(y1+y2)/2;
    const g=document.createElementNS('http://www.w3.org/2000/svg','g');
    g.style.cssText='cursor:pointer;pointer-events:all;';
    const ln=document.createElementNS('http://www.w3.org/2000/svg','line');
    ln.setAttribute('x1',x1);ln.setAttribute('y1',y1);ln.setAttribute('x2',x2);ln.setAttribute('y2',y2);
    ln.classList.add('xcln',`xc${c.tp}`);
    const hit=document.createElementNS('http://www.w3.org/2000/svg','line');
    hit.setAttribute('x1',x1);hit.setAttribute('y1',y1);hit.setAttribute('x2',x2);hit.setAttribute('y2',y2);
    hit.setAttribute('stroke','transparent');hit.setAttribute('stroke-width','14');
    const xBg=document.createElementNS('http://www.w3.org/2000/svg','circle');
    xBg.setAttribute('cx',mx);xBg.setAttribute('cy',my);xBg.setAttribute('r','9');
    xBg.setAttribute('fill','#ef4444');xBg.setAttribute('stroke','#fff');xBg.setAttribute('stroke-width','2');
    xBg.style.opacity='0';xBg.style.transition='opacity 0.15s';
    const xT=document.createElementNS('http://www.w3.org/2000/svg','text');
    xT.setAttribute('x',mx);xT.setAttribute('y',my+4);xT.setAttribute('text-anchor','middle');
    xT.setAttribute('fill','white');xT.setAttribute('font-size','10');xT.setAttribute('pointer-events','none');
    xT.textContent='âœ•';xT.style.opacity='0';xT.style.transition='opacity 0.15s';
    g.append(ln,hit,xBg,xT); svg.appendChild(g);
    g.addEventListener('mouseenter',()=>{xBg.style.opacity='1';xT.style.opacity='1';ln.setAttribute('stroke-width','5');});
    g.addEventListener('mouseleave',()=>{xBg.style.opacity='0';xT.style.opacity='0';ln.setAttribute('stroke-width','3');});
    g.addEventListener('click',()=>{
      const ca=xDevs.find(d=>d.id===c.f),cb=xDevs.find(d=>d.id===c.t);
      xCables.splice(idx,1);xRedraw();
      xLog(`ğŸ—‘ï¸ ${ca?.n||'?'} â†” ${cb?.n||'?'} ì‚­ì œ`,'e'); xLiveChk();
    });
  });
}

function xDelD(id){
  xCables=xCables.filter(c=>c.f!==id&&c.t!==id);
  const d=xDevs.find(d=>d.id===id); xDevs=xDevs.filter(d=>d.id!==id);
  document.getElementById(id)?.remove(); xRedraw();
  xLog(`[ì‚­ì œ] ${d?.n||'ì¥ë¹„'}`,'i');
  if(xDevs.length===0)document.getElementById('xchint').style.display='block';
  xLiveChk();
}

function xClear(){
  xDevs=[];xCables=[];xDIdx=0;
  document.querySelectorAll('#xcanvas .xdev').forEach(e=>e.remove());
  xRedraw();
  document.getElementById('xchint').style.display='block';
  document.getElementById('xvres').style.display='none';
  if(xMIdx!==null)xRenderCL(XM[xMIdx]);
  xLog('[ì´ˆê¸°í™”] ìº”ë²„ìŠ¤ë¥¼ ì§€ì› ì–´ìš”','i');
  if(xConnMode)xTogConn();
}

function xTogConn(){
  xConnMode=!xConnMode; xConnFirst=null;
  const btn=document.getElementById('xconnbtn'),lbl=document.getElementById('xmlbl');
  if(xConnMode){
    btn.textContent='âœ‹ ì´ë™ ëª¨ë“œë¡œ';btn.style.background='linear-gradient(135deg,var(--xac2),#15803d)';
    lbl.textContent='ğŸ”— ì—°ê²° ëª¨ë“œ â€” ì¥ë¹„ ë‘ ê°œë¥¼ ì°¨ë¡€ë¡œ í´ë¦­!'; lbl.classList.add('on');
  } else {
    btn.textContent='ğŸ”— ì—°ê²° ëª¨ë“œ'; btn.style.background='';
    lbl.textContent='ğŸ“Œ ì¥ë¹„ ë°°ì¹˜ ëª¨ë“œ'; lbl.classList.remove('on');
  }
}

function xLiveChk(){
  if(xMIdx===null)return;
  XM[xMIdx].checks.forEach(c=>{
    const pass=c.fn({d:xDevs,c:xCables}),ico=document.getElementById('xchi'+c.id);
    if(!ico)return;
    ico.textContent=pass?'âœ…':'â¬œ';
    ico.parentElement.style.color=pass?'var(--xok)':'var(--xdm)';
  });
}

function xVerify(){
  if(xMIdx===null)return;
  const m=XM[xMIdx],st={d:xDevs,c:xCables};
  let allOk=true;const fails=[];
  m.checks.forEach(c=>{
    const pass=c.fn(st),ico=document.getElementById('xchi'+c.id);
    if(pass){ico.textContent='âœ…';ico.parentElement.style.color='var(--xok)';}
    else{ico.textContent='âŒ';ico.parentElement.style.color='var(--xer)';allOk=false;fails.push(c.lbl);}
  });
  const res=document.getElementById('xvres'); res.style.display='block';
  if(allOk){
    res.style.cssText='display:block;background:#f0fdf4;border:1px solid var(--xok);border-radius:8px;padding:12px;font-size:13px;line-height:1.7;color:#15803d;margin-top:10px;';
    res.textContent=m.ok;
    if(!xMDone[xMIdx]){xMDone[xMIdx]=true;const sc=document.getElementById(`xmsc${xMIdx}`);if(sc)sc.style.display='inline';}
  } else {
    res.style.cssText='display:block;background:#fef2f2;border:1px solid var(--xer);border-radius:8px;padding:12px;font-size:13px;line-height:1.7;color:#dc2626;margin-top:10px;';
    res.innerHTML='âŒ ì•„ì§ ì¡°ê±´ì´ ë‹¤ ì±„ì›Œì§€ì§€ ì•Šì•˜ì–´ìš”!<br><br>'+fails.map(f=>`â€¢ ${f}`).join('<br>')+'<br><br>ğŸ’¡ íŒíŠ¸ ë²„íŠ¼ì„ ëˆŒëŸ¬ë´ìš”!';
  }
}

function xLog(msg,t=''){
  const log=document.getElementById('xblog'); if(!log)return;
  const ts=new Date().toLocaleTimeString('ko-KR',{hour:'2-digit',minute:'2-digit',second:'2-digit'});
  const d=document.createElement('div'); d.className='xlogitem '+t; d.textContent=`[${ts}] ${msg}`;
  log.insertBefore(d,log.firstChild);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ì²´í—˜2: ì¼€ì´ë¸” ì„ íƒ ë¯¸ì…˜
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const XMS=[
  {n:1,diff:'ê¸°ì´ˆ',emoji:'ğŸ«',sc:'êµì‹¤ ì•ˆ ì»´í“¨í„° 30ëŒ€ë¥¼ ì—°ê²°í•˜ê³  ì‹¶ì–´ìš”',
   desc:'í•œ êµì‹¤ ì•ˆ(50m ì´ë‚´)ì—ì„œ ì»´í“¨í„° 30ëŒ€ë¥¼ ìŠ¤ìœ„ì¹­ í—ˆë¸Œì— ì—°ê²°í•˜ë ¤ê³  í•´ìš”. ì–´ë–¤ ì¼€ì´ë¸”ì´ ì•Œë§ì„ê¹Œìš”?',
   ch:['UTP ì¼€ì´ë¸” (ëœì„ )','ë™ì¶• ì¼€ì´ë¸”','ê´‘ì¼€ì´ë¸”','HDMI ì¼€ì´ë¸”'],cor:0,
   expl:'âœ… ì •ë‹µ! êµì‹¤ì²˜ëŸ¼ ì§§ì€ ê±°ë¦¬(100m ì´ë‚´)ì—ëŠ” UTP ì¼€ì´ë¸”(ëœì„ )ì´ ë”±ì´ì—ìš”. ì €ë ´í•˜ê³  ì„¤ì¹˜ë„ ì‰¬ì›Œì„œ í•™êµë‚˜ ì§‘ì—ì„œ ê°€ì¥ ë§ì´ ì“´ë‹µë‹ˆë‹¤!'},
  {n:2,diff:'ê¸°ì´ˆ',emoji:'ğŸ“º',sc:'ì§‘ì—ì„œ ì¼€ì´ë¸” TVë¥¼ ì—°ê²°í•˜ë ¤ í•´ìš”',
   desc:'TV ë’¤ì— ê½‚ëŠ” ë‘¥ê·¼ ë‚˜ì‚¬ ëª¨ì–‘ì˜ ì¼€ì´ë¸”ì€ ë¬´ì—‡ì¼ê¹Œìš”?',
   ch:['UTP ì¼€ì´ë¸”','ë™ì¶• ì¼€ì´ë¸”','ê´‘ì¼€ì´ë¸”','USB ì¼€ì´ë¸”'],cor:1,
   expl:'âœ… ì •ë‹µ! TV ë’¤ìª½ì— ê½‚ëŠ” ë‘¥ê·¼ ì¼€ì´ë¸”ì´ ë°”ë¡œ ë™ì¶• ì¼€ì´ë¸”ì´ì—ìš”. ì¤‘ì‹¬ì„  ì£¼ìœ„ë¥¼ ê¸ˆì†ë§ì´ ê°ì‹¸ê³  ìˆì–´ì„œ ì „íŒŒ ê°„ì„­ì— ê°•í•˜ë‹µë‹ˆë‹¤!'},
  {n:3,diff:'ì¤‘ê¸‰',emoji:'ğŸ¢',sc:'ìš´ë™ì¥ ë„ˆë¨¸ ë‹¤ë¥¸ ê±´ë¬¼ê³¼ ì—°ê²°í•´ì•¼ í•´ìš” (200m)',
   desc:'ìš´ë™ì¥ì„ ì‚¬ì´ì— ë‘ê³  200m ë–¨ì–´ì§„ ë‘ ê±´ë¬¼ì„ ì—°ê²°í•´ìš”. UTP ìµœëŒ€ ê±°ë¦¬ëŠ” 100mì¸ë°, ë­˜ ì¨ì•¼ í• ê¹Œìš”?',
   ch:['UTP ì¼€ì´ë¸”','ë™ì¶• ì¼€ì´ë¸”','ê´‘ì¼€ì´ë¸”','ë‘êº¼ìš´ UTP ì¼€ì´ë¸”'],cor:2,
   expl:'âœ… ì •ë‹µ! ê´‘ì¼€ì´ë¸”ì€ ìˆ˜ì‹­ kmê¹Œì§€ ì „ì†¡í•  ìˆ˜ ìˆì–´ìš”. 200mëŠ” ê±°ëœ¬íˆ ì»¤ë²„! ì „íŒŒ ê°„ì„­ë„ ì—†ì–´ì„œ ê±´ë¬¼ ê°„ ì—°ê²°ì— ë”±ì´ì—ìš”!'},
  {n:4,diff:'ì¤‘ê¸‰',emoji:'ğŸŒŠ',sc:'í•œêµ­ê³¼ ì¼ë³¸ ì‚¬ì´ ë°”ë‹·ì†ì„ ì—°ê²°í•´ìš”',
   desc:'í•œêµ­~ì¼ë³¸ ìˆ˜ë°± kmì˜ ë°”ë‹·ì†ìœ¼ë¡œ ì¸í„°ë„· ì¼€ì´ë¸”ì„ ì„¤ì¹˜í•˜ë ¤ê³  í•´ìš”. ì–´ë–¤ ì¼€ì´ë¸”ì´ í•„ìš”í• ê¹Œìš”?',
   ch:['ì•„ì£¼ ë‘êº¼ìš´ UTP ì¼€ì´ë¸”','ë™ì¶• ì¼€ì´ë¸”','ê´‘ì¼€ì´ë¸”','ë¬´ì„ (ì™€ì´íŒŒì´)'],cor:2,
   expl:'âœ… ì •ë‹µ! ë‚˜ë¼ì™€ ë‚˜ë¼ë¥¼ ì‡ëŠ” í•´ì € ì¼€ì´ë¸”ì€ ê´‘ì¼€ì´ë¸”ì´ì—ìš”. ì‹¤ì œë¡œ í•œêµ­~ì¼ë³¸, í•œêµ­~ë¯¸êµ­ì„ ì‡ëŠ” í•´ì € ê´‘ì¼€ì´ë¸”ì´ ìˆë‹µë‹ˆë‹¤!'},
  {n:5,diff:'ì‹¬í™”',emoji:'ğŸ—ï¸',sc:'ë°ì´í„°ì„¼í„° ì„œë²„ ìˆ˜ì²œ ëŒ€ë¥¼ ì´ˆê³ ì†ìœ¼ë¡œ ì—°ê²°í•´ìš”',
   desc:'ë„¤ì´ë²„Â·ì¹´ì¹´ì˜¤ ê°™ì€ íšŒì‚¬ì˜ ë°ì´í„°ì„¼í„°ì—ì„œ ì„œë²„ ìˆ˜ì²œ ëŒ€ë¥¼ 10Gbps ì´ìƒ ì†ë„ë¡œ ì—°ê²°í•´ì•¼ í•´ìš”.',
   ch:['Cat5e UTP ì¼€ì´ë¸”','Cat6 UTP ì¼€ì´ë¸”','ë™ì¶• ì¼€ì´ë¸”','ê´‘ì¼€ì´ë¸” (ë‹¨ê±°ë¦¬ìš©)'],cor:3,
   expl:'âœ… ì •ë‹µ! ë°ì´í„°ì„¼í„°ì—ì„œëŠ” ë‹¨ê±°ë¦¬ ê´‘ì¼€ì´ë¸”ì„ ì¨ìš”. 100Gbps+ ì†ë„ë¥¼ ì§€ì›í•˜ê³  ì „íŒŒ ê°„ì„­ë„ ì—†ì–´ì„œ ëŒ€ê·œëª¨ ì„œë²„ ì—°ê²°ì— ê¼­ í•„ìš”í•´ìš”!'},
  {n:6,diff:'ì‹¬í™”',emoji:'ğŸš‘',sc:'ë³‘ì› â€” MRIÂ·CT ì „ìíŒŒê°€ ì‹¬í•œ í™˜ê²½',
   desc:'MRI, CTì²˜ëŸ¼ ê°•í•œ ì „ìê¸°ì¥ì„ ë‚´ë¿œëŠ” ë³‘ì› í™˜ê²½ì—ì„œë„ ì•ˆì „í•˜ê²Œ ì‘ë™í•˜ëŠ” ì¼€ì´ë¸”ì€ ë¬´ì—‡ì¼ê¹Œìš”?',
   ch:['UTP ì¼€ì´ë¸”','STP ì¼€ì´ë¸” (ì°¨í UTP)','ë™ì¶• ì¼€ì´ë¸”','ê´‘ì¼€ì´ë¸”'],cor:3,
   expl:'âœ… ì •ë‹µ! ê´‘ì¼€ì´ë¸”ì€ ë¹›ì„ ì‚¬ìš©í•´ì„œ ì–´ë–¤ ì „ìíŒŒ ê°„ì„­ë„ ë°›ì§€ ì•Šì•„ìš”. ë³‘ì›ì²˜ëŸ¼ ì „ìíŒŒê°€ ì‹¬í•œ ê³³ì—ì„œ ê°€ì¥ ì•ˆì „í•œ ì„ íƒì´ëë‹ˆë‹¤!'},
];
let xMSolved=new Array(XMS.length).fill(false);

function xB2Init(){
  const root=document.getElementById('exp2-root');
  if(!root||root.dataset.init==='1')return;
  root.dataset.init='1';
  root.innerHTML=`<div class="xw">
    <div class="xmbanner" id="xmbanner">
      <div style="font-size:16px;font-weight:700;color:#15803d;">ğŸ‰ 6ê°œ ë¯¸ì…˜ ëª¨ë‘ ì™„ë£Œ! ì¼€ì´ë¸” ì„ íƒ ì „ë¬¸ê°€ì˜ˆìš”!</div>
    </div>
    <div class="xmgrid" id="xmgrid"></div>
  </div>`;
  const grid=document.getElementById('xmgrid');
  XMS.forEach((m,i)=>{
    const dc={'ê¸°ì´ˆ':'xdb-e','ì¤‘ê¸‰':'xdb-m','ì‹¬í™”':'xdb-h'}[m.diff];
    const card=document.createElement('div');
    card.className='xmcard'; card.id=`xmc${i}`;
    card.innerHTML=`
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
        <div style="font-size:12px;font-weight:700;letter-spacing:0.5px;color:var(--xdm);">MISSION ${m.n}</div>
        <span class="xdbadge ${dc}">${m.diff}</span>
      </div>
      <div style="font-size:30px;text-align:center;margin-bottom:8px;">${m.emoji}</div>
      <div style="font-size:14px;font-weight:700;margin-bottom:6px;color:#1e293b;">${m.sc}</div>
      <div style="font-size:13px;color:#475569;margin-bottom:12px;line-height:1.6;">${m.desc}</div>
      <div id="xmch${i}">${m.ch.map((c,j)=>`<button class="xchoice" onclick="xMChoose(${i},${j},this)"><span>${['ğŸŸ¡','ğŸŸ ','ğŸŸ£','ğŸ”µ'][j]}</span>${c}</button>`).join('')}</div>
      <div class="xmres" id="xmr${i}"></div>`;
    grid.appendChild(card);
  });
}

function xMChoose(mi,ci,el){
  if(xMSolved[mi])return;
  const m=XMS[mi],card=document.getElementById(`xmc${mi}`),res=document.getElementById(`xmr${mi}`);
  card.querySelectorAll('.xchoice').forEach(b=>b.disabled=true);
  if(ci===m.cor){
    el.classList.add('right');
    res.className='xmres show ok'; res.textContent=m.expl;
    card.classList.add('solved'); xMSolved[mi]=true;
    if(xMSolved.every(v=>v))document.getElementById('xmbanner').classList.add('show');
  } else {
    el.classList.add('wrong');
    card.querySelectorAll('.xchoice')[m.cor].classList.add('right');
    res.className='xmres show ng'; res.textContent='âŒ í‹€ë ¸ì–´ìš”! ì´ˆë¡ìƒ‰ì´ ì •ë‹µì´ì—ìš”. '+m.expl;
    card.classList.add('shk'); setTimeout(()=>card.classList.remove('shk'),400);
  }
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ì²´í—˜3: íŒ¨í‚· ì „ì†¡
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const XSC=[
  { name:'ê°™ì€ ë„¤íŠ¸ì›Œí¬ ì „ì†¡',
    nodes:[
      {id:'pc1',e:'ğŸ’»',l:'PC A (ì†¡ì‹ )',a:'192.168.1.10\nMAC: AA:BB:11:22:33:44',x:20,y:110},
      {id:'sw1',e:'ğŸ”€',l:'ìŠ¤ìœ„ì¹­ í—ˆë¸Œ',a:'MAC í…Œì´ë¸” ë³´ìœ ',x:210,y:110},
      {id:'pc2',e:'ğŸ’»',l:'PC B (ìˆ˜ì‹ )',a:'192.168.1.20\nMAC: CC:DD:55:66:77:88',x:405,y:30},
      {id:'pc3',e:'ğŸ’»',l:'PC C (ë¬´ê´€)',a:'192.168.1.30\nMAC: EE:FF:99:88:77:66',x:405,y:195},
    ],
    links:[['pc1','sw1'],['sw1','pc2'],['sw1','pc3']],
    steps:[
      {node:'pc1',msg:'[1] PC Aê°€ PC Bì—ê²Œ ë³´ë‚¼ íŒ¨í‚·ì„ ë§Œë“¤ì–´ìš”\nëª©ì ì§€ IP: 192.168.1.20 / MAC: CC:DD:55:66:77:88'},
      {node:'pc1',msg:'[2] PC A â†’ ìŠ¤ìœ„ì¹­ í—ˆë¸Œë¡œ íŒ¨í‚· ì „ë‹¬ (UTP ì¼€ì´ë¸”)'},
      {node:'sw1',msg:'[3] ìŠ¤ìœ„ì¹­ í—ˆë¸Œê°€ MAC ì£¼ì†Œ í…Œì´ë¸”ì„ í™•ì¸í•´ìš”\nCC:DD:55:66:77:88 â†’ í¬íŠ¸ 2 (PC B ë°©í–¥)'},
      {node:'sw1',msg:'[4] âš¡ í¬íŠ¸ 2(PC B)ì—ë§Œ ì „ë‹¬! PC CëŠ” ì°¨ë‹¨!\nâ†’ ì´ê²ƒì´ ìŠ¤ìœ„ì¹­ í—ˆë¸Œì˜ í•µì‹¬!',blk:'pc3'},
      {node:'pc2',msg:'[5] âœ… PC B ìˆ˜ì‹  ì„±ê³µ! PC CëŠ” ë°›ì§€ ëª»í–ˆì–´ìš”.'},
    ],
    si:'192.168.1.10',sm:'AA:BB:11:22:33:44',di:'192.168.1.20',dm:'CC:DD:55:66:77:88',
    path:['pc1','sw1','pc2'],bat:3,bn:'pc3'
  },
  { name:'ì¸í„°ë„· ì ‘ì†',
    nodes:[
      {id:'pc1',e:'ğŸ’»',l:'ë‚´ PC',a:'192.168.1.5\nAA:BB:CC:01:02:03',x:20,y:120},
      {id:'sw1',e:'ğŸ”€',l:'ìŠ¤ìœ„ì¹˜',a:'',x:180,y:120},
      {id:'rtr',e:'ğŸ—ºï¸',l:'ë¼ìš°í„°(ê³µìœ ê¸°)',a:'192.168.1.1\nê³µì¸IP: 203.0.113.5',x:345,y:120},
      {id:'net',e:'ğŸŒ',l:'ì¸í„°ë„·',a:'203.0.113.0/24',x:500,y:120},
    ],
    links:[['pc1','sw1'],['sw1','rtr'],['rtr','net']],
    steps:[
      {node:'pc1',msg:'[1] êµ¬ê¸€(8.8.8.8) ì ‘ì† ìš”ì²­ íŒ¨í‚·ì„ ë§Œë“¤ì–´ìš”'},
      {node:'sw1',msg:'[2] ìŠ¤ìœ„ì¹˜: MAC ì£¼ì†Œ í™•ì¸ â†’ ë¼ìš°í„° í¬íŠ¸ë¡œ ì „ë‹¬'},
      {node:'rtr',msg:'[3] ë¼ìš°í„°: ëª©ì ì§€ê°€ ì¸í„°ë„· (ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬)!'},
      {node:'rtr',msg:'[4] NAT ë³€í™˜: 192.168.1.5 â†’ ê³µì¸IP 203.0.113.5\n(ì¸í„°ë„· ì¶œì…ì¦ ë°œê¸‰!)'},
      {node:'net',msg:'[5] âœ… ì¸í„°ë„·ìœ¼ë¡œ ì „ì†¡ ì™„ë£Œ! êµ¬ê¸€ ì„œë²„ë¡œ í–¥í•´ìš”~'},
    ],
    si:'192.168.1.5',sm:'AA:BB:CC:01:02:03',di:'8.8.8.8',dm:'(ë¼ìš°í„° MAC)',
    path:['pc1','sw1','rtr','net']
  },
  { name:'ì„œë²„ ìš”ì²­ (ì™•ë³µ)',
    nodes:[
      {id:'pc1',e:'ğŸ’»',l:'í´ë¼ì´ì–¸íŠ¸',a:'192.168.0.10\nMAC: 11:22:33:AA:BB:CC',x:20,y:120},
      {id:'sw1',e:'ğŸ”€',l:'ìŠ¤ìœ„ì¹­ í—ˆë¸Œ',a:'MAC í…Œì´ë¸” ë³´ìœ ',x:210,y:120},
      {id:'sv1',e:'ğŸ–¥ï¸',l:'ì›¹ ì„œë²„',a:'192.168.0.100\nMAC: 44:55:66:DD:EE:FF',x:405,y:35},
      {id:'sv2',e:'ğŸ—„ï¸',l:'DB ì„œë²„',a:'192.168.0.200\nMAC: 77:88:99:AA:BB:CC',x:405,y:205},
    ],
    links:[['pc1','sw1'],['sw1','sv1'],['sw1','sv2']],
    steps:[
      {node:'pc1',msg:'[ìš”ì²­1] í´ë¼ì´ì–¸íŠ¸ â†’ ìŠ¤ìœ„ì¹˜: ì›¹ ì„œë²„ ì ‘ì† ìš”ì²­'},
      {node:'sw1',msg:'[ìš”ì²­2] ìŠ¤ìœ„ì¹˜: MAC í…Œì´ë¸” ì¡°íšŒ â†’ ì›¹ ì„œë²„ í¬íŠ¸ë¡œ ì „ë‹¬'},
      {node:'sv1',msg:'[ìš”ì²­3] ì›¹ ì„œë²„ ìˆ˜ì‹ ! HTML í˜ì´ì§€ ì¤€ë¹„ ì¤‘...'},
      {node:'sv1',msg:'[ì‘ë‹µ1] ì›¹ ì„œë²„ â†’ ìŠ¤ìœ„ì¹˜: ì‘ë‹µ íŒ¨í‚· ì „ì†¡\n(ëª©ì ì§€: í´ë¼ì´ì–¸íŠ¸ 11:22:33:AA:BB:CC)'},
      {node:'sw1',msg:'[ì‘ë‹µ2] ìŠ¤ìœ„ì¹˜: MAC í…Œì´ë¸” ì¡°íšŒ â†’ í´ë¼ì´ì–¸íŠ¸ í¬íŠ¸ë¡œ ì „ë‹¬'},
      {node:'pc1',msg:'[ì‘ë‹µ3] âœ… í´ë¼ì´ì–¸íŠ¸ ìˆ˜ì‹  ì™„ë£Œ! ì›¹ í˜ì´ì§€ í‘œì‹œ!'},
    ],
    si:'192.168.0.10',sm:'11:22:33:AA:BB:CC',di:'192.168.0.100',dm:'44:55:66:DD:EE:FF',
    path:['pc1','sw1','sv1','sw1','pc1']
  },
];
let xPIdx=0,xPAnim=false;

function xB3Init(){
  const root=document.getElementById('exp3-root');
  if(!root||root.dataset.init==='1')return;
  root.dataset.init='1';
  root.innerHTML=`<div class="xw xpwrap">
    <div class="xpanel">
      <div style="margin-bottom:10px;">
    <p style="font-size:13px;color:var(--xdm);margin-bottom:6px;">ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê³¨ë¼ë³´ì„¸ìš”:</p>
        <div>
          <button class="xscbtn act" onclick="xPSel(0,this)">ğŸ  ê°™ì€ ë„¤íŠ¸ì›Œí¬</button>
          <button class="xscbtn" onclick="xPSel(1,this)">ğŸŒ ì¸í„°ë„· ì ‘ì†</button>
          <button class="xscbtn" onclick="xPSel(2,this)">ğŸ–¥ï¸ ì„œë²„ ìš”ì²­(ì™•ë³µ)</button>
        </div>
      </div>
      <div class="xndiag" id="xndiag"><svg id="xpsvg"></svg></div>
    </div>
    <div style="display:flex;flex-direction:column;gap:10px;">
      <div class="xpanel">
        <div class="xptitle">ğŸ“¦ íŒ¨í‚· ì •ë³´</div>
        <div class="xpbox"><div class="xlbl">ì†¡ì‹  ì •ë³´</div>
          <div class="xpaf"><span class="xpak">ì¶œë°œ IP</span><span class="xpav" id="xsrci">-</span></div>
          <div class="xpaf"><span class="xpak">ì¶œë°œ MAC</span><span class="xpav" id="xsrcm">-</span></div>
        </div>
        <div class="xpbox"><div class="xlbl">ìˆ˜ì‹  ì •ë³´</div>
          <div class="xpaf"><span class="xpak">ëª©ì ì§€ IP</span><span class="xpav" id="xdsti">-</span></div>
          <div class="xpaf"><span class="xpak">ëª©ì ì§€ MAC</span><span class="xpav" id="xdstm">-</span></div>
        </div>
        <button class="xbtn xbtn-ok" style="width:100%;margin-top:6px;font-size:14px;" onclick="xPSend()" id="xsendbtn">â–¶ íŒ¨í‚· ì „ì†¡ ì‹œì‘</button>
      </div>
      <div class="xpanel">
        <div class="xptitle">ğŸ“‹ ì „ì†¡ ë‹¨ê³„</div>
        <div class="xsteplog" id="xsteplog"><div class="xstepitem">â–¶ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì‹œì‘ë¼ìš”!</div></div>
      </div>
    </div>
  </div>`;
  xPRender(); xPInfo();
}

function xPSel(i,el){xPIdx=i;document.querySelectorAll('.xscbtn').forEach(b=>b.classList.remove('act'));el.classList.add('act');xPRender();xPClearLog();xPInfo();}
function xPInfo(){const s=XSC[xPIdx];document.getElementById('xsrci').textContent=s.si;document.getElementById('xsrcm').textContent=s.sm;document.getElementById('xdsti').textContent=s.di;document.getElementById('xdstm').textContent=s.dm;}

function xPRender(){
  const s=XSC[xPIdx],diag=document.getElementById('xndiag');
  if(!diag)return;
  diag.querySelectorAll('.xnnode').forEach(e=>e.remove());
  const svg=document.getElementById('xpsvg'); svg.innerHTML='';
  s.links.forEach(([a,b])=>{
    const na=s.nodes.find(n=>n.id===a),nb=s.nodes.find(n=>n.id===b);
    if(!na||!nb)return;
    const ln=document.createElementNS('http://www.w3.org/2000/svg','line');
    ln.setAttribute('x1',na.x+29);ln.setAttribute('y1',na.y+29);ln.setAttribute('x2',nb.x+29);ln.setAttribute('y2',nb.y+29);
    ln.classList.add('xncable'); svg.appendChild(ln);
  });
  s.nodes.forEach(nd=>{
    const el=document.createElement('div');
    el.className='xnnode'; el.id='xpn'+nd.id;
    el.style.left=nd.x+'px'; el.style.top=nd.y+'px';
    el.innerHTML=`<div class="nb">${nd.e}</div><div class="nl">${nd.l}</div>${nd.a?`<div class="na">${nd.a.replace('\n','<br>')}</div>`:''}`;
    diag.appendChild(el);
  });
}

function xPClearLog(){const l=document.getElementById('xsteplog');if(l)l.innerHTML='<div class="xstepitem">â–¶ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì‹œì‘ë¼ìš”!</div>';}

async function xPSend(){
  if(xPAnim)return; xPAnim=true;
  const btn=document.getElementById('xsendbtn'); btn.disabled=true; btn.textContent='ğŸ“¡ ì „ì†¡ ì¤‘...';
  const s=XSC[xPIdx],log=document.getElementById('xsteplog'); log.innerHTML='';
  document.querySelectorAll('.xnnode').forEach(n=>{n.classList.remove('act','snd','blk');n.querySelector('.xblkmark')?.remove();});
  for(let i=0;i<s.steps.length;i++){
    const step=s.steps[i],nEl=document.getElementById('xpn'+step.node);
    document.querySelectorAll('.xnnode').forEach(n=>n.classList.remove('act','snd'));
    if(nEl)nEl.classList.add(i===0?'snd':'act');
    if(s.bat===i&&s.bn){
      const bEl=document.getElementById('xpn'+s.bn);
      if(bEl){bEl.classList.add('blk');const mk=document.createElement('div');mk.className='xblkmark';mk.textContent='ğŸš« ì°¨ë‹¨';bEl.appendChild(mk);}
    }
    const item=document.createElement('div');
    item.className='xstepitem act xfadein'; item.textContent=step.msg;
    log.insertBefore(item,log.firstChild);
    if(i<s.path.length-1)await xPAn(s.nodes,s.path[i],s.path[i+1]);
    await new Promise(r=>setTimeout(r,700));
  }
  xPAnim=false; btn.disabled=false; btn.textContent='â–¶ íŒ¨í‚· ì „ì†¡ ì‹œì‘';
}

function xPAn(nodes,fid,tid){
  return new Promise(resolve=>{
    const svg=document.getElementById('xpsvg');
    const na=nodes.find(n=>n.id===fid),nb=nodes.find(n=>n.id===tid);
    if(!na||!nb){resolve();return;}
    const c=document.createElementNS('http://www.w3.org/2000/svg','circle');
    c.setAttribute('cx',na.x+29);c.setAttribute('cy',na.y+29);c.setAttribute('r','7');
    c.classList.add('xpkt'); svg.appendChild(c);
    const dx=(nb.x+29)-(na.x+29),dy=(nb.y+29)-(na.y+29),dur=650;let st=null;
    function step(ts){
      if(!st)st=ts; const p=Math.min((ts-st)/dur,1);
      c.setAttribute('cx',(na.x+29)+dx*p); c.setAttribute('cy',(na.y+29)+dy*p);
      if(p<1)requestAnimationFrame(step); else{c.remove();resolve();}
    }
    requestAnimationFrame(step);
  });
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   íƒ­ ì „í™˜ ê°ì§€ â†’ ì²´í—˜ ì´ˆê¸°í™”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
document.addEventListener('click', function(e) {
  const btn = e.target.closest('button');
  if (btn && btn.textContent.includes('ì§ì ‘ ì²´í—˜í•˜ê¸°')) {
    setTimeout(() => { xB1Init(); xB2Init(); xB3Init(); }, 150);
  }
});
</script>
</body>
</html>
